2016-09-25 13:50:50,214 p=5818 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 13:50:50,290 p=5818 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 13:50:50,305 p=5818 u=tie |  TASK [raw] *********************************************************************
2016-09-25 13:50:50,937 p=5818 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 13:50:50,950 p=5818 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 13:50:50,957 p=5818 u=tie |  TASK [setup] *******************************************************************
2016-09-25 13:50:51,971 p=5818 u=tie |  ok: [the_tale]
2016-09-25 13:50:51,980 p=5818 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 13:50:52,721 p=5818 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 13:50:52,729 p=5818 u=tie |  TASK [setup basic python packages] *********************************************
2016-09-25 13:50:54,673 p=5818 u=tie |  failed: [the_tale] (item=psycopg2) => {"cmd": "/usr/bin/pip install psycopg2", "failed": true, "item": "psycopg2", "msg": "stdout: Collecting psycopg2\n  Using cached psycopg2-2.6.2.tar.gz\n    Complete output from command python setup.py egg_info:\n    running egg_info\n    creating pip-egg-info/psycopg2.egg-info\n    writing pip-egg-info/psycopg2.egg-info/PKG-INFO\n    writing top-level names to pip-egg-info/psycopg2.egg-info/top_level.txt\n    writing dependency_links to pip-egg-info/psycopg2.egg-info/dependency_links.txt\n    writing manifest file 'pip-egg-info/psycopg2.egg-info/SOURCES.txt'\n    warning: manifest_maker: standard file '-c' not found\n    \n    Error: pg_config executable not found.\n    \n    Please add the directory containing pg_config to the PATH\n    or specify the full executable path with the option:\n    \n        python setup.py build_ext --pg-config /path/to/pg_config build ...\n    \n    or with the pg_config option in 'setup.cfg'.\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-ll_84L/psycopg2/\nYou are using pip version 8.1.1, however version 8.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n"}
2016-09-25 13:50:54,680 p=5818 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 13:50:54,680 p=5818 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 13:50:54,680 p=5818 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 13:50:54,681 p=5818 u=tie |  the_tale                   : ok=3    changed=0    unreachable=0    failed=1   
2016-09-25 13:52:46,743 p=6163 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 13:52:46,819 p=6163 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 13:52:46,834 p=6163 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 13:52:47,732 p=6163 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 13:52:47,739 p=6163 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 13:52:50,900 p=6163 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Collecting pip\r\n  Downloading pip-8.1.2-py2.py3-none-any.whl (1.2MB)\r\n\u001b[?25l\r\u001b[K    0% |▎                               | 10kB 27.2MB/s eta 0:00:01\r\u001b[K    1% |▌                               | 20kB 325kB/s eta 0:00:04\r\u001b[K    2% |▉                               | 30kB 484kB/s eta 0:00:03\r\u001b[K    3% |█                               | 40kB 640kB/s eta 0:00:02\r\u001b[K    4% |█▍                              | 51kB 396kB/s eta 0:00:03\r\u001b[K    5% |█▋                              | 61kB 470kB/s eta 0:00:03\r\u001b[K    5% |██                              | 71kB 540kB/s eta 0:00:03\r\u001b[K    6% |██▏                             | 81kB 613kB/s eta 0:00:02\r\u001b[K    7% |██▌                             | 92kB 688kB/s eta 0:00:02\r\u001b[K    8% |██▊                             | 102kB 759kB/s eta 0:00:02\r\u001b[K    9% |███                             | 112kB 759kB/s eta 0:00:02\r\u001b[K    10% |███▎                            | 122kB 779kB/s eta 0:00:02\r\u001b[K    11% |███▌                            | 133kB 747kB/s eta 0:00:02\r\u001b[K    11% |███▉                            | 143kB 745kB/s eta 0:00:02\r\u001b[K    12% |████                            | 153kB 1.4MB/s eta 0:00:01\r\u001b[K    13% |████▍                           | 163kB 1.4MB/s eta 0:00:01\r\u001b[K    14% |████▋                           | 174kB 1.4MB/s eta 0:00:01\r\u001b[K    15% |█████                           | 184kB 1.4MB/s eta 0:00:01\r\u001b[K    16% |█████▏                          | 194kB 1.4MB/s eta 0:00:01\r\u001b[K    17% |█████▌                          | 204kB 1.4MB/s eta 0:00:01\r\u001b[K    17% |█████▊                          | 215kB 1.4MB/s eta 0:00:01\r\u001b[K    18% |██████                          | 225kB 8.2MB/s eta 0:00:01\r\u001b[K    19% |██████▎                         | 235kB 15.2MB/s eta 0:00:01\r\u001b[K    20% |██████▋                         | 245kB 1.8MB/s eta 0:00:01\r\u001b[K    21% |██████▉                         | 256kB 1.8MB/s eta 0:00:01\r\u001b[K    22% |███████                         | 266kB 1.7MB/s eta 0:00:01\r\u001b[K    23% |███████▍                        | 276kB 1.7MB/s eta 0:00:01\r\u001b[K    23% |███████▋                        | 286kB 1.7MB/s eta 0:00:01\r\u001b[K    24% |████████                        | 296kB 1.7MB/s eta 0:00:01\r\u001b[K    25% |████████▏                       | 307kB 1.7MB/s eta 0:00:01\r\u001b[K    26% |████████▌                       | 317kB 1.7MB/s eta 0:00:01\r\u001b[K    27% |████████▊                       | 327kB 1.7MB/s eta 0:00:01\r\u001b[K    28% |█████████                       | 337kB 1.7MB/s eta 0:00:01\r\u001b[K    29% |█████████▎                      | 348kB 12.0MB/s eta 0:00:01\r\u001b[K    29% |█████████▋                      | 358kB 12.6MB/s eta 0:00:01\r\u001b[K    30% |█████████▉                      | 368kB 17.9MB/s eta 0:00:01\r\u001b[K    31% |██████████▏                     | 378kB 17.5MB/s eta 0:00:01\r\u001b[K    32% |██████████▍                     | 389kB 20.1MB/s eta 0:00:01\r\u001b[K    33% |██████████▋                     | 399kB 20.0MB/s eta 0:00:01\r\u001b[K    34% |███████████                     | 409kB 18.6MB/s eta 0:00:01\r\u001b[K    35% |███████████▏                    | 419kB 20.2MB/s eta 0:00:01\r\u001b[K    35% |███████████▌                    | 430kB 20.0MB/s eta 0:00:01\r\u001b[K    36% |███████████▊                    | 440kB 20.1MB/s eta 0:00:01\r\u001b[K    37% |████████████                    | 450kB 20.5MB/s eta 0:00:01\r\u001b[K    38% |████████████▎                   | 460kB 19.1MB/s eta 0:00:01\r\u001b[K    39% |████████████▋                   | 471kB 20.7MB/s eta 0:00:01\r\u001b[K    40% |████████████▉                   | 481kB 20.3MB/s eta 0:00:01\r\u001b[K    40% |█████████████▏                  | 491kB 18.9MB/s eta 0:00:01\r\u001b[K    41% |█████████████▍                  | 501kB 20.6MB/s eta 0:00:01\r\u001b[K    42% |█████████████▋                  | 512kB 2.0MB/s eta 0:00:01\r\u001b[K    43% |██████████████                  | 522kB 2.0MB/s eta 0:00:01\r\u001b[K    44% |██████████████▏                 | 532kB 1.9MB/s eta 0:00:01\r\u001b[K    45% |██████████████▌                 | 542kB 1.8MB/s eta 0:00:01\r\u001b[K    46% |██████████████▊                 | 552kB 1.8MB/s eta 0:00:01\r\u001b[K    46% |███████████████                 | 563kB 1.8MB/s eta 0:00:01\r\u001b[K    47% |███████████████▎                | 573kB 1.7MB/s eta 0:00:01\r\u001b[K    48% |███████████████▋                | 583kB 1.7MB/s eta 0:00:01\r\u001b[K    49% |███████████████▉                | 593kB 1.6MB/s eta 0:00:01\r\u001b[K    50% |████████████████▏               | 604kB 1.6MB/s eta 0:00:01\r\u001b[K    51% |████████████████▍               | 614kB 6.2MB/s eta 0:00:01\r\u001b[K    52% |████████████████▊               | 624kB 5.8MB/s eta 0:00:01\r\u001b[K    52% |█████████████████               | 634kB 7.0MB/s eta 0:00:01\r\u001b[K    53% |█████████████████▏              | 645kB 7.7MB/s eta 0:00:01\r\u001b[K    54% |█████████████████▌              | 655kB 7.6MB/s eta 0:00:01\r\u001b[K    55% |█████████████████▊              | 665kB 8.5MB/s eta 0:00:01\r\u001b[K    56% |██████████████████              | 675kB 11.8MB/s eta 0:00:01\r\u001b[K    57% |██████████████████▎             | 686kB 12.0MB/s eta 0:00:01\r\u001b[K    58% |██████████████████▋             | 696kB 14.8MB/s eta 0:00:01\r\u001b[K    58% |██████████████████▉             | 706kB 14.2MB/s eta 0:00:01\r\u001b[K    59% |███████████████████▏            | 716kB 17.8MB/s eta 0:00:01\r\u001b[K    60% |███████████████████▍            | 727kB 19.6MB/s eta 0:00:01\r\u001b[K    61% |███████████████████▊            | 737kB 18.4MB/s eta 0:00:01\r\u001b[K    62% |████████████████████            | 747kB 20.0MB/s eta 0:00:01\r\u001b[K    63% |████████████████████▎           | 757kB 19.7MB/s eta 0:00:01\r\u001b[K    64% |████████████████████▌           | 768kB 19.7MB/s eta 0:00:01\r\u001b[K    64% |████████████████████▊           | 778kB 19.8MB/s eta 0:00:01\r\u001b[K    65% |█████████████████████           | 788kB 18.7MB/s eta 0:00:01\r\u001b[K    66% |█████████████████████▎          | 798kB 20.2MB/s eta 0:00:01\r\u001b[K    67% |█████████████████████▋          | 808kB 19.8MB/s eta 0:00:01\r\u001b[K    68% |█████████████████████▉          | 819kB 18.5MB/s eta 0:00:01\r\u001b[K    69% |██████████████████████▏         | 829kB 20.2MB/s eta 0:00:01\r\u001b[K    70% |██████████████████████▍         | 839kB 20.0MB/s eta 0:00:01\r\u001b[K    70% |██████████████████████▊         | 849kB 20.0MB/s eta 0:00:01\r\u001b[K    71% |███████████████████████         | 860kB 20.1MB/s eta 0:00:01\r\u001b[K    72% |███████████████████████▎        | 870kB 18.7MB/s eta 0:00:01\r\u001b[K    73% |███████████████████████▌        | 880kB 19.9MB/s eta 0:00:01\r\u001b[K    74% |███████████████████████▊        | 890kB 19.6MB/s eta 0:00:01\r\u001b[K    75% |████████████████████████        | 901kB 18.3MB/s eta 0:00:01\r\u001b[K    76% |████████████████████████▎       | 911kB 20.0MB/s eta 0:00:01\r\u001b[K    76% |████████████████████████▋       | 921kB 19.8MB/s eta 0:00:01\r\u001b[K    77% |████████████████████████▉       | 931kB 19.7MB/s eta 0:00:01\r\u001b[K    78% |█████████████████████████▏      | 942kB 19.8MB/s eta 0:00:01\r\u001b[K    79% |█████████████████████████▍      | 952kB 18.4MB/s eta 0:00:01\r\u001b[K    80% |█████████████████████████▊      | 962kB 20.0MB/s eta 0:00:01\r\u001b[K    81% |██████████████████████████      | 972kB 20.1MB/s eta 0:00:01\r\u001b[K    81% |██████████████████████████▎     | 983kB 19.4MB/s eta 0:00:01\r\u001b[K    82% |██████████████████████████▌     | 993kB 21.2MB/s eta 0:00:01\r\u001b[K    83% |██████████████████████████▉     | 1.0MB 21.0MB/s eta 0:00:01\r\u001b[K    84% |███████████████████████████     | 1.0MB 21.0MB/s eta 0:00:01\r\u001b[K    85% |███████████████████████████▎    | 1.0MB 21.1MB/s eta 0:00:01\r\u001b[K    86% |███████████████████████████▋    | 1.0MB 19.4MB/s eta 0:00:01\r\u001b[K    87% |███████████████████████████▉    | 1.0MB 20.8MB/s eta 0:00:01\r\u001b[K    87% |████████████████████████████▏   | 1.1MB 3.4MB/s eta 0:00:01\r\u001b[K    88% |████████████████████████████▍   | 1.1MB 3.3MB/s eta 0:00:01\r\u001b[K    89% |████████████████████████████▊   | 1.1MB 3.3MB/s eta 0:00:01\r\u001b[K    90% |█████████████████████████████   | 1.1MB 3.3MB/s eta 0:00:01\r\u001b[K    91% |█████████████████████████████▎  | 1.1MB 3.1MB/s eta 0:00:01\r\u001b[K    92% |█████████████████████████████▌  | 1.1MB 3.1MB/s eta 0:00:01\r\u001b[K    93% |█████████████████████████████▉  | 1.1MB 3.1MB/s eta 0:00:01\r\u001b[K    93% |██████████████████████████████  | 1.1MB 3.1MB/s eta 0:00:01\r\u001b[K    94% |██████████████████████████████▍ | 1.1MB 3.1MB/s eta 0:00:01\r\u001b[K    95% |██████████████████████████████▋ | 1.1MB 3.1MB/s eta 0:00:01\r\u001b[K    96% |██████████████████████████████▉ | 1.2MB 12.7MB/s eta 0:00:01\r\u001b[K    97% |███████████████████████████████▏| 1.2MB 15.0MB/s eta 0:00:01\r\u001b[K    98% |███████████████████████████████▍| 1.2MB 15.0MB/s eta 0:00:01\r\u001b[K    99% |███████████████████████████████▊| 1.2MB 15.6MB/s eta 0:00:01\r\u001b[K    99% |████████████████████████████████| 1.2MB 19.8MB/s eta 0:00:01\r\u001b[K    100% |████████████████████████████████| 1.2MB 993kB/s \r\n\u001b[?25hInstalling collected packages: pip\r\n  Found existing installation: pip 8.1.1\r\n    Not uninstalling pip at /usr/lib/python2.7/dist-packages, outside environment /usr\r\nSuccessfully installed pip-8.1.2\r\n", "stdout_lines": ["Collecting pip", "  Downloading pip-8.1.2-py2.py3-none-any.whl (1.2MB)", "\u001b[?25l", "\u001b[K    0% |▎                               | 10kB 27.2MB/s eta 0:00:01", "\u001b[K    1% |▌                               | 20kB 325kB/s eta 0:00:04", "\u001b[K    2% |▉                               | 30kB 484kB/s eta 0:00:03", "\u001b[K    3% |█                               | 40kB 640kB/s eta 0:00:02", "\u001b[K    4% |█▍                              | 51kB 396kB/s eta 0:00:03", "\u001b[K    5% |█▋                              | 61kB 470kB/s eta 0:00:03", "\u001b[K    5% |██                              | 71kB 540kB/s eta 0:00:03", "\u001b[K    6% |██▏                             | 81kB 613kB/s eta 0:00:02", "\u001b[K    7% |██▌                             | 92kB 688kB/s eta 0:00:02", "\u001b[K    8% |██▊                             | 102kB 759kB/s eta 0:00:02", "\u001b[K    9% |███                             | 112kB 759kB/s eta 0:00:02", "\u001b[K    10% |███▎                            | 122kB 779kB/s eta 0:00:02", "\u001b[K    11% |███▌                            | 133kB 747kB/s eta 0:00:02", "\u001b[K    11% |███▉                            | 143kB 745kB/s eta 0:00:02", "\u001b[K    12% |████                            | 153kB 1.4MB/s eta 0:00:01", "\u001b[K    13% |████▍                           | 163kB 1.4MB/s eta 0:00:01", "\u001b[K    14% |████▋                           | 174kB 1.4MB/s eta 0:00:01", "\u001b[K    15% |█████                           | 184kB 1.4MB/s eta 0:00:01", "\u001b[K    16% |█████▏                          | 194kB 1.4MB/s eta 0:00:01", "\u001b[K    17% |█████▌                          | 204kB 1.4MB/s eta 0:00:01", "\u001b[K    17% |█████▊                          | 215kB 1.4MB/s eta 0:00:01", "\u001b[K    18% |██████                          | 225kB 8.2MB/s eta 0:00:01", "\u001b[K    19% |██████▎                         | 235kB 15.2MB/s eta 0:00:01", "\u001b[K    20% |██████▋                         | 245kB 1.8MB/s eta 0:00:01", "\u001b[K    21% |██████▉                         | 256kB 1.8MB/s eta 0:00:01", "\u001b[K    22% |███████                         | 266kB 1.7MB/s eta 0:00:01", "\u001b[K    23% |███████▍                        | 276kB 1.7MB/s eta 0:00:01", "\u001b[K    23% |███████▋                        | 286kB 1.7MB/s eta 0:00:01", "\u001b[K    24% |████████                        | 296kB 1.7MB/s eta 0:00:01", "\u001b[K    25% |████████▏                       | 307kB 1.7MB/s eta 0:00:01", "\u001b[K    26% |████████▌                       | 317kB 1.7MB/s eta 0:00:01", "\u001b[K    27% |████████▊                       | 327kB 1.7MB/s eta 0:00:01", "\u001b[K    28% |█████████                       | 337kB 1.7MB/s eta 0:00:01", "\u001b[K    29% |█████████▎                      | 348kB 12.0MB/s eta 0:00:01", "\u001b[K    29% |█████████▋                      | 358kB 12.6MB/s eta 0:00:01", "\u001b[K    30% |█████████▉                      | 368kB 17.9MB/s eta 0:00:01", "\u001b[K    31% |██████████▏                     | 378kB 17.5MB/s eta 0:00:01", "\u001b[K    32% |██████████▍                     | 389kB 20.1MB/s eta 0:00:01", "\u001b[K    33% |██████████▋                     | 399kB 20.0MB/s eta 0:00:01", "\u001b[K    34% |███████████                     | 409kB 18.6MB/s eta 0:00:01", "\u001b[K    35% |███████████▏                    | 419kB 20.2MB/s eta 0:00:01", "\u001b[K    35% |███████████▌                    | 430kB 20.0MB/s eta 0:00:01", "\u001b[K    36% |███████████▊                    | 440kB 20.1MB/s eta 0:00:01", "\u001b[K    37% |████████████                    | 450kB 20.5MB/s eta 0:00:01", "\u001b[K    38% |████████████▎                   | 460kB 19.1MB/s eta 0:00:01", "\u001b[K    39% |████████████▋                   | 471kB 20.7MB/s eta 0:00:01", "\u001b[K    40% |████████████▉                   | 481kB 20.3MB/s eta 0:00:01", "\u001b[K    40% |█████████████▏                  | 491kB 18.9MB/s eta 0:00:01", "\u001b[K    41% |█████████████▍                  | 501kB 20.6MB/s eta 0:00:01", "\u001b[K    42% |█████████████▋                  | 512kB 2.0MB/s eta 0:00:01", "\u001b[K    43% |██████████████                  | 522kB 2.0MB/s eta 0:00:01", "\u001b[K    44% |██████████████▏                 | 532kB 1.9MB/s eta 0:00:01", "\u001b[K    45% |██████████████▌                 | 542kB 1.8MB/s eta 0:00:01", "\u001b[K    46% |██████████████▊                 | 552kB 1.8MB/s eta 0:00:01", "\u001b[K    46% |███████████████                 | 563kB 1.8MB/s eta 0:00:01", "\u001b[K    47% |███████████████▎                | 573kB 1.7MB/s eta 0:00:01", "\u001b[K    48% |███████████████▋                | 583kB 1.7MB/s eta 0:00:01", "\u001b[K    49% |███████████████▉                | 593kB 1.6MB/s eta 0:00:01", "\u001b[K    50% |████████████████▏               | 604kB 1.6MB/s eta 0:00:01", "\u001b[K    51% |████████████████▍               | 614kB 6.2MB/s eta 0:00:01", "\u001b[K    52% |████████████████▊               | 624kB 5.8MB/s eta 0:00:01", "\u001b[K    52% |█████████████████               | 634kB 7.0MB/s eta 0:00:01", "\u001b[K    53% |█████████████████▏              | 645kB 7.7MB/s eta 0:00:01", "\u001b[K    54% |█████████████████▌              | 655kB 7.6MB/s eta 0:00:01", "\u001b[K    55% |█████████████████▊              | 665kB 8.5MB/s eta 0:00:01", "\u001b[K    56% |██████████████████              | 675kB 11.8MB/s eta 0:00:01", "\u001b[K    57% |██████████████████▎             | 686kB 12.0MB/s eta 0:00:01", "\u001b[K    58% |██████████████████▋             | 696kB 14.8MB/s eta 0:00:01", "\u001b[K    58% |██████████████████▉             | 706kB 14.2MB/s eta 0:00:01", "\u001b[K    59% |███████████████████▏            | 716kB 17.8MB/s eta 0:00:01", "\u001b[K    60% |███████████████████▍            | 727kB 19.6MB/s eta 0:00:01", "\u001b[K    61% |███████████████████▊            | 737kB 18.4MB/s eta 0:00:01", "\u001b[K    62% |████████████████████            | 747kB 20.0MB/s eta 0:00:01", "\u001b[K    63% |████████████████████▎           | 757kB 19.7MB/s eta 0:00:01", "\u001b[K    64% |████████████████████▌           | 768kB 19.7MB/s eta 0:00:01", "\u001b[K    64% |████████████████████▊           | 778kB 19.8MB/s eta 0:00:01", "\u001b[K    65% |█████████████████████           | 788kB 18.7MB/s eta 0:00:01", "\u001b[K    66% |█████████████████████▎          | 798kB 20.2MB/s eta 0:00:01", "\u001b[K    67% |█████████████████████▋          | 808kB 19.8MB/s eta 0:00:01", "\u001b[K    68% |█████████████████████▉          | 819kB 18.5MB/s eta 0:00:01", "\u001b[K    69% |██████████████████████▏         | 829kB 20.2MB/s eta 0:00:01", "\u001b[K    70% |██████████████████████▍         | 839kB 20.0MB/s eta 0:00:01", "\u001b[K    70% |██████████████████████▊         | 849kB 20.0MB/s eta 0:00:01", "\u001b[K    71% |███████████████████████         | 860kB 20.1MB/s eta 0:00:01", "\u001b[K    72% |███████████████████████▎        | 870kB 18.7MB/s eta 0:00:01", "\u001b[K    73% |███████████████████████▌        | 880kB 19.9MB/s eta 0:00:01", "\u001b[K    74% |███████████████████████▊        | 890kB 19.6MB/s eta 0:00:01", "\u001b[K    75% |████████████████████████        | 901kB 18.3MB/s eta 0:00:01", "\u001b[K    76% |████████████████████████▎       | 911kB 20.0MB/s eta 0:00:01", "\u001b[K    76% |████████████████████████▋       | 921kB 19.8MB/s eta 0:00:01", "\u001b[K    77% |████████████████████████▉       | 931kB 19.7MB/s eta 0:00:01", "\u001b[K    78% |█████████████████████████▏      | 942kB 19.8MB/s eta 0:00:01", "\u001b[K    79% |█████████████████████████▍      | 952kB 18.4MB/s eta 0:00:01", "\u001b[K    80% |█████████████████████████▊      | 962kB 20.0MB/s eta 0:00:01", "\u001b[K    81% |██████████████████████████      | 972kB 20.1MB/s eta 0:00:01", "\u001b[K    81% |██████████████████████████▎     | 983kB 19.4MB/s eta 0:00:01", "\u001b[K    82% |██████████████████████████▌     | 993kB 21.2MB/s eta 0:00:01", "\u001b[K    83% |██████████████████████████▉     | 1.0MB 21.0MB/s eta 0:00:01", "\u001b[K    84% |███████████████████████████     | 1.0MB 21.0MB/s eta 0:00:01", "\u001b[K    85% |███████████████████████████▎    | 1.0MB 21.1MB/s eta 0:00:01", "\u001b[K    86% |███████████████████████████▋    | 1.0MB 19.4MB/s eta 0:00:01", "\u001b[K    87% |███████████████████████████▉    | 1.0MB 20.8MB/s eta 0:00:01", "\u001b[K    87% |████████████████████████████▏   | 1.1MB 3.4MB/s eta 0:00:01", "\u001b[K    88% |████████████████████████████▍   | 1.1MB 3.3MB/s eta 0:00:01", "\u001b[K    89% |████████████████████████████▊   | 1.1MB 3.3MB/s eta 0:00:01", "\u001b[K    90% |█████████████████████████████   | 1.1MB 3.3MB/s eta 0:00:01", "\u001b[K    91% |█████████████████████████████▎  | 1.1MB 3.1MB/s eta 0:00:01", "\u001b[K    92% |█████████████████████████████▌  | 1.1MB 3.1MB/s eta 0:00:01", "\u001b[K    93% |█████████████████████████████▉  | 1.1MB 3.1MB/s eta 0:00:01", "\u001b[K    93% |██████████████████████████████  | 1.1MB 3.1MB/s eta 0:00:01", "\u001b[K    94% |██████████████████████████████▍ | 1.1MB 3.1MB/s eta 0:00:01", "\u001b[K    95% |██████████████████████████████▋ | 1.1MB 3.1MB/s eta 0:00:01", "\u001b[K    96% |██████████████████████████████▉ | 1.2MB 12.7MB/s eta 0:00:01", "\u001b[K    97% |███████████████████████████████▏| 1.2MB 15.0MB/s eta 0:00:01", "\u001b[K    98% |███████████████████████████████▍| 1.2MB 15.0MB/s eta 0:00:01", "\u001b[K    99% |███████████████████████████████▊| 1.2MB 15.6MB/s eta 0:00:01", "\u001b[K    99% |████████████████████████████████| 1.2MB 19.8MB/s eta 0:00:01", "\u001b[K    100% |████████████████████████████████| 1.2MB 993kB/s ", "\u001b[?25hInstalling collected packages: pip", "  Found existing installation: pip 8.1.1", "    Not uninstalling pip at /usr/lib/python2.7/dist-packages, outside environment /usr", "Successfully installed pip-8.1.2"]}
2016-09-25 13:52:50,913 p=6163 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 13:52:50,920 p=6163 u=tie |  TASK [setup] *******************************************************************
2016-09-25 13:52:51,849 p=6163 u=tie |  ok: [the_tale]
2016-09-25 13:52:51,858 p=6163 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 13:52:52,637 p=6163 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 13:52:52,645 p=6163 u=tie |  TASK [setup basic python packages] *********************************************
2016-09-25 13:52:54,222 p=6163 u=tie |  failed: [the_tale] (item=psycopg2) => {"cmd": "/usr/local/bin/pip install psycopg2", "failed": true, "item": "psycopg2", "msg": "stdout: Collecting psycopg2\n  Using cached psycopg2-2.6.2.tar.gz\n    Complete output from command python setup.py egg_info:\n    running egg_info\n    creating pip-egg-info/psycopg2.egg-info\n    writing pip-egg-info/psycopg2.egg-info/PKG-INFO\n    writing top-level names to pip-egg-info/psycopg2.egg-info/top_level.txt\n    writing dependency_links to pip-egg-info/psycopg2.egg-info/dependency_links.txt\n    writing manifest file 'pip-egg-info/psycopg2.egg-info/SOURCES.txt'\n    warning: manifest_maker: standard file '-c' not found\n    \n    Error: pg_config executable not found.\n    \n    Please add the directory containing pg_config to the PATH\n    or specify the full executable path with the option:\n    \n        python setup.py build_ext --pg-config /path/to/pg_config build ...\n    \n    or with the pg_config option in 'setup.cfg'.\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-QvMbVT/psycopg2/\n"}
2016-09-25 13:52:54,229 p=6163 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 13:52:54,230 p=6163 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 13:52:54,230 p=6163 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 13:52:54,230 p=6163 u=tie |  the_tale                   : ok=4    changed=0    unreachable=0    failed=1   
2016-09-25 14:00:12,635 p=6663 u=root |  - downloading role 'postgresql', owned by ANXS
2016-09-25 14:00:15,405 p=6663 u=root |  - downloading role from https://github.com/ANXS/postgresql/archive/v1.5.0.tar.gz
2016-09-25 14:00:18,084 p=6663 u=root |  - extracting ANXS.postgresql to /etc/ansible/roles/ANXS.postgresql
2016-09-25 14:00:18,120 p=6663 u=root |  - ANXS.postgresql was installed successfully
2016-09-25 14:13:47,799 p=7477 u=root |  - ANXS.postgresql is already installed, skipping.
2016-09-25 14:13:52,742 p=7633 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 14:13:52,782 p=7633 u=tie |  ERROR! role definitions must contain a role name

The error appears to have been in '/home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml': line 28, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - ANXS.postgresql:
      ^ here

2016-09-25 14:14:17,464 p=7824 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 14:14:17,847 p=7824 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 14:14:17,862 p=7824 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 14:14:18,826 p=7824 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 14:14:18,833 p=7824 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 14:14:20,098 p=7824 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 14:14:20,111 p=7824 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 14:14:20,118 p=7824 u=tie |  TASK [setup] *******************************************************************
2016-09-25 14:14:21,085 p=7824 u=tie |  ok: [the_tale]
2016-09-25 14:14:21,094 p=7824 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 14:14:21,849 p=7824 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 14:14:21,859 p=7824 u=tie |  ERROR! the field 'hosts' is required but was not set
2016-09-25 14:14:41,778 p=8048 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 14:14:42,157 p=8048 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 14:14:42,172 p=8048 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 14:14:42,812 p=8048 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 14:14:42,819 p=8048 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 14:14:43,790 p=8048 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 14:14:43,804 p=8048 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 14:14:43,812 p=8048 u=tie |  TASK [setup] *******************************************************************
2016-09-25 14:14:44,872 p=8048 u=tie |  ok: [the_tale]
2016-09-25 14:14:44,880 p=8048 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 14:14:45,658 p=8048 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 14:14:45,674 p=8048 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 14:14:45,808 p=8048 u=tie |  TASK [setup] *******************************************************************
2016-09-25 14:14:46,594 p=8048 u=tie |  ok: [the_tale]
2016-09-25 14:14:46,611 p=8048 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 14:14:46,789 p=8048 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 14:14:46,813 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 14:14:47,430 p=8048 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 14:14:47,444 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 14:14:50,190 p=8048 u=tie |  changed: [the_tale] => {"changed": true}
2016-09-25 14:14:50,198 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 14:14:58,201 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 14:14:58,232 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 14:14:59,030 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "checksum": "351b7738c8d61d8bc8cad0124ef3ec15e78f6b44", "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "gid": 0, "group": "root", "md5sum": "25f67f827e3fa3093884ad16a348db91", "mode": "0644", "owner": "root", "size": 241, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1474802098.27-126491707333690/source", "state": "file", "uid": 0}
2016-09-25 14:14:59,037 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 14:15:03,302 p=8048 u=tie |  changed: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474802095, "cache_updated": false, "changed": true, "item": ["python-psycopg2", "python-pycurl", "locales"], "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpq5 python-egenix-mxdatetime python-egenix-mxtools\nSuggested packages:\n  python-egenix-mxdatetime-dbg python-egenix-mxdatetime-doc\n  python-egenix-mxtools-dbg python-egenix-mxtools-doc python-psycopg2-doc\n  libcurl4-gnutls-dev python-pycurl-dbg python-pycurl-doc\nThe following NEW packages will be installed:\n  libpq5 python-egenix-mxdatetime python-egenix-mxtools python-psycopg2\n  python-pycurl\n0 upgraded, 5 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 444 kB of archives.\nAfter this operation, 2123 kB of additional disk space will be used.\nGet:1 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 libpq5 amd64 9.5.4-1.pgdg16.04+1 [126 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-egenix-mxtools amd64 3.2.9-1 [75.3 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-egenix-mxdatetime amd64 3.2.9-1 [68.3 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-psycopg2 amd64 2.6.1-1build2 [131 kB]\nGet:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-pycurl amd64 7.43.0-1ubuntu1 [43.3 kB]\nFetched 444 kB in 0s (1233 kB/s)\nSelecting previously unselected package libpq5:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 60529 files and directories currently installed.)\r\nPreparing to unpack .../libpq5_9.5.4-1.pgdg16.04+1_amd64.deb ...\r\nUnpacking libpq5:amd64 (9.5.4-1.pgdg16.04+1) ...\r\nSelecting previously unselected package python-egenix-mxtools.\r\nPreparing to unpack .../python-egenix-mxtools_3.2.9-1_amd64.deb ...\r\nUnpacking python-egenix-mxtools (3.2.9-1) ...\r\nSelecting previously unselected package python-egenix-mxdatetime.\r\nPreparing to unpack .../python-egenix-mxdatetime_3.2.9-1_amd64.deb ...\r\nUnpacking python-egenix-mxdatetime (3.2.9-1) ...\r\nSelecting previously unselected package python-psycopg2.\r\nPreparing to unpack .../python-psycopg2_2.6.1-1build2_amd64.deb ...\r\nUnpacking python-psycopg2 (2.6.1-1build2) ...\r\nSelecting previously unselected package python-pycurl.\r\nPreparing to unpack .../python-pycurl_7.43.0-1ubuntu1_amd64.deb ...\r\nUnpacking python-pycurl (7.43.0-1ubuntu1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nSetting up libpq5:amd64 (9.5.4-1.pgdg16.04+1) ...\r\nSetting up python-egenix-mxtools (3.2.9-1) ...\r\nSetting up python-egenix-mxdatetime (3.2.9-1) ...\r\nSetting up python-psycopg2 (2.6.1-1build2) ...\r\nSetting up python-pycurl (7.43.0-1ubuntu1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libpq5 python-egenix-mxdatetime python-egenix-mxtools", "Suggested packages:", "  python-egenix-mxdatetime-dbg python-egenix-mxdatetime-doc", "  python-egenix-mxtools-dbg python-egenix-mxtools-doc python-psycopg2-doc", "  libcurl4-gnutls-dev python-pycurl-dbg python-pycurl-doc", "The following NEW packages will be installed:", "  libpq5 python-egenix-mxdatetime python-egenix-mxtools python-psycopg2", "  python-pycurl", "0 upgraded, 5 newly installed, 0 to remove and 2 not upgraded.", "Need to get 444 kB of archives.", "After this operation, 2123 kB of additional disk space will be used.", "Get:1 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 libpq5 amd64 9.5.4-1.pgdg16.04+1 [126 kB]", "Get:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-egenix-mxtools amd64 3.2.9-1 [75.3 kB]", "Get:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-egenix-mxdatetime amd64 3.2.9-1 [68.3 kB]", "Get:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-psycopg2 amd64 2.6.1-1build2 [131 kB]", "Get:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 python-pycurl amd64 7.43.0-1ubuntu1 [43.3 kB]", "Fetched 444 kB in 0s (1233 kB/s)", "Selecting previously unselected package libpq5:amd64.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 60529 files and directories currently installed.)", "Preparing to unpack .../libpq5_9.5.4-1.pgdg16.04+1_amd64.deb ...", "Unpacking libpq5:amd64 (9.5.4-1.pgdg16.04+1) ...", "Selecting previously unselected package python-egenix-mxtools.", "Preparing to unpack .../python-egenix-mxtools_3.2.9-1_amd64.deb ...", "Unpacking python-egenix-mxtools (3.2.9-1) ...", "Selecting previously unselected package python-egenix-mxdatetime.", "Preparing to unpack .../python-egenix-mxdatetime_3.2.9-1_amd64.deb ...", "Unpacking python-egenix-mxdatetime (3.2.9-1) ...", "Selecting previously unselected package python-psycopg2.", "Preparing to unpack .../python-psycopg2_2.6.1-1build2_amd64.deb ...", "Unpacking python-psycopg2 (2.6.1-1build2) ...", "Selecting previously unselected package python-pycurl.", "Preparing to unpack .../python-pycurl_7.43.0-1ubuntu1_amd64.deb ...", "Unpacking python-pycurl (7.43.0-1ubuntu1) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Setting up libpq5:amd64 (9.5.4-1.pgdg16.04+1) ...", "Setting up python-egenix-mxtools (3.2.9-1) ...", "Setting up python-egenix-mxdatetime (3.2.9-1) ...", "Setting up python-psycopg2 (2.6.1-1build2) ...", "Setting up python-pycurl (7.43.0-1ubuntu1) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ..."]}
2016-09-25 14:15:03,318 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 14:15:25,042 p=8048 u=tie |  changed: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474802095, "cache_updated": false, "changed": true, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libsensors4 libxslt1.1 pgdg-keyring postgresql-client-common\n  postgresql-common ssl-cert sysstat\nSuggested packages:\n  lm-sensors locales-all postgresql-doc-9.5 libdbd-pg-perl openssl-blacklist\n  isag\nThe following NEW packages will be installed:\n  libsensors4 libxslt1.1 pgdg-keyring postgresql-9.5 postgresql-client-9.5\n  postgresql-client-common postgresql-common postgresql-contrib-9.5 ssl-cert\n  sysstat\n0 upgraded, 10 newly installed, 0 to remove and 2 not upgraded.\nNeed to get 6285 kB of archives.\nAfter this operation, 28.5 MB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial/main amd64 libsensors4 amd64 1:3.4.0-2 [28.4 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libxslt1.1 amd64 1.1.28-2.1 [145 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 ssl-cert all 1.0.37 [16.9 kB]\nGet:4 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 pgdg-keyring all 2014.1 [5898 B]\nGet:5 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 sysstat amd64 11.2.0-1ubuntu0.1 [243 kB]\nGet:6 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-client-common all 175.pgdg16.04+1 [77.4 kB]\nGet:7 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-client-9.5 amd64 9.5.4-1.pgdg16.04+1 [1175 kB]\nGet:8 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-common all 175.pgdg16.04+1 [213 kB]\nGet:9 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-9.5 amd64 9.5.4-1.pgdg16.04+1 [3933 kB]\nGet:10 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-contrib-9.5 amd64 9.5.4-1.pgdg16.04+1 [449 kB]\nPreconfiguring packages ...\nFetched 6285 kB in 3s (1876 kB/s)\nSelecting previously unselected package libsensors4:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 60669 files and directories currently installed.)\r\nPreparing to unpack .../libsensors4_1%3a3.4.0-2_amd64.deb ...\r\nUnpacking libsensors4:amd64 (1:3.4.0-2) ...\r\nSelecting previously unselected package libxslt1.1:amd64.\r\nPreparing to unpack .../libxslt1.1_1.1.28-2.1_amd64.deb ...\r\nUnpacking libxslt1.1:amd64 (1.1.28-2.1) ...\r\nSelecting previously unselected package pgdg-keyring.\r\nPreparing to unpack .../pgdg-keyring_2014.1_all.deb ...\r\nUnpacking pgdg-keyring (2014.1) ...\r\nSelecting previously unselected package postgresql-client-common.\r\nPreparing to unpack .../postgresql-client-common_175.pgdg16.04+1_all.deb ...\r\nUnpacking postgresql-client-common (175.pgdg16.04+1) ...\r\nSelecting previously unselected package postgresql-client-9.5.\r\nPreparing to unpack .../postgresql-client-9.5_9.5.4-1.pgdg16.04+1_amd64.deb ...\r\nUnpacking postgresql-client-9.5 (9.5.4-1.pgdg16.04+1) ...\r\nSelecting previously unselected package ssl-cert.\r\nPreparing to unpack .../ssl-cert_1.0.37_all.deb ...\r\nUnpacking ssl-cert (1.0.37) ...\r\nSelecting previously unselected package postgresql-common.\r\nPreparing to unpack .../postgresql-common_175.pgdg16.04+1_all.deb ...\r\nAdding 'diversion of /usr/bin/pg_config to /usr/bin/pg_config.libpq-dev by postgresql-common'\r\nUnpacking postgresql-common (175.pgdg16.04+1) ...\r\nSelecting previously unselected package postgresql-9.5.\r\nPreparing to unpack .../postgresql-9.5_9.5.4-1.pgdg16.04+1_amd64.deb ...\r\nUnpacking postgresql-9.5 (9.5.4-1.pgdg16.04+1) ...\r\nSelecting previously unselected package postgresql-contrib-9.5.\r\nPreparing to unpack .../postgresql-contrib-9.5_9.5.4-1.pgdg16.04+1_amd64.deb ...\r\nUnpacking postgresql-contrib-9.5 (9.5.4-1.pgdg16.04+1) ...\r\nSelecting previously unselected package sysstat.\r\nPreparing to unpack .../sysstat_11.2.0-1ubuntu0.1_amd64.deb ...\r\nUnpacking sysstat (11.2.0-1ubuntu0.1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for man-db (2.7.5-1) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\nSetting up libsensors4:amd64 (1:3.4.0-2) ...\r\nSetting up libxslt1.1:amd64 (1.1.28-2.1) ...\r\nSetting up pgdg-keyring (2014.1) ...\r\nRemoving apt.postgresql.org key from trusted.gpg: OK\r\nImporting apt.postgresql.org key: OK\r\nSetting up postgresql-client-common (175.pgdg16.04+1) ...\r\nSetting up postgresql-client-9.5 (9.5.4-1.pgdg16.04+1) ...\r\nupdate-alternatives: using /usr/share/postgresql/9.5/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode\r\nSetting up ssl-cert (1.0.37) ...\r\nSetting up postgresql-common (175.pgdg16.04+1) ...\r\nAdding user postgres to group ssl-cert\r\n\r\nCreating config file /etc/postgresql-common/createcluster.conf with new version\r\n\r\nCreating config file /etc/logrotate.d/postgresql-common with new version\r\nBuilding PostgreSQL dictionaries from installed myspell/hunspell packages...\r\nRemoving obsolete dictionary files:\r\nSetting up postgresql-9.5 (9.5.4-1.pgdg16.04+1) ...\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nUnescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.\r\nCreating new cluster 9.5/main ...\r\n  config /etc/postgresql/9.5/main\r\n  data   /var/lib/postgresql/9.5/main\r\n  locale en_US.UTF-8\r\n  socket /var/run/postgresql\r\n  port   5432\r\nupdate-alternatives: using /usr/share/postgresql/9.5/man/man1/postmaster.1.gz to provide /usr/share/man/man1/postmaster.1.gz (postmaster.1.gz) in auto mode\r\nSetting up postgresql-contrib-9.5 (9.5.4-1.pgdg16.04+1) ...\r\nSetting up sysstat (11.2.0-1ubuntu0.1) ...\r\n\r\nCreating config file /etc/default/sysstat with new version\r\nupdate-alternatives: using /usr/bin/sar.sysstat to provide /usr/bin/sar (sar) in auto mode\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libsensors4 libxslt1.1 pgdg-keyring postgresql-client-common", "  postgresql-common ssl-cert sysstat", "Suggested packages:", "  lm-sensors locales-all postgresql-doc-9.5 libdbd-pg-perl openssl-blacklist", "  isag", "The following NEW packages will be installed:", "  libsensors4 libxslt1.1 pgdg-keyring postgresql-9.5 postgresql-client-9.5", "  postgresql-client-common postgresql-common postgresql-contrib-9.5 ssl-cert", "  sysstat", "0 upgraded, 10 newly installed, 0 to remove and 2 not upgraded.", "Need to get 6285 kB of archives.", "After this operation, 28.5 MB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu xenial/main amd64 libsensors4 amd64 1:3.4.0-2 [28.4 kB]", "Get:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libxslt1.1 amd64 1.1.28-2.1 [145 kB]", "Get:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 ssl-cert all 1.0.37 [16.9 kB]", "Get:4 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 pgdg-keyring all 2014.1 [5898 B]", "Get:5 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 sysstat amd64 11.2.0-1ubuntu0.1 [243 kB]", "Get:6 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-client-common all 175.pgdg16.04+1 [77.4 kB]", "Get:7 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-client-9.5 amd64 9.5.4-1.pgdg16.04+1 [1175 kB]", "Get:8 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-common all 175.pgdg16.04+1 [213 kB]", "Get:9 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-9.5 amd64 9.5.4-1.pgdg16.04+1 [3933 kB]", "Get:10 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 postgresql-contrib-9.5 amd64 9.5.4-1.pgdg16.04+1 [449 kB]", "Preconfiguring packages ...", "Fetched 6285 kB in 3s (1876 kB/s)", "Selecting previously unselected package libsensors4:amd64.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 60669 files and directories currently installed.)", "Preparing to unpack .../libsensors4_1%3a3.4.0-2_amd64.deb ...", "Unpacking libsensors4:amd64 (1:3.4.0-2) ...", "Selecting previously unselected package libxslt1.1:amd64.", "Preparing to unpack .../libxslt1.1_1.1.28-2.1_amd64.deb ...", "Unpacking libxslt1.1:amd64 (1.1.28-2.1) ...", "Selecting previously unselected package pgdg-keyring.", "Preparing to unpack .../pgdg-keyring_2014.1_all.deb ...", "Unpacking pgdg-keyring (2014.1) ...", "Selecting previously unselected package postgresql-client-common.", "Preparing to unpack .../postgresql-client-common_175.pgdg16.04+1_all.deb ...", "Unpacking postgresql-client-common (175.pgdg16.04+1) ...", "Selecting previously unselected package postgresql-client-9.5.", "Preparing to unpack .../postgresql-client-9.5_9.5.4-1.pgdg16.04+1_amd64.deb ...", "Unpacking postgresql-client-9.5 (9.5.4-1.pgdg16.04+1) ...", "Selecting previously unselected package ssl-cert.", "Preparing to unpack .../ssl-cert_1.0.37_all.deb ...", "Unpacking ssl-cert (1.0.37) ...", "Selecting previously unselected package postgresql-common.", "Preparing to unpack .../postgresql-common_175.pgdg16.04+1_all.deb ...", "Adding 'diversion of /usr/bin/pg_config to /usr/bin/pg_config.libpq-dev by postgresql-common'", "Unpacking postgresql-common (175.pgdg16.04+1) ...", "Selecting previously unselected package postgresql-9.5.", "Preparing to unpack .../postgresql-9.5_9.5.4-1.pgdg16.04+1_amd64.deb ...", "Unpacking postgresql-9.5 (9.5.4-1.pgdg16.04+1) ...", "Selecting previously unselected package postgresql-contrib-9.5.", "Preparing to unpack .../postgresql-contrib-9.5_9.5.4-1.pgdg16.04+1_amd64.deb ...", "Unpacking postgresql-contrib-9.5 (9.5.4-1.pgdg16.04+1) ...", "Selecting previously unselected package sysstat.", "Preparing to unpack .../sysstat_11.2.0-1ubuntu0.1_amd64.deb ...", "Unpacking sysstat (11.2.0-1ubuntu0.1) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for man-db (2.7.5-1) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ...", "Setting up libsensors4:amd64 (1:3.4.0-2) ...", "Setting up libxslt1.1:amd64 (1.1.28-2.1) ...", "Setting up pgdg-keyring (2014.1) ...", "Removing apt.postgresql.org key from trusted.gpg: OK", "Importing apt.postgresql.org key: OK", "Setting up postgresql-client-common (175.pgdg16.04+1) ...", "Setting up postgresql-client-9.5 (9.5.4-1.pgdg16.04+1) ...", "update-alternatives: using /usr/share/postgresql/9.5/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode", "Setting up ssl-cert (1.0.37) ...", "Setting up postgresql-common (175.pgdg16.04+1) ...", "Adding user postgres to group ssl-cert", "", "Creating config file /etc/postgresql-common/createcluster.conf with new version", "", "Creating config file /etc/logrotate.d/postgresql-common with new version", "Building PostgreSQL dictionaries from installed myspell/hunspell packages...", "Removing obsolete dictionary files:", "Setting up postgresql-9.5 (9.5.4-1.pgdg16.04+1) ...", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Unescaped left brace in regex is deprecated, passed through in regex; marked by <-- HERE in m/(?<!\\\\)\\${ <-- HERE ([^}]+)}/ at /usr/sbin/pam_getenv line 78.", "Creating new cluster 9.5/main ...", "  config /etc/postgresql/9.5/main", "  data   /var/lib/postgresql/9.5/main", "  locale en_US.UTF-8", "  socket /var/run/postgresql", "  port   5432", "update-alternatives: using /usr/share/postgresql/9.5/man/man1/postmaster.1.gz to provide /usr/share/man/man1/postmaster.1.gz (postmaster.1.gz) in auto mode", "Setting up postgresql-contrib-9.5 (9.5.4-1.pgdg16.04+1) ...", "Setting up sysstat (11.2.0-1ubuntu0.1) ...", "", "Creating config file /etc/default/sysstat with new version", "update-alternatives: using /usr/bin/sar.sysstat to provide /usr/bin/sar (sar) in auto mode", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ..."]}
2016-09-25 14:15:25,086 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 14:15:25,167 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,175 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 14:15:25,236 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,245 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 14:15:25,311 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,319 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 14:15:25,538 p=8048 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,556 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 14:15:25,734 p=8048 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,754 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 14:15:25,826 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,834 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 14:15:25,910 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:25,919 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 14:15:26,001 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:26,010 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 14:15:26,096 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:26,105 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 14:15:26,327 p=8048 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:26,361 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 14:15:26,431 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:26,440 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 14:15:26,818 p=8048 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 14:15:26,827 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 14:15:29,384 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 14:15:29,392 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 14:15:29,465 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:29,476 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 14:15:29,537 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:29,545 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 14:15:29,618 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:29,627 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 14:15:29,698 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:29,706 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 14:15:29,786 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:29,794 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 14:15:30,112 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 14:15:30,122 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 14:15:30,720 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "checksum": "b4785a5d284fc85625f0520fdd190af7f380610a", "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "gid": 118, "group": "postgres", "md5sum": "4e540ce46b0cfd844aa13e985305472f", "mode": "0640", "owner": "postgres", "size": 1047, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1474802130.17-137486728896709/source", "state": "file", "uid": 112}
2016-09-25 14:15:30,733 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 14:15:31,416 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "checksum": "1e3e902404930452e09c210fabb53fdd94c9b239", "dest": "/etc/postgresql/9.5/main/postgresql.conf", "gid": 118, "group": "postgres", "md5sum": "bf1885882f46fd98ea8790bcc97e471e", "mode": "0640", "owner": "postgres", "size": 21229, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1474802130.84-108639731489711/source", "state": "file", "uid": 112}
2016-09-25 14:15:31,423 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 14:15:31,509 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:31,517 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 14:15:31,826 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 14:15:31,834 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 14:15:31,910 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:31,917 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 14:15:32,002 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:32,010 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 14:15:32,296 p=8048 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 14:15:32,307 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 14:15:36,306 p=8048 u=tie |  changed: [the_tale] => {"changed": true, "name": "postgresql", "state": "started"}
2016-09-25 14:15:36,316 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 14:15:36,712 p=8048 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 14:15:36,720 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 14:15:36,802 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 14:15:37,194 p=8048 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 14:15:37,203 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 14:15:37,284 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 14:15:37,376 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 14:15:37,470 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 14:15:37,553 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 14:15:37,630 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 14:15:37,718 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 14:15:37,800 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 14:15:37,886 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 14:15:37,963 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 14:15:38,041 p=8048 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 14:15:38,117 p=8048 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:15:38,124 p=8048 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 14:15:38,125 p=8048 u=tie |  the_tale                   : ok=22   changed=11   unreachable=0    failed=0   
2016-09-25 14:23:07,816 p=9244 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 14:23:08,200 p=9244 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 14:23:08,215 p=9244 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 14:23:09,174 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 14:23:09,183 p=9244 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 14:23:10,150 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 14:23:10,163 p=9244 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 14:23:10,170 p=9244 u=tie |  TASK [setup] *******************************************************************
2016-09-25 14:23:11,175 p=9244 u=tie |  ok: [the_tale]
2016-09-25 14:23:11,183 p=9244 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 14:23:12,002 p=9244 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 14:23:12,017 p=9244 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 14:23:12,153 p=9244 u=tie |  TASK [setup] *******************************************************************
2016-09-25 14:23:13,946 p=9244 u=tie |  ok: [the_tale]
2016-09-25 14:23:13,956 p=9244 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 14:23:14,126 p=9244 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 14:23:14,153 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 14:23:14,835 p=9244 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 14:23:14,846 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 14:23:15,533 p=9244 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 14:23:15,541 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 14:23:16,108 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 14:23:16,117 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 14:23:16,876 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 14:23:16,885 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 14:23:17,691 p=9244 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474802095, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 14:23:17,704 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 14:23:18,537 p=9244 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474802095, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 14:23:18,556 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 14:23:18,681 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:18,688 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 14:23:18,747 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:18,756 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 14:23:18,829 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:18,841 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 14:23:19,062 p=9244 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:19,087 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 14:23:19,273 p=9244 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:19,286 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 14:23:19,358 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:19,366 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 14:23:19,444 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:19,461 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 14:23:19,552 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:19,563 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 14:23:30,328 p=9244 u=tie |  changed: [the_tale] => {"cache_update_time": 1474802095, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  comerr-dev krb5-multidev libgssrpc4 libkadm5clnt-mit9 libkadm5srv-mit9\n  libkdb5-8 libssl-dev libssl-doc libssl1.0.0 zlib1g-dev\nSuggested packages:\n  doc-base krb5-doc krb5-user postgresql-doc-9.5\nThe following NEW packages will be installed:\n  comerr-dev krb5-multidev libgssrpc4 libkadm5clnt-mit9 libkadm5srv-mit9\n  libkdb5-8 libpq-dev libssl-dev libssl-doc zlib1g-dev\nThe following packages will be upgraded:\n  libssl1.0.0\n1 upgraded, 10 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 4178 kB of archives.\nAfter this operation, 13.1 MB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libssl1.0.0 amd64 1.0.2g-1ubuntu4.5 [1082 kB]\nGet:2 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 libpq-dev amd64 9.5.4-1.pgdg16.04+1 [175 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 libgssrpc4 amd64 1.13.2+dfsg-5 [54.4 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 libkdb5-8 amd64 1.13.2+dfsg-5 [37.1 kB]\nGet:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 libkadm5srv-mit9 amd64 1.13.2+dfsg-5 [51.1 kB]\nGet:6 http://archive.ubuntu.com/ubuntu xenial/main amd64 libkadm5clnt-mit9 amd64 1.13.2+dfsg-5 [36.5 kB]\nGet:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 comerr-dev amd64 2.1-1.42.13-1ubuntu1 [38.2 kB]\nGet:8 http://archive.ubuntu.com/ubuntu xenial/main amd64 krb5-multidev amd64 1.13.2+dfsg-5 [113 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 zlib1g-dev amd64 1:1.2.8.dfsg-2ubuntu4 [168 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libssl-dev amd64 1.0.2g-1ubuntu4.5 [1344 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libssl-doc all 1.0.2g-1ubuntu4.5 [1078 kB]\nPreconfiguring packages ...\nFetched 4178 kB in 1s (3820 kB/s)\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 61564 files and directories currently installed.)\r\nPreparing to unpack .../libssl1.0.0_1.0.2g-1ubuntu4.5_amd64.deb ...\r\nUnpacking libssl1.0.0:amd64 (1.0.2g-1ubuntu4.5) over (1.0.2g-1ubuntu4.4) ...\r\nSelecting previously unselected package libgssrpc4:amd64.\r\nPreparing to unpack .../libgssrpc4_1.13.2+dfsg-5_amd64.deb ...\r\nUnpacking libgssrpc4:amd64 (1.13.2+dfsg-5) ...\r\nSelecting previously unselected package libkdb5-8:amd64.\r\nPreparing to unpack .../libkdb5-8_1.13.2+dfsg-5_amd64.deb ...\r\nUnpacking libkdb5-8:amd64 (1.13.2+dfsg-5) ...\r\nSelecting previously unselected package libkadm5srv-mit9:amd64.\r\nPreparing to unpack .../libkadm5srv-mit9_1.13.2+dfsg-5_amd64.deb ...\r\nUnpacking libkadm5srv-mit9:amd64 (1.13.2+dfsg-5) ...\r\nSelecting previously unselected package libkadm5clnt-mit9:amd64.\r\nPreparing to unpack .../libkadm5clnt-mit9_1.13.2+dfsg-5_amd64.deb ...\r\nUnpacking libkadm5clnt-mit9:amd64 (1.13.2+dfsg-5) ...\r\nSelecting previously unselected package comerr-dev.\r\nPreparing to unpack .../comerr-dev_2.1-1.42.13-1ubuntu1_amd64.deb ...\r\nUnpacking comerr-dev (2.1-1.42.13-1ubuntu1) ...\r\nSelecting previously unselected package krb5-multidev.\r\nPreparing to unpack .../krb5-multidev_1.13.2+dfsg-5_amd64.deb ...\r\nUnpacking krb5-multidev (1.13.2+dfsg-5) ...\r\nSelecting previously unselected package zlib1g-dev:amd64.\r\nPreparing to unpack .../zlib1g-dev_1%3a1.2.8.dfsg-2ubuntu4_amd64.deb ...\r\nUnpacking zlib1g-dev:amd64 (1:1.2.8.dfsg-2ubuntu4) ...\r\nSelecting previously unselected package libssl-dev:amd64.\r\nPreparing to unpack .../libssl-dev_1.0.2g-1ubuntu4.5_amd64.deb ...\r\nUnpacking libssl-dev:amd64 (1.0.2g-1ubuntu4.5) ...\r\nSelecting previously unselected package libpq-dev.\r\nPreparing to unpack .../libpq-dev_9.5.4-1.pgdg16.04+1_amd64.deb ...\r\nUnpacking libpq-dev (9.5.4-1.pgdg16.04+1) ...\r\nSelecting previously unselected package libssl-doc.\r\nPreparing to unpack .../libssl-doc_1.0.2g-1ubuntu4.5_all.deb ...\r\nUnpacking libssl-doc (1.0.2g-1ubuntu4.5) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for man-db (2.7.5-1) ...\r\nProcessing triggers for install-info (6.1.0.dfsg.1-5) ...\r\nSetting up libssl1.0.0:amd64 (1.0.2g-1ubuntu4.5) ...\r\nSetting up libgssrpc4:amd64 (1.13.2+dfsg-5) ...\r\nSetting up libkdb5-8:amd64 (1.13.2+dfsg-5) ...\r\nSetting up libkadm5srv-mit9:amd64 (1.13.2+dfsg-5) ...\r\nSetting up libkadm5clnt-mit9:amd64 (1.13.2+dfsg-5) ...\r\nSetting up comerr-dev (2.1-1.42.13-1ubuntu1) ...\r\nSetting up krb5-multidev (1.13.2+dfsg-5) ...\r\nSetting up zlib1g-dev:amd64 (1:1.2.8.dfsg-2ubuntu4) ...\r\nSetting up libssl-dev:amd64 (1.0.2g-1ubuntu4.5) ...\r\nSetting up libpq-dev (9.5.4-1.pgdg16.04+1) ...\r\nSetting up libssl-doc (1.0.2g-1ubuntu4.5) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  comerr-dev krb5-multidev libgssrpc4 libkadm5clnt-mit9 libkadm5srv-mit9", "  libkdb5-8 libssl-dev libssl-doc libssl1.0.0 zlib1g-dev", "Suggested packages:", "  doc-base krb5-doc krb5-user postgresql-doc-9.5", "The following NEW packages will be installed:", "  comerr-dev krb5-multidev libgssrpc4 libkadm5clnt-mit9 libkadm5srv-mit9", "  libkdb5-8 libpq-dev libssl-dev libssl-doc zlib1g-dev", "The following packages will be upgraded:", "  libssl1.0.0", "1 upgraded, 10 newly installed, 0 to remove and 1 not upgraded.", "Need to get 4178 kB of archives.", "After this operation, 13.1 MB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libssl1.0.0 amd64 1.0.2g-1ubuntu4.5 [1082 kB]", "Get:2 http://apt.postgresql.org/pub/repos/apt xenial-pgdg/main amd64 libpq-dev amd64 9.5.4-1.pgdg16.04+1 [175 kB]", "Get:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 libgssrpc4 amd64 1.13.2+dfsg-5 [54.4 kB]", "Get:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 libkdb5-8 amd64 1.13.2+dfsg-5 [37.1 kB]", "Get:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 libkadm5srv-mit9 amd64 1.13.2+dfsg-5 [51.1 kB]", "Get:6 http://archive.ubuntu.com/ubuntu xenial/main amd64 libkadm5clnt-mit9 amd64 1.13.2+dfsg-5 [36.5 kB]", "Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 comerr-dev amd64 2.1-1.42.13-1ubuntu1 [38.2 kB]", "Get:8 http://archive.ubuntu.com/ubuntu xenial/main amd64 krb5-multidev amd64 1.13.2+dfsg-5 [113 kB]", "Get:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 zlib1g-dev amd64 1:1.2.8.dfsg-2ubuntu4 [168 kB]", "Get:10 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libssl-dev amd64 1.0.2g-1ubuntu4.5 [1344 kB]", "Get:11 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libssl-doc all 1.0.2g-1ubuntu4.5 [1078 kB]", "Preconfiguring packages ...", "Fetched 4178 kB in 1s (3820 kB/s)", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 61564 files and directories currently installed.)", "Preparing to unpack .../libssl1.0.0_1.0.2g-1ubuntu4.5_amd64.deb ...", "Unpacking libssl1.0.0:amd64 (1.0.2g-1ubuntu4.5) over (1.0.2g-1ubuntu4.4) ...", "Selecting previously unselected package libgssrpc4:amd64.", "Preparing to unpack .../libgssrpc4_1.13.2+dfsg-5_amd64.deb ...", "Unpacking libgssrpc4:amd64 (1.13.2+dfsg-5) ...", "Selecting previously unselected package libkdb5-8:amd64.", "Preparing to unpack .../libkdb5-8_1.13.2+dfsg-5_amd64.deb ...", "Unpacking libkdb5-8:amd64 (1.13.2+dfsg-5) ...", "Selecting previously unselected package libkadm5srv-mit9:amd64.", "Preparing to unpack .../libkadm5srv-mit9_1.13.2+dfsg-5_amd64.deb ...", "Unpacking libkadm5srv-mit9:amd64 (1.13.2+dfsg-5) ...", "Selecting previously unselected package libkadm5clnt-mit9:amd64.", "Preparing to unpack .../libkadm5clnt-mit9_1.13.2+dfsg-5_amd64.deb ...", "Unpacking libkadm5clnt-mit9:amd64 (1.13.2+dfsg-5) ...", "Selecting previously unselected package comerr-dev.", "Preparing to unpack .../comerr-dev_2.1-1.42.13-1ubuntu1_amd64.deb ...", "Unpacking comerr-dev (2.1-1.42.13-1ubuntu1) ...", "Selecting previously unselected package krb5-multidev.", "Preparing to unpack .../krb5-multidev_1.13.2+dfsg-5_amd64.deb ...", "Unpacking krb5-multidev (1.13.2+dfsg-5) ...", "Selecting previously unselected package zlib1g-dev:amd64.", "Preparing to unpack .../zlib1g-dev_1%3a1.2.8.dfsg-2ubuntu4_amd64.deb ...", "Unpacking zlib1g-dev:amd64 (1:1.2.8.dfsg-2ubuntu4) ...", "Selecting previously unselected package libssl-dev:amd64.", "Preparing to unpack .../libssl-dev_1.0.2g-1ubuntu4.5_amd64.deb ...", "Unpacking libssl-dev:amd64 (1.0.2g-1ubuntu4.5) ...", "Selecting previously unselected package libpq-dev.", "Preparing to unpack .../libpq-dev_9.5.4-1.pgdg16.04+1_amd64.deb ...", "Unpacking libpq-dev (9.5.4-1.pgdg16.04+1) ...", "Selecting previously unselected package libssl-doc.", "Preparing to unpack .../libssl-doc_1.0.2g-1ubuntu4.5_all.deb ...", "Unpacking libssl-doc (1.0.2g-1ubuntu4.5) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for man-db (2.7.5-1) ...", "Processing triggers for install-info (6.1.0.dfsg.1-5) ...", "Setting up libssl1.0.0:amd64 (1.0.2g-1ubuntu4.5) ...", "Setting up libgssrpc4:amd64 (1.13.2+dfsg-5) ...", "Setting up libkdb5-8:amd64 (1.13.2+dfsg-5) ...", "Setting up libkadm5srv-mit9:amd64 (1.13.2+dfsg-5) ...", "Setting up libkadm5clnt-mit9:amd64 (1.13.2+dfsg-5) ...", "Setting up comerr-dev (2.1-1.42.13-1ubuntu1) ...", "Setting up krb5-multidev (1.13.2+dfsg-5) ...", "Setting up zlib1g-dev:amd64 (1:1.2.8.dfsg-2ubuntu4) ...", "Setting up libssl-dev:amd64 (1.0.2g-1ubuntu4.5) ...", "Setting up libpq-dev (9.5.4-1.pgdg16.04+1) ...", "Setting up libssl-doc (1.0.2g-1ubuntu4.5) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ..."]}
2016-09-25 14:23:30,337 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 14:23:30,556 p=9244 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:30,577 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 14:23:30,639 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:30,647 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 14:23:30,984 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 14:23:30,992 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 14:23:31,437 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 14:23:31,446 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 14:23:31,515 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:31,523 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 14:23:31,586 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:31,594 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 14:23:31,662 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:31,671 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 14:23:31,747 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:31,761 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 14:23:31,839 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:31,847 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 14:23:32,148 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 14:23:32,157 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 14:23:32,776 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 14:23:32,786 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 14:23:33,477 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 14:23:33,485 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 14:23:33,557 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:33,565 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 14:23:33,881 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 14:23:33,889 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 14:23:33,962 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:33,971 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 14:23:34,052 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:34,061 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 14:23:34,372 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 14:23:34,382 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 14:23:34,465 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:34,478 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 14:23:34,971 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 14:23:34,979 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 14:23:35,751 p=9244 u=tie |  changed: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": true, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 14:23:35,771 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 14:23:36,135 p=9244 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 14:23:36,143 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 14:23:37,313 p=9244 u=tie |  changed: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": true, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 14:23:37,336 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 14:23:37,414 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 14:23:38,216 p=9244 u=tie |  changed: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": true, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.112776", "end": "2016-09-25 11:23:37.603023", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 11:23:37.490247", "stderr": "", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 14:23:38,247 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 14:23:38,982 p=9244 u=tie |  changed: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": true, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.091593", "end": "2016-09-25 11:23:38.350948", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 11:23:38.259355", "stderr": "", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 14:23:39,010 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 14:23:39,209 p=9244 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:39,227 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 14:23:39,413 p=9244 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:39,427 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 14:23:39,610 p=9244 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:39,640 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 14:23:39,829 p=9244 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:39,864 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 14:23:40,053 p=9244 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:40,087 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 14:23:40,158 p=9244 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 14:23:40,225 p=9244 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 14:23:40,232 p=9244 u=tie |  RUNNING HANDLER [ANXS.postgresql : restart postgresql] *************************
2016-09-25 14:23:43,909 p=9244 u=tie |  changed: [the_tale] => {"changed": true, "name": "postgresql", "state": "started"}
2016-09-25 14:23:43,916 p=9244 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 14:23:43,917 p=9244 u=tie |  the_tale                   : ok=27   changed=6    unreachable=0    failed=0   
2016-09-25 20:12:12,531 p=25084 u=root |  - geerlingguy.nginx is already installed, skipping.
2016-09-25 20:18:29,603 p=25691 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 20:18:30,190 p=25691 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 20:18:30,206 p=25691 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 20:18:31,212 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 20:18:31,219 p=25691 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 20:18:33,592 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 20:18:33,607 p=25691 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 20:18:33,614 p=25691 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:18:34,639 p=25691 u=tie |  ok: [the_tale]
2016-09-25 20:18:34,647 p=25691 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 20:18:35,385 p=25691 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 20:18:35,402 p=25691 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 20:18:35,549 p=25691 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:18:36,382 p=25691 u=tie |  ok: [the_tale]
2016-09-25 20:18:36,391 p=25691 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 20:18:36,557 p=25691 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 20:18:36,589 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:18:37,320 p=25691 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:18:37,329 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 20:18:38,029 p=25691 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 20:18:38,038 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:18:38,615 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 20:18:38,624 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 20:18:39,395 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 20:18:39,404 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:18:52,001 p=25691 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474823920, "cache_updated": true, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 20:18:52,020 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:18:52,889 p=25691 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 20:18:52,935 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:18:53,005 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,017 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:18:53,090 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,098 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:18:53,201 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,209 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:18:53,414 p=25691 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,433 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:18:53,617 p=25691 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,636 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:18:53,713 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,726 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 20:18:53,812 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,823 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 20:18:53,900 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:53,909 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 20:18:54,607 p=25691 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:18:54,616 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 20:18:54,855 p=25691 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:54,876 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 20:18:54,958 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:54,966 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 20:18:55,342 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:18:55,350 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 20:18:55,757 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 20:18:55,766 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 20:18:55,847 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:55,856 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 20:18:55,916 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:55,924 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 20:18:55,985 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:55,993 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 20:18:56,073 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:56,081 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 20:18:56,162 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:56,170 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 20:18:56,504 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:18:56,513 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 20:18:57,137 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 20:18:57,146 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 20:18:57,811 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 20:18:57,819 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 20:18:57,910 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:57,924 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 20:18:58,251 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:18:58,262 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 20:18:58,336 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:58,345 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 20:18:58,425 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:58,434 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 20:18:58,773 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 20:18:58,781 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 20:18:58,854 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:18:58,862 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:18:59,335 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:18:59,344 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 20:19:00,109 p=25691 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 20:19:00,121 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:19:00,521 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:19:00,529 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 20:19:01,293 p=25691 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 20:19:01,310 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 20:19:01,386 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 20:19:02,169 p=25691 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.072086", "end": "2016-09-25 17:19:02.039309", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:19:01.967223", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:19:02,200 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 20:19:02,913 p=25691 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.072827", "end": "2016-09-25 17:19:02.783242", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:19:02.710415", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:19:02,947 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 20:19:03,130 p=25691 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:03,149 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 20:19:03,338 p=25691 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:03,362 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 20:19:03,548 p=25691 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:03,567 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 20:19:03,756 p=25691 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:03,787 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 20:19:03,974 p=25691 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:04,005 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 20:19:04,073 p=25691 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 20:19:04,132 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:04,151 p=25691 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 20:19:04,195 p=25691 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:19:06,011 p=25691 u=tie |  ok: [the_tale]
2016-09-25 20:19:06,020 p=25691 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 20:19:06,113 p=25691 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 20:19:06,121 p=25691 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 20:19:06,217 p=25691 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 20:19:06,224 p=25691 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 20:19:06,308 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:06,316 p=25691 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:19:06,396 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:06,405 p=25691 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 20:19:06,508 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:06,516 p=25691 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 20:19:06,606 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:06,614 p=25691 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 20:19:07,322 p=25691 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:19:07,331 p=25691 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:19:34,007 p=25691 u=tie |  changed: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0\n  libjpeg-turbo8 libjpeg8 libtiff5 libvpx3 libxpm4 nginx-common nginx-core\nSuggested packages:\n  libgd-tools fcgiwrap nginx-doc\nThe following NEW packages will be installed:\n  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0\n  libjpeg-turbo8 libjpeg8 libtiff5 libvpx3 libxpm4 nginx nginx-common\n  nginx-core\n0 upgraded, 13 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 2850 kB of archives.\nAfter this operation, 9314 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial/main amd64 libjpeg-turbo8 amd64 1.4.2-0ubuntu3 [111 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libxpm4 amd64 1:3.5.11-1 [33.1 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 libjbig0 amd64 2.1-3.1 [26.6 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 fonts-dejavu-core all 2.35-1 [1039 kB]\nGet:5 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 fontconfig-config all 2.11.94-0ubuntu1.1 [49.9 kB]\nGet:6 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libfontconfig1 amd64 2.11.94-0ubuntu1.1 [131 kB]\nGet:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 libjpeg8 amd64 8c-2ubuntu8 [2194 B]\nGet:8 http://archive.ubuntu.com/ubuntu xenial/main amd64 libtiff5 amd64 4.0.6-1 [144 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 libvpx3 amd64 1.5.0-2ubuntu1 [732 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libgd3 amd64 2.1.1-4ubuntu0.16.04.3 [125 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 nginx-common all 1.10.0-0ubuntu0.16.04.2 [25.6 kB]\nGet:12 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 nginx-core amd64 1.10.0-0ubuntu0.16.04.2 [428 kB]\nGet:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 nginx all 1.10.0-0ubuntu0.16.04.2 [3498 B]\nFetched 2850 kB in 20s (142 kB/s)\nSelecting previously unselected package libjpeg-turbo8:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 63514 files and directories currently installed.)\r\nPreparing to unpack .../libjpeg-turbo8_1.4.2-0ubuntu3_amd64.deb ...\r\nUnpacking libjpeg-turbo8:amd64 (1.4.2-0ubuntu3) ...\r\nSelecting previously unselected package libxpm4:amd64.\r\nPreparing to unpack .../libxpm4_1%3a3.5.11-1_amd64.deb ...\r\nUnpacking libxpm4:amd64 (1:3.5.11-1) ...\r\nSelecting previously unselected package libjbig0:amd64.\r\nPreparing to unpack .../libjbig0_2.1-3.1_amd64.deb ...\r\nUnpacking libjbig0:amd64 (2.1-3.1) ...\r\nSelecting previously unselected package fonts-dejavu-core.\r\nPreparing to unpack .../fonts-dejavu-core_2.35-1_all.deb ...\r\nUnpacking fonts-dejavu-core (2.35-1) ...\r\nSelecting previously unselected package fontconfig-config.\r\nPreparing to unpack .../fontconfig-config_2.11.94-0ubuntu1.1_all.deb ...\r\nUnpacking fontconfig-config (2.11.94-0ubuntu1.1) ...\r\nSelecting previously unselected package libfontconfig1:amd64.\r\nPreparing to unpack .../libfontconfig1_2.11.94-0ubuntu1.1_amd64.deb ...\r\nUnpacking libfontconfig1:amd64 (2.11.94-0ubuntu1.1) ...\r\nSelecting previously unselected package libjpeg8:amd64.\r\nPreparing to unpack .../libjpeg8_8c-2ubuntu8_amd64.deb ...\r\nUnpacking libjpeg8:amd64 (8c-2ubuntu8) ...\r\nSelecting previously unselected package libtiff5:amd64.\r\nPreparing to unpack .../libtiff5_4.0.6-1_amd64.deb ...\r\nUnpacking libtiff5:amd64 (4.0.6-1) ...\r\nSelecting previously unselected package libvpx3:amd64.\r\nPreparing to unpack .../libvpx3_1.5.0-2ubuntu1_amd64.deb ...\r\nUnpacking libvpx3:amd64 (1.5.0-2ubuntu1) ...\r\nSelecting previously unselected package libgd3:amd64.\r\nPreparing to unpack .../libgd3_2.1.1-4ubuntu0.16.04.3_amd64.deb ...\r\nUnpacking libgd3:amd64 (2.1.1-4ubuntu0.16.04.3) ...\r\nSelecting previously unselected package nginx-common.\r\nPreparing to unpack .../nginx-common_1.10.0-0ubuntu0.16.04.2_all.deb ...\r\nUnpacking nginx-common (1.10.0-0ubuntu0.16.04.2) ...\r\nSelecting previously unselected package nginx-core.\r\nPreparing to unpack .../nginx-core_1.10.0-0ubuntu0.16.04.2_amd64.deb ...\r\nUnpacking nginx-core (1.10.0-0ubuntu0.16.04.2) ...\r\nSelecting previously unselected package nginx.\r\nPreparing to unpack .../nginx_1.10.0-0ubuntu0.16.04.2_all.deb ...\r\nUnpacking nginx (1.10.0-0ubuntu0.16.04.2) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for man-db (2.7.5-1) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\nProcessing triggers for ufw (0.35-0ubuntu2) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nSetting up libjpeg-turbo8:amd64 (1.4.2-0ubuntu3) ...\r\nSetting up libxpm4:amd64 (1:3.5.11-1) ...\r\nSetting up libjbig0:amd64 (2.1-3.1) ...\r\nSetting up fonts-dejavu-core (2.35-1) ...\r\nSetting up fontconfig-config (2.11.94-0ubuntu1.1) ...\r\nSetting up libfontconfig1:amd64 (2.11.94-0ubuntu1.1) ...\r\nSetting up libjpeg8:amd64 (8c-2ubuntu8) ...\r\nSetting up libtiff5:amd64 (4.0.6-1) ...\r\nSetting up libvpx3:amd64 (1.5.0-2ubuntu1) ...\r\nSetting up libgd3:amd64 (2.1.1-4ubuntu0.16.04.3) ...\r\nSetting up nginx-common (1.10.0-0ubuntu0.16.04.2) ...\r\nSetting up nginx-core (1.10.0-0ubuntu0.16.04.2) ...\r\nSetting up nginx (1.10.0-0ubuntu0.16.04.2) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\nProcessing triggers for ufw (0.35-0ubuntu2) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0", "  libjpeg-turbo8 libjpeg8 libtiff5 libvpx3 libxpm4 nginx-common nginx-core", "Suggested packages:", "  libgd-tools fcgiwrap nginx-doc", "The following NEW packages will be installed:", "  fontconfig-config fonts-dejavu-core libfontconfig1 libgd3 libjbig0", "  libjpeg-turbo8 libjpeg8 libtiff5 libvpx3 libxpm4 nginx nginx-common", "  nginx-core", "0 upgraded, 13 newly installed, 0 to remove and 1 not upgraded.", "Need to get 2850 kB of archives.", "After this operation, 9314 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu xenial/main amd64 libjpeg-turbo8 amd64 1.4.2-0ubuntu3 [111 kB]", "Get:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libxpm4 amd64 1:3.5.11-1 [33.1 kB]", "Get:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 libjbig0 amd64 2.1-3.1 [26.6 kB]", "Get:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 fonts-dejavu-core all 2.35-1 [1039 kB]", "Get:5 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 fontconfig-config all 2.11.94-0ubuntu1.1 [49.9 kB]", "Get:6 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libfontconfig1 amd64 2.11.94-0ubuntu1.1 [131 kB]", "Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 libjpeg8 amd64 8c-2ubuntu8 [2194 B]", "Get:8 http://archive.ubuntu.com/ubuntu xenial/main amd64 libtiff5 amd64 4.0.6-1 [144 kB]", "Get:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 libvpx3 amd64 1.5.0-2ubuntu1 [732 kB]", "Get:10 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libgd3 amd64 2.1.1-4ubuntu0.16.04.3 [125 kB]", "Get:11 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 nginx-common all 1.10.0-0ubuntu0.16.04.2 [25.6 kB]", "Get:12 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 nginx-core amd64 1.10.0-0ubuntu0.16.04.2 [428 kB]", "Get:13 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 nginx all 1.10.0-0ubuntu0.16.04.2 [3498 B]", "Fetched 2850 kB in 20s (142 kB/s)", "Selecting previously unselected package libjpeg-turbo8:amd64.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 63514 files and directories currently installed.)", "Preparing to unpack .../libjpeg-turbo8_1.4.2-0ubuntu3_amd64.deb ...", "Unpacking libjpeg-turbo8:amd64 (1.4.2-0ubuntu3) ...", "Selecting previously unselected package libxpm4:amd64.", "Preparing to unpack .../libxpm4_1%3a3.5.11-1_amd64.deb ...", "Unpacking libxpm4:amd64 (1:3.5.11-1) ...", "Selecting previously unselected package libjbig0:amd64.", "Preparing to unpack .../libjbig0_2.1-3.1_amd64.deb ...", "Unpacking libjbig0:amd64 (2.1-3.1) ...", "Selecting previously unselected package fonts-dejavu-core.", "Preparing to unpack .../fonts-dejavu-core_2.35-1_all.deb ...", "Unpacking fonts-dejavu-core (2.35-1) ...", "Selecting previously unselected package fontconfig-config.", "Preparing to unpack .../fontconfig-config_2.11.94-0ubuntu1.1_all.deb ...", "Unpacking fontconfig-config (2.11.94-0ubuntu1.1) ...", "Selecting previously unselected package libfontconfig1:amd64.", "Preparing to unpack .../libfontconfig1_2.11.94-0ubuntu1.1_amd64.deb ...", "Unpacking libfontconfig1:amd64 (2.11.94-0ubuntu1.1) ...", "Selecting previously unselected package libjpeg8:amd64.", "Preparing to unpack .../libjpeg8_8c-2ubuntu8_amd64.deb ...", "Unpacking libjpeg8:amd64 (8c-2ubuntu8) ...", "Selecting previously unselected package libtiff5:amd64.", "Preparing to unpack .../libtiff5_4.0.6-1_amd64.deb ...", "Unpacking libtiff5:amd64 (4.0.6-1) ...", "Selecting previously unselected package libvpx3:amd64.", "Preparing to unpack .../libvpx3_1.5.0-2ubuntu1_amd64.deb ...", "Unpacking libvpx3:amd64 (1.5.0-2ubuntu1) ...", "Selecting previously unselected package libgd3:amd64.", "Preparing to unpack .../libgd3_2.1.1-4ubuntu0.16.04.3_amd64.deb ...", "Unpacking libgd3:amd64 (2.1.1-4ubuntu0.16.04.3) ...", "Selecting previously unselected package nginx-common.", "Preparing to unpack .../nginx-common_1.10.0-0ubuntu0.16.04.2_all.deb ...", "Unpacking nginx-common (1.10.0-0ubuntu0.16.04.2) ...", "Selecting previously unselected package nginx-core.", "Preparing to unpack .../nginx-core_1.10.0-0ubuntu0.16.04.2_amd64.deb ...", "Unpacking nginx-core (1.10.0-0ubuntu0.16.04.2) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.10.0-0ubuntu0.16.04.2_all.deb ...", "Unpacking nginx (1.10.0-0ubuntu0.16.04.2) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for man-db (2.7.5-1) ...", "Processing triggers for ureadahead (0.100.0-19) ...", "Processing triggers for ufw (0.35-0ubuntu2) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Setting up libjpeg-turbo8:amd64 (1.4.2-0ubuntu3) ...", "Setting up libxpm4:amd64 (1:3.5.11-1) ...", "Setting up libjbig0:amd64 (2.1-3.1) ...", "Setting up fonts-dejavu-core (2.35-1) ...", "Setting up fontconfig-config (2.11.94-0ubuntu1.1) ...", "Setting up libfontconfig1:amd64 (2.11.94-0ubuntu1.1) ...", "Setting up libjpeg8:amd64 (8c-2ubuntu8) ...", "Setting up libtiff5:amd64 (4.0.6-1) ...", "Setting up libvpx3:amd64 (1.5.0-2ubuntu1) ...", "Setting up libgd3:amd64 (2.1.1-4ubuntu0.16.04.3) ...", "Setting up nginx-common (1.10.0-0ubuntu0.16.04.2) ...", "Setting up nginx-core (1.10.0-0ubuntu0.16.04.2) ...", "Setting up nginx (1.10.0-0ubuntu0.16.04.2) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ...", "Processing triggers for ufw (0.35-0ubuntu2) ..."]}
2016-09-25 20:19:34,020 p=25691 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 20:19:34,105 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:34,114 p=25691 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:19:34,202 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:34,210 p=25691 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 20:19:34,323 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:34,336 p=25691 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 20:19:34,398 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:34,406 p=25691 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 20:19:34,731 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 20:19:34,739 p=25691 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 20:19:35,410 p=25691 u=tie |  changed: [the_tale] => {"changed": true, "checksum": "61adb5d6e96f765d90154d3d25323664b84a6b24", "dest": "/etc/nginx/sites-enabled/vhosts.conf", "gid": 0, "group": "root", "md5sum": "1fadb25635fa65aeb0cc084a1d4a4d82", "mode": "0644", "owner": "root", "size": 139, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1474823974.81-144530921424526/source", "state": "file", "uid": 0}
2016-09-25 20:19:35,417 p=25691 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 20:19:35,465 p=25691 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:19:35,474 p=25691 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 20:19:36,131 p=25691 u=tie |  changed: [the_tale] => {"changed": true, "checksum": "48b2a5d802d71223a786be486b55d6e7f103c9a2", "dest": "/etc/nginx/nginx.conf", "gid": 0, "group": "root", "md5sum": "d408b838a744dd87dbf3796fbc11518e", "mode": "0644", "owner": "root", "size": 838, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1474823975.53-228241601879241/source", "state": "file", "uid": 0}
2016-09-25 20:19:36,138 p=25691 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 20:19:36,489 p=25691 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 20:19:36,497 p=25691 u=tie |  RUNNING HANDLER [geerlingguy.nginx : reload nginx] *****************************
2016-09-25 20:19:36,840 p=25691 u=tie |  fatal: [the_tale]: FAILED! => {"changed": false, "failed": true, "msg": "Job for nginx.service failed because the control process exited with error code. See \"systemctl status nginx.service\" and \"journalctl -xe\" for details.\n"}
2016-09-25 20:19:36,846 p=25691 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 20:19:36,846 p=25691 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 20:19:36,846 p=25691 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 20:19:36,847 p=25691 u=tie |  the_tale                   : ok=35   changed=3    unreachable=0    failed=1   
2016-09-25 20:19:51,580 p=26244 u=root |  - downloading role 'redis', owned by geerlingguy
2016-09-25 20:19:57,166 p=26244 u=root |  - downloading role from https://github.com/geerlingguy/ansible-role-redis/archive/1.4.1.tar.gz
2016-09-25 20:20:01,253 p=26244 u=root |  - extracting geerlingguy.redis to /etc/ansible/roles/geerlingguy.redis
2016-09-25 20:20:01,256 p=26244 u=root |  - geerlingguy.redis was installed successfully
2016-09-25 20:22:14,175 p=26496 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 20:22:14,668 p=26496 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 20:22:14,683 p=26496 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 20:22:15,609 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 20:22:15,616 p=26496 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 20:22:16,536 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 20:22:16,550 p=26496 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 20:22:16,558 p=26496 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:22:17,607 p=26496 u=tie |  ok: [the_tale]
2016-09-25 20:22:17,615 p=26496 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 20:22:18,378 p=26496 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 20:22:18,395 p=26496 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 20:22:18,530 p=26496 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:22:19,314 p=26496 u=tie |  ok: [the_tale]
2016-09-25 20:22:19,323 p=26496 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 20:22:19,495 p=26496 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 20:22:19,519 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:22:20,214 p=26496 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:22:20,225 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 20:22:20,941 p=26496 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 20:22:20,949 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:22:21,528 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 20:22:21,536 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 20:22:22,293 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 20:22:22,302 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:22:23,174 p=26496 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 20:22:23,191 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:22:23,996 p=26496 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 20:22:24,046 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:22:24,125 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,135 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:22:24,200 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,208 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:22:24,299 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,308 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:22:24,509 p=26496 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,528 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:22:24,722 p=26496 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,734 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:22:24,817 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,829 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 20:22:24,907 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:24,915 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 20:22:25,013 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:25,022 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 20:22:25,738 p=26496 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:22:25,747 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 20:22:25,996 p=26496 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:26,010 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 20:22:26,092 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:26,100 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 20:22:26,437 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:22:26,446 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 20:22:26,861 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 20:22:26,870 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 20:22:26,937 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:26,946 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 20:22:27,016 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:27,024 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 20:22:27,097 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:27,105 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 20:22:27,197 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:27,205 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 20:22:27,285 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:27,294 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 20:22:27,626 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:22:27,638 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 20:22:28,244 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 20:22:28,252 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 20:22:28,954 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 20:22:28,962 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 20:22:29,030 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:29,037 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 20:22:29,369 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:22:29,378 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 20:22:29,455 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:29,463 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 20:22:29,542 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:29,549 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 20:22:29,893 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 20:22:29,901 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 20:22:29,969 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:29,979 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:22:30,428 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:22:30,437 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 20:22:31,226 p=26496 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 20:22:31,238 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:22:31,625 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:22:31,634 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 20:22:32,374 p=26496 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 20:22:32,387 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 20:22:32,463 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 20:22:33,270 p=26496 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.071971", "end": "2016-09-25 17:22:33.043509", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:22:32.971538", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:22:33,287 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 20:22:34,010 p=26496 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.077114", "end": "2016-09-25 17:22:33.797568", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:22:33.720454", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:22:34,035 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 20:22:34,229 p=26496 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:34,244 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 20:22:34,437 p=26496 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:34,460 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 20:22:34,643 p=26496 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:34,663 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 20:22:34,862 p=26496 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:34,874 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 20:22:35,072 p=26496 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:35,102 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 20:22:35,182 p=26496 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 20:22:35,249 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:35,266 p=26496 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 20:22:35,310 p=26496 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:22:36,163 p=26496 u=tie |  ok: [the_tale]
2016-09-25 20:22:36,172 p=26496 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 20:22:36,272 p=26496 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 20:22:36,280 p=26496 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 20:22:36,364 p=26496 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 20:22:36,372 p=26496 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 20:22:36,477 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:36,485 p=26496 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:22:36,577 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:36,586 p=26496 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 20:22:36,673 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:36,680 p=26496 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 20:22:36,771 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:36,779 p=26496 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 20:22:37,479 p=26496 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:22:37,487 p=26496 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:22:38,234 p=26496 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:22:38,243 p=26496 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 20:22:38,319 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:38,327 p=26496 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:22:38,413 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:38,421 p=26496 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 20:22:38,534 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:38,544 p=26496 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 20:22:38,865 p=26496 u=tie |  changed: [the_tale] => {"changed": true, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 20:22:38,873 p=26496 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 20:22:39,165 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 20:22:39,172 p=26496 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 20:22:39,780 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 20:22:39,787 p=26496 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 20:22:39,839 p=26496 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:22:39,847 p=26496 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 20:22:40,489 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 20:22:40,497 p=26496 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 20:22:40,833 p=26496 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 20:22:40,839 p=26496 u=tie |  RUNNING HANDLER [geerlingguy.nginx : reload nginx] *****************************
2016-09-25 20:22:41,182 p=26496 u=tie |  changed: [the_tale] => {"changed": true, "name": "nginx", "state": "started"}
2016-09-25 20:22:41,189 p=26496 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 20:22:41,189 p=26496 u=tie |  the_tale                   : ok=37   changed=2    unreachable=0    failed=0   
2016-09-25 20:24:07,912 p=27315 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 20:24:08,416 p=27315 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 20:24:08,432 p=27315 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 20:24:09,451 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 20:24:09,460 p=27315 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 20:24:10,405 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 20:24:10,418 p=27315 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 20:24:10,425 p=27315 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:24:11,529 p=27315 u=tie |  ok: [the_tale]
2016-09-25 20:24:11,538 p=27315 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 20:24:12,342 p=27315 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 20:24:12,357 p=27315 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 20:24:12,498 p=27315 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:24:13,261 p=27315 u=tie |  ok: [the_tale]
2016-09-25 20:24:13,271 p=27315 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 20:24:13,433 p=27315 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 20:24:13,463 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:24:14,114 p=27315 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:24:14,123 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 20:24:14,797 p=27315 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 20:24:14,806 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:24:15,374 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 20:24:15,382 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 20:24:16,132 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 20:24:16,141 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:24:16,949 p=27315 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 20:24:16,963 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:24:17,815 p=27315 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 20:24:17,826 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:24:17,886 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:17,902 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:24:18,001 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,009 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:24:18,077 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,086 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:24:18,281 p=27315 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,306 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:24:18,495 p=27315 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,514 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:24:18,584 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,593 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 20:24:18,678 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,688 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 20:24:18,772 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:18,780 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 20:24:19,504 p=27315 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:24:19,512 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 20:24:19,758 p=27315 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:19,793 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 20:24:19,858 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:19,866 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 20:24:20,219 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:24:20,226 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 20:24:20,656 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 20:24:20,665 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 20:24:20,750 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:20,758 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 20:24:20,839 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:20,847 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 20:24:20,932 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:20,940 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 20:24:21,015 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:21,024 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 20:24:21,089 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:21,100 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 20:24:21,429 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:24:21,437 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 20:24:22,030 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 20:24:22,038 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 20:24:22,692 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 20:24:22,701 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 20:24:22,771 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:22,780 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 20:24:23,139 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:24:23,146 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 20:24:23,211 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:23,219 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 20:24:23,285 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:23,297 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 20:24:23,621 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 20:24:23,629 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 20:24:23,695 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:23,705 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:24:24,157 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:24:24,166 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 20:24:24,926 p=27315 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 20:24:24,939 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:24:25,288 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:24:25,296 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 20:24:26,066 p=27315 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 20:24:26,099 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 20:24:26,174 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 20:24:26,981 p=27315 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.080192", "end": "2016-09-25 17:24:26.773792", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:24:26.693600", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:24:27,005 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 20:24:27,701 p=27315 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.085481", "end": "2016-09-25 17:24:27.506281", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:24:27.420800", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:24:27,731 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 20:24:27,926 p=27315 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:27,938 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 20:24:28,141 p=27315 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:28,153 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 20:24:28,347 p=27315 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:28,371 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 20:24:28,565 p=27315 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:28,585 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 20:24:28,781 p=27315 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:28,810 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 20:24:28,886 p=27315 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 20:24:28,981 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:28,999 p=27315 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 20:24:29,044 p=27315 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:24:29,854 p=27315 u=tie |  ok: [the_tale]
2016-09-25 20:24:29,863 p=27315 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 20:24:29,987 p=27315 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 20:24:29,995 p=27315 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 20:24:30,037 p=27315 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 20:24:30,045 p=27315 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 20:24:30,131 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:30,139 p=27315 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:24:30,204 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:30,214 p=27315 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 20:24:30,279 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:30,286 p=27315 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 20:24:30,339 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:30,347 p=27315 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 20:24:31,004 p=27315 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:24:31,012 p=27315 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:24:31,624 p=27315 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:24:31,632 p=27315 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 20:24:31,685 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:31,697 p=27315 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:24:31,766 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:31,779 p=27315 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 20:24:31,828 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:31,836 p=27315 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 20:24:32,106 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 20:24:32,114 p=27315 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 20:24:32,431 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 20:24:32,440 p=27315 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 20:24:33,048 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 20:24:33,055 p=27315 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 20:24:33,119 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:33,129 p=27315 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 20:24:33,673 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 20:24:33,681 p=27315 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 20:24:34,043 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 20:24:34,058 p=27315 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 20:24:34,079 p=27315 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:24:34,891 p=27315 u=tie |  ok: [the_tale]
2016-09-25 20:24:34,902 p=27315 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 20:24:34,959 p=27315 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 20:24:34,966 p=27315 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 20:24:35,023 p=27315 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 20:24:35,032 p=27315 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 20:24:35,110 p=27315 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:24:35,119 p=27315 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 20:24:43,585 p=27315 u=tie |  changed: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libjemalloc1 redis-tools\nSuggested packages:\n  ruby-redis\nThe following NEW packages will be installed:\n  libjemalloc1 redis-server redis-tools\n0 upgraded, 3 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 517 kB of archives.\nAfter this operation, 1505 kB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial/universe amd64 libjemalloc1 amd64 3.6.0-9ubuntu1 [78.9 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/universe amd64 redis-tools amd64 2:3.0.6-1 [95.3 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial/universe amd64 redis-server amd64 2:3.0.6-1 [343 kB]\nFetched 517 kB in 3s (152 kB/s)\nSelecting previously unselected package libjemalloc1.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 63718 files and directories currently installed.)\r\nPreparing to unpack .../libjemalloc1_3.6.0-9ubuntu1_amd64.deb ...\r\nUnpacking libjemalloc1 (3.6.0-9ubuntu1) ...\r\nSelecting previously unselected package redis-tools.\r\nPreparing to unpack .../redis-tools_2%3a3.0.6-1_amd64.deb ...\r\nUnpacking redis-tools (2:3.0.6-1) ...\r\nSelecting previously unselected package redis-server.\r\nPreparing to unpack .../redis-server_2%3a3.0.6-1_amd64.deb ...\r\nUnpacking redis-server (2:3.0.6-1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for man-db (2.7.5-1) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\nSetting up libjemalloc1 (3.6.0-9ubuntu1) ...\r\nSetting up redis-tools (2:3.0.6-1) ...\r\nSetting up redis-server (2:3.0.6-1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libjemalloc1 redis-tools", "Suggested packages:", "  ruby-redis", "The following NEW packages will be installed:", "  libjemalloc1 redis-server redis-tools", "0 upgraded, 3 newly installed, 0 to remove and 1 not upgraded.", "Need to get 517 kB of archives.", "After this operation, 1505 kB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu xenial/universe amd64 libjemalloc1 amd64 3.6.0-9ubuntu1 [78.9 kB]", "Get:2 http://archive.ubuntu.com/ubuntu xenial/universe amd64 redis-tools amd64 2:3.0.6-1 [95.3 kB]", "Get:3 http://archive.ubuntu.com/ubuntu xenial/universe amd64 redis-server amd64 2:3.0.6-1 [343 kB]", "Fetched 517 kB in 3s (152 kB/s)", "Selecting previously unselected package libjemalloc1.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 63718 files and directories currently installed.)", "Preparing to unpack .../libjemalloc1_3.6.0-9ubuntu1_amd64.deb ...", "Unpacking libjemalloc1 (3.6.0-9ubuntu1) ...", "Selecting previously unselected package redis-tools.", "Preparing to unpack .../redis-tools_2%3a3.0.6-1_amd64.deb ...", "Unpacking redis-tools (2:3.0.6-1) ...", "Selecting previously unselected package redis-server.", "Preparing to unpack .../redis-server_2%3a3.0.6-1_amd64.deb ...", "Unpacking redis-server (2:3.0.6-1) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for man-db (2.7.5-1) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ...", "Setting up libjemalloc1 (3.6.0-9ubuntu1) ...", "Setting up redis-tools (2:3.0.6-1) ...", "Setting up redis-server (2:3.0.6-1) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ..."]}
2016-09-25 20:24:43,597 p=27315 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 20:24:44,341 p=27315 u=tie |  changed: [the_tale] => {"changed": true, "checksum": "a5fb9eb99da1e3aa6ba518a10d1029775b313c57", "dest": "/etc/redis/redis.conf", "gid": 119, "group": "redis", "md5sum": "d881a1c4fd17e2ca11ecfd0bb6ec1d89", "mode": "0644", "owner": "redis", "size": 561, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1474824283.64-174212193743830/source", "state": "file", "uid": 113}
2016-09-25 20:24:44,349 p=27315 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 20:24:44,695 p=27315 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 20:24:44,702 p=27315 u=tie |  RUNNING HANDLER [geerlingguy.redis : restart redis] ****************************
2016-09-25 20:24:45,447 p=27315 u=tie |  changed: [the_tale] => {"changed": true, "name": "redis-server", "state": "started"}
2016-09-25 20:24:45,455 p=27315 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 20:24:45,455 p=27315 u=tie |  the_tale                   : ok=43   changed=3    unreachable=0    failed=0   
2016-09-25 20:28:12,711 p=28242 u=root |  - downloading role 'rabbitmq', owned by Stouts
2016-09-25 20:28:16,191 p=28242 u=root |  - downloading role from https://github.com/Stouts/Stouts.rabbitmq/archive/1.2.1.tar.gz
2016-09-25 20:28:18,773 p=28242 u=root |  - extracting Stouts.rabbitmq to /etc/ansible/roles/Stouts.rabbitmq
2016-09-25 20:28:18,776 p=28242 u=root |  - Stouts.rabbitmq was installed successfully
2016-09-25 20:28:26,136 p=28413 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 20:28:26,705 p=28413 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 20:28:26,723 p=28413 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 20:28:27,759 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 20:28:27,766 p=28413 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 20:28:28,715 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 20:28:28,729 p=28413 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 20:28:28,737 p=28413 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:28:29,817 p=28413 u=tie |  ok: [the_tale]
2016-09-25 20:28:29,825 p=28413 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 20:28:30,561 p=28413 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 20:28:30,577 p=28413 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 20:28:30,710 p=28413 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:28:31,489 p=28413 u=tie |  ok: [the_tale]
2016-09-25 20:28:31,498 p=28413 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 20:28:31,694 p=28413 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 20:28:31,714 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:28:32,359 p=28413 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:28:32,368 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 20:28:33,011 p=28413 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 20:28:33,019 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:28:33,575 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 20:28:33,584 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 20:28:34,337 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 20:28:34,350 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:28:35,142 p=28413 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 20:28:35,187 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:28:35,965 p=28413 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 20:28:35,983 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:28:36,087 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,095 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 20:28:36,168 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,175 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 20:28:36,257 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,266 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 20:28:36,459 p=28413 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,478 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 20:28:36,661 p=28413 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,680 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 20:28:36,759 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,768 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 20:28:36,857 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,866 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 20:28:36,963 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:36,971 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 20:28:37,700 p=28413 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:28:37,709 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 20:28:37,936 p=28413 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:37,963 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 20:28:38,038 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:38,046 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 20:28:38,347 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:28:38,355 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 20:28:38,752 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 20:28:38,762 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 20:28:38,828 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:38,836 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 20:28:38,900 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:38,909 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 20:28:38,977 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:38,985 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 20:28:39,051 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:39,059 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 20:28:39,120 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:39,129 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 20:28:39,428 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:28:39,436 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 20:28:39,988 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 20:28:39,997 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 20:28:40,623 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 20:28:40,631 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 20:28:40,707 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:40,715 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 20:28:41,075 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 20:28:41,084 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 20:28:41,160 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:41,168 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 20:28:41,250 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:41,264 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 20:28:41,614 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 20:28:41,622 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 20:28:41,703 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:41,711 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:28:42,172 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:28:42,181 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 20:28:42,894 p=28413 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 20:28:42,914 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 20:28:43,253 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 20:28:43,263 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 20:28:44,019 p=28413 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 20:28:44,032 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 20:28:44,116 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 20:28:44,862 p=28413 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.071399", "end": "2016-09-25 17:28:44.745438", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:28:44.674039", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:28:44,891 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 20:28:45,619 p=28413 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.076712", "end": "2016-09-25 17:28:45.504216", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 17:28:45.427504", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 20:28:45,649 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 20:28:45,859 p=28413 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:45,877 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 20:28:46,057 p=28413 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:46,076 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 20:28:46,260 p=28413 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:46,278 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 20:28:46,463 p=28413 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:46,480 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 20:28:46,669 p=28413 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:46,701 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 20:28:46,801 p=28413 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 20:28:46,915 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:46,931 p=28413 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 20:28:46,974 p=28413 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:28:47,780 p=28413 u=tie |  ok: [the_tale]
2016-09-25 20:28:47,790 p=28413 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 20:28:47,849 p=28413 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 20:28:47,857 p=28413 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 20:28:47,914 p=28413 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 20:28:47,923 p=28413 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 20:28:47,990 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:47,997 p=28413 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:28:48,045 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:48,053 p=28413 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 20:28:48,105 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:48,116 p=28413 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 20:28:48,166 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:48,174 p=28413 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 20:28:48,840 p=28413 u=tie |  ok: [the_tale] => {"cache_update_time": 1474823929, "cache_updated": false, "changed": false}
2016-09-25 20:28:48,849 p=28413 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:28:49,490 p=28413 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:28:49,498 p=28413 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 20:28:49,562 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:49,569 p=28413 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 20:28:49,650 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:49,658 p=28413 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 20:28:49,713 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:49,727 p=28413 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 20:28:50,013 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 20:28:50,021 p=28413 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 20:28:50,318 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 20:28:50,326 p=28413 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 20:28:50,917 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 20:28:50,925 p=28413 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 20:28:50,985 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:50,993 p=28413 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 20:28:51,569 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 20:28:51,577 p=28413 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 20:28:51,920 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 20:28:51,936 p=28413 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 20:28:51,956 p=28413 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:28:52,827 p=28413 u=tie |  ok: [the_tale]
2016-09-25 20:28:52,839 p=28413 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 20:28:52,902 p=28413 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 20:28:52,910 p=28413 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 20:28:52,969 p=28413 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 20:28:52,983 p=28413 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 20:28:53,037 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:28:53,045 p=28413 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 20:28:53,760 p=28413 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 20:28:53,767 p=28413 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 20:28:54,284 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 20:28:54,291 p=28413 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 20:28:54,603 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 20:28:54,619 p=28413 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 20:28:54,686 p=28413 u=tie |  TASK [setup] *******************************************************************
2016-09-25 20:28:55,610 p=28413 u=tie |  ok: [the_tale]
2016-09-25 20:28:55,621 p=28413 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 20:28:58,827 p=28413 u=tie |  changed: [the_tale] => {"changed": true}
2016-09-25 20:28:58,834 p=28413 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 20:29:05,128 p=28413 u=tie |  changed: [the_tale] => {"changed": true, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 20:29:05,136 p=28413 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 20:32:19,970 p=28413 u=tie |  changed: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": true, "stderr": "\rExtracting templates from packages: 96%\rExtracting templates from packages: 100%\n", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  erlang-asn1 erlang-base erlang-corba erlang-crypto erlang-diameter\n  erlang-edoc erlang-eldap erlang-erl-docgen erlang-eunit erlang-ic\n  erlang-inets erlang-mnesia erlang-nox erlang-odbc erlang-os-mon\n  erlang-parsetools erlang-percept erlang-public-key erlang-runtime-tools\n  erlang-snmp erlang-ssh erlang-ssl erlang-syntax-tools erlang-tools\n  erlang-webtool erlang-xmerl libltdl7 libodbc1 libsctp1 socat\nSuggested packages:\n  erlang erlang-manpages erlang-doc xsltproc fop erlang-ic-java\n  erlang-observer libmyodbc odbc-postgresql tdsodbc unixodbc-bin lksctp-tools\nThe following NEW packages will be installed:\n  erlang-asn1 erlang-base erlang-corba erlang-crypto erlang-diameter\n  erlang-edoc erlang-eldap erlang-erl-docgen erlang-eunit erlang-ic\n  erlang-inets erlang-mnesia erlang-nox erlang-odbc erlang-os-mon\n  erlang-parsetools erlang-percept erlang-public-key erlang-runtime-tools\n  erlang-snmp erlang-ssh erlang-ssl erlang-syntax-tools erlang-tools\n  erlang-webtool erlang-xmerl libltdl7 libodbc1 libsctp1 rabbitmq-server socat\n0 upgraded, 31 newly installed, 0 to remove and 1 not upgraded.\nNeed to get 25.1 MB of archives.\nAfter this operation, 43.2 MB of additional disk space will be used.\nGet:1 http://www.rabbitmq.com/debian testing/main amd64 rabbitmq-server all 3.6.5-1 [5472 kB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-base amd64 1:18.3-dfsg-1ubuntu3 [6962 kB]\nGet:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-asn1 amd64 1:18.3-dfsg-1ubuntu3 [709 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-mnesia amd64 1:18.3-dfsg-1ubuntu3 [664 kB]\nGet:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-runtime-tools amd64 1:18.3-dfsg-1ubuntu3 [164 kB]\nGet:6 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-crypto amd64 1:18.3-dfsg-1ubuntu3 [106 kB]\nGet:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-public-key amd64 1:18.3-dfsg-1ubuntu3 [524 kB]\nGet:8 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-ssl amd64 1:18.3-dfsg-1ubuntu3 [658 kB]\nGet:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-inets amd64 1:18.3-dfsg-1ubuntu3 [714 kB]\nGet:10 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-corba amd64 1:18.3-dfsg-1ubuntu3 [2233 kB]\nGet:11 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-syntax-tools amd64 1:18.3-dfsg-1ubuntu3 [322 kB]\nGet:12 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-diameter amd64 1:18.3-dfsg-1ubuntu3 [643 kB]\nGet:13 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-xmerl amd64 1:18.3-dfsg-1ubuntu3 [956 kB]\nGet:14 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-edoc amd64 1:18.3-dfsg-1ubuntu3 [293 kB]\nGet:15 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-eldap amd64 1:18.3-dfsg-1ubuntu3 [99.1 kB]\nGet:16 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-erl-docgen amd64 1:18.3-dfsg-1ubuntu3 [132 kB]\nGet:17 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-eunit amd64 1:18.3-dfsg-1ubuntu3 [135 kB]\nGet:18 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-ic amd64 1:18.3-dfsg-1ubuntu3 [816 kB]\nGet:19 http://archive.ubuntu.com/ubuntu xenial/main amd64 libltdl7 amd64 2.4.6-0.1 [38.3 kB]\nGet:20 http://archive.ubuntu.com/ubuntu xenial/main amd64 libodbc1 amd64 2.3.1-4.1 [180 kB]\nGet:21 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-odbc amd64 1:18.3-dfsg-1ubuntu3 [47.2 kB]\nGet:22 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-snmp amd64 1:18.3-dfsg-1ubuntu3 [1528 kB]\nGet:23 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-os-mon amd64 1:18.3-dfsg-1ubuntu3 [89.6 kB]\nGet:24 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-parsetools amd64 1:18.3-dfsg-1ubuntu3 [153 kB]\nGet:25 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-percept amd64 1:18.3-dfsg-1ubuntu3 [132 kB]\nGet:26 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-ssh amd64 1:18.3-dfsg-1ubuntu3 [430 kB]\nGet:27 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-webtool amd64 1:18.3-dfsg-1ubuntu3 [35.6 kB]\nGet:28 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-tools amd64 1:18.3-dfsg-1ubuntu3 [517 kB]\nGet:29 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-nox all 1:18.3-dfsg-1ubuntu3 [14.0 kB]\nGet:30 http://archive.ubuntu.com/ubuntu xenial/main amd64 libsctp1 amd64 1.0.16+dfsg-3 [8088 B]\nGet:31 http://archive.ubuntu.com/ubuntu xenial/universe amd64 socat amd64 1.7.3.1-1 [321 kB]\nFetched 25.1 MB in 3min 0s (139 kB/s)\nSelecting previously unselected package erlang-base.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 63759 files and directories currently installed.)\r\nPreparing to unpack .../erlang-base_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-base (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-asn1.\r\nPreparing to unpack .../erlang-asn1_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-asn1 (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-mnesia.\r\nPreparing to unpack .../erlang-mnesia_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-mnesia (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-runtime-tools.\r\nPreparing to unpack .../erlang-runtime-tools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-runtime-tools (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-crypto.\r\nPreparing to unpack .../erlang-crypto_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-crypto (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-public-key.\r\nPreparing to unpack .../erlang-public-key_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-public-key (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-ssl.\r\nPreparing to unpack .../erlang-ssl_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-ssl (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-inets.\r\nPreparing to unpack .../erlang-inets_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-inets (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-corba.\r\nPreparing to unpack .../erlang-corba_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-corba (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-syntax-tools.\r\nPreparing to unpack .../erlang-syntax-tools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-syntax-tools (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-diameter.\r\nPreparing to unpack .../erlang-diameter_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-diameter (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-xmerl.\r\nPreparing to unpack .../erlang-xmerl_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-xmerl (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-edoc.\r\nPreparing to unpack .../erlang-edoc_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-edoc (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-eldap.\r\nPreparing to unpack .../erlang-eldap_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-eldap (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-erl-docgen.\r\nPreparing to unpack .../erlang-erl-docgen_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-erl-docgen (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-eunit.\r\nPreparing to unpack .../erlang-eunit_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-eunit (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-ic.\r\nPreparing to unpack .../erlang-ic_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-ic (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package libltdl7:amd64.\r\nPreparing to unpack .../libltdl7_2.4.6-0.1_amd64.deb ...\r\nUnpacking libltdl7:amd64 (2.4.6-0.1) ...\r\nSelecting previously unselected package libodbc1:amd64.\r\nPreparing to unpack .../libodbc1_2.3.1-4.1_amd64.deb ...\r\nUnpacking libodbc1:amd64 (2.3.1-4.1) ...\r\nSelecting previously unselected package erlang-odbc.\r\nPreparing to unpack .../erlang-odbc_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-odbc (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-snmp.\r\nPreparing to unpack .../erlang-snmp_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-snmp (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-os-mon.\r\nPreparing to unpack .../erlang-os-mon_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-os-mon (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-parsetools.\r\nPreparing to unpack .../erlang-parsetools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-parsetools (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-percept.\r\nPreparing to unpack .../erlang-percept_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-percept (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-ssh.\r\nPreparing to unpack .../erlang-ssh_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-ssh (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-webtool.\r\nPreparing to unpack .../erlang-webtool_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-webtool (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-tools.\r\nPreparing to unpack .../erlang-tools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...\r\nUnpacking erlang-tools (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package erlang-nox.\r\nPreparing to unpack .../erlang-nox_1%3a18.3-dfsg-1ubuntu3_all.deb ...\r\nUnpacking erlang-nox (1:18.3-dfsg-1ubuntu3) ...\r\nSelecting previously unselected package libsctp1:amd64.\r\nPreparing to unpack .../libsctp1_1.0.16+dfsg-3_amd64.deb ...\r\nUnpacking libsctp1:amd64 (1.0.16+dfsg-3) ...\r\nSelecting previously unselected package socat.\r\nPreparing to unpack .../socat_1.7.3.1-1_amd64.deb ...\r\nUnpacking socat (1.7.3.1-1) ...\r\nSelecting previously unselected package rabbitmq-server.\r\nPreparing to unpack .../rabbitmq-server_3.6.5-1_all.deb ...\r\nUnpacking rabbitmq-server (3.6.5-1) ...\r\nProcessing triggers for man-db (2.7.5-1) ...\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\nSetting up erlang-base (1:18.3-dfsg-1ubuntu3) ...\r\nSearching for services which depend on erlang and should be started...none found.\r\nSetting up erlang-asn1 (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-mnesia (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-runtime-tools (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-crypto (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-public-key (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-ssl (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-inets (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-corba (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-syntax-tools (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-diameter (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-xmerl (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-edoc (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-eldap (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-erl-docgen (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-eunit (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-ic (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up libltdl7:amd64 (2.4.6-0.1) ...\r\nSetting up libodbc1:amd64 (2.3.1-4.1) ...\r\nSetting up erlang-odbc (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-snmp (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-os-mon (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-parsetools (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-percept (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-ssh (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-webtool (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-tools (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up erlang-nox (1:18.3-dfsg-1ubuntu3) ...\r\nSetting up libsctp1:amd64 (1.0.16+dfsg-3) ...\r\nSetting up socat (1.7.3.1-1) ...\r\nSetting up rabbitmq-server (3.6.5-1) ...\r\nAdding group `rabbitmq' (GID 121) ...\r\nDone.\r\nAdding system user `rabbitmq' (UID 115) ...\r\nAdding new user `rabbitmq' (UID 115) with group `rabbitmq' ...\r\nNot creating home directory `/var/lib/rabbitmq'.\r\nProcessing triggers for libc-bin (2.23-0ubuntu3) ...\r\nProcessing triggers for systemd (229-4ubuntu8) ...\r\nProcessing triggers for ureadahead (0.100.0-19) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  erlang-asn1 erlang-base erlang-corba erlang-crypto erlang-diameter", "  erlang-edoc erlang-eldap erlang-erl-docgen erlang-eunit erlang-ic", "  erlang-inets erlang-mnesia erlang-nox erlang-odbc erlang-os-mon", "  erlang-parsetools erlang-percept erlang-public-key erlang-runtime-tools", "  erlang-snmp erlang-ssh erlang-ssl erlang-syntax-tools erlang-tools", "  erlang-webtool erlang-xmerl libltdl7 libodbc1 libsctp1 socat", "Suggested packages:", "  erlang erlang-manpages erlang-doc xsltproc fop erlang-ic-java", "  erlang-observer libmyodbc odbc-postgresql tdsodbc unixodbc-bin lksctp-tools", "The following NEW packages will be installed:", "  erlang-asn1 erlang-base erlang-corba erlang-crypto erlang-diameter", "  erlang-edoc erlang-eldap erlang-erl-docgen erlang-eunit erlang-ic", "  erlang-inets erlang-mnesia erlang-nox erlang-odbc erlang-os-mon", "  erlang-parsetools erlang-percept erlang-public-key erlang-runtime-tools", "  erlang-snmp erlang-ssh erlang-ssl erlang-syntax-tools erlang-tools", "  erlang-webtool erlang-xmerl libltdl7 libodbc1 libsctp1 rabbitmq-server socat", "0 upgraded, 31 newly installed, 0 to remove and 1 not upgraded.", "Need to get 25.1 MB of archives.", "After this operation, 43.2 MB of additional disk space will be used.", "Get:1 http://www.rabbitmq.com/debian testing/main amd64 rabbitmq-server all 3.6.5-1 [5472 kB]", "Get:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-base amd64 1:18.3-dfsg-1ubuntu3 [6962 kB]", "Get:3 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-asn1 amd64 1:18.3-dfsg-1ubuntu3 [709 kB]", "Get:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-mnesia amd64 1:18.3-dfsg-1ubuntu3 [664 kB]", "Get:5 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-runtime-tools amd64 1:18.3-dfsg-1ubuntu3 [164 kB]", "Get:6 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-crypto amd64 1:18.3-dfsg-1ubuntu3 [106 kB]", "Get:7 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-public-key amd64 1:18.3-dfsg-1ubuntu3 [524 kB]", "Get:8 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-ssl amd64 1:18.3-dfsg-1ubuntu3 [658 kB]", "Get:9 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-inets amd64 1:18.3-dfsg-1ubuntu3 [714 kB]", "Get:10 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-corba amd64 1:18.3-dfsg-1ubuntu3 [2233 kB]", "Get:11 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-syntax-tools amd64 1:18.3-dfsg-1ubuntu3 [322 kB]", "Get:12 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-diameter amd64 1:18.3-dfsg-1ubuntu3 [643 kB]", "Get:13 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-xmerl amd64 1:18.3-dfsg-1ubuntu3 [956 kB]", "Get:14 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-edoc amd64 1:18.3-dfsg-1ubuntu3 [293 kB]", "Get:15 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-eldap amd64 1:18.3-dfsg-1ubuntu3 [99.1 kB]", "Get:16 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-erl-docgen amd64 1:18.3-dfsg-1ubuntu3 [132 kB]", "Get:17 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-eunit amd64 1:18.3-dfsg-1ubuntu3 [135 kB]", "Get:18 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-ic amd64 1:18.3-dfsg-1ubuntu3 [816 kB]", "Get:19 http://archive.ubuntu.com/ubuntu xenial/main amd64 libltdl7 amd64 2.4.6-0.1 [38.3 kB]", "Get:20 http://archive.ubuntu.com/ubuntu xenial/main amd64 libodbc1 amd64 2.3.1-4.1 [180 kB]", "Get:21 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-odbc amd64 1:18.3-dfsg-1ubuntu3 [47.2 kB]", "Get:22 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-snmp amd64 1:18.3-dfsg-1ubuntu3 [1528 kB]", "Get:23 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-os-mon amd64 1:18.3-dfsg-1ubuntu3 [89.6 kB]", "Get:24 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-parsetools amd64 1:18.3-dfsg-1ubuntu3 [153 kB]", "Get:25 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-percept amd64 1:18.3-dfsg-1ubuntu3 [132 kB]", "Get:26 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-ssh amd64 1:18.3-dfsg-1ubuntu3 [430 kB]", "Get:27 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-webtool amd64 1:18.3-dfsg-1ubuntu3 [35.6 kB]", "Get:28 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-tools amd64 1:18.3-dfsg-1ubuntu3 [517 kB]", "Get:29 http://archive.ubuntu.com/ubuntu xenial/main amd64 erlang-nox all 1:18.3-dfsg-1ubuntu3 [14.0 kB]", "Get:30 http://archive.ubuntu.com/ubuntu xenial/main amd64 libsctp1 amd64 1.0.16+dfsg-3 [8088 B]", "Get:31 http://archive.ubuntu.com/ubuntu xenial/universe amd64 socat amd64 1.7.3.1-1 [321 kB]", "Fetched 25.1 MB in 3min 0s (139 kB/s)", "Selecting previously unselected package erlang-base.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 63759 files and directories currently installed.)", "Preparing to unpack .../erlang-base_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-base (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-asn1.", "Preparing to unpack .../erlang-asn1_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-asn1 (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-mnesia.", "Preparing to unpack .../erlang-mnesia_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-mnesia (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-runtime-tools.", "Preparing to unpack .../erlang-runtime-tools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-runtime-tools (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-crypto.", "Preparing to unpack .../erlang-crypto_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-crypto (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-public-key.", "Preparing to unpack .../erlang-public-key_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-public-key (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-ssl.", "Preparing to unpack .../erlang-ssl_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-ssl (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-inets.", "Preparing to unpack .../erlang-inets_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-inets (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-corba.", "Preparing to unpack .../erlang-corba_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-corba (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-syntax-tools.", "Preparing to unpack .../erlang-syntax-tools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-syntax-tools (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-diameter.", "Preparing to unpack .../erlang-diameter_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-diameter (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-xmerl.", "Preparing to unpack .../erlang-xmerl_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-xmerl (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-edoc.", "Preparing to unpack .../erlang-edoc_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-edoc (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-eldap.", "Preparing to unpack .../erlang-eldap_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-eldap (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-erl-docgen.", "Preparing to unpack .../erlang-erl-docgen_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-erl-docgen (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-eunit.", "Preparing to unpack .../erlang-eunit_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-eunit (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-ic.", "Preparing to unpack .../erlang-ic_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-ic (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package libltdl7:amd64.", "Preparing to unpack .../libltdl7_2.4.6-0.1_amd64.deb ...", "Unpacking libltdl7:amd64 (2.4.6-0.1) ...", "Selecting previously unselected package libodbc1:amd64.", "Preparing to unpack .../libodbc1_2.3.1-4.1_amd64.deb ...", "Unpacking libodbc1:amd64 (2.3.1-4.1) ...", "Selecting previously unselected package erlang-odbc.", "Preparing to unpack .../erlang-odbc_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-odbc (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-snmp.", "Preparing to unpack .../erlang-snmp_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-snmp (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-os-mon.", "Preparing to unpack .../erlang-os-mon_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-os-mon (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-parsetools.", "Preparing to unpack .../erlang-parsetools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-parsetools (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-percept.", "Preparing to unpack .../erlang-percept_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-percept (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-ssh.", "Preparing to unpack .../erlang-ssh_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-ssh (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-webtool.", "Preparing to unpack .../erlang-webtool_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-webtool (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-tools.", "Preparing to unpack .../erlang-tools_1%3a18.3-dfsg-1ubuntu3_amd64.deb ...", "Unpacking erlang-tools (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package erlang-nox.", "Preparing to unpack .../erlang-nox_1%3a18.3-dfsg-1ubuntu3_all.deb ...", "Unpacking erlang-nox (1:18.3-dfsg-1ubuntu3) ...", "Selecting previously unselected package libsctp1:amd64.", "Preparing to unpack .../libsctp1_1.0.16+dfsg-3_amd64.deb ...", "Unpacking libsctp1:amd64 (1.0.16+dfsg-3) ...", "Selecting previously unselected package socat.", "Preparing to unpack .../socat_1.7.3.1-1_amd64.deb ...", "Unpacking socat (1.7.3.1-1) ...", "Selecting previously unselected package rabbitmq-server.", "Preparing to unpack .../rabbitmq-server_3.6.5-1_all.deb ...", "Unpacking rabbitmq-server (3.6.5-1) ...", "Processing triggers for man-db (2.7.5-1) ...", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ...", "Setting up erlang-base (1:18.3-dfsg-1ubuntu3) ...", "Searching for services which depend on erlang and should be started...none found.", "Setting up erlang-asn1 (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-mnesia (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-runtime-tools (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-crypto (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-public-key (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-ssl (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-inets (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-corba (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-syntax-tools (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-diameter (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-xmerl (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-edoc (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-eldap (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-erl-docgen (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-eunit (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-ic (1:18.3-dfsg-1ubuntu3) ...", "Setting up libltdl7:amd64 (2.4.6-0.1) ...", "Setting up libodbc1:amd64 (2.3.1-4.1) ...", "Setting up erlang-odbc (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-snmp (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-os-mon (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-parsetools (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-percept (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-ssh (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-webtool (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-tools (1:18.3-dfsg-1ubuntu3) ...", "Setting up erlang-nox (1:18.3-dfsg-1ubuntu3) ...", "Setting up libsctp1:amd64 (1.0.16+dfsg-3) ...", "Setting up socat (1.7.3.1-1) ...", "Setting up rabbitmq-server (3.6.5-1) ...", "Adding group `rabbitmq' (GID 121) ...", "Done.", "Adding system user `rabbitmq' (UID 115) ...", "Adding new user `rabbitmq' (UID 115) with group `rabbitmq' ...", "Not creating home directory `/var/lib/rabbitmq'.", "Processing triggers for libc-bin (2.23-0ubuntu3) ...", "Processing triggers for systemd (229-4ubuntu8) ...", "Processing triggers for ureadahead (0.100.0-19) ..."]}
2016-09-25 20:32:19,979 p=28413 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 20:32:20,056 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:32:20,065 p=28413 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 20:32:20,163 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:32:20,174 p=28413 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 20:32:20,272 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:32:20,285 p=28413 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 20:32:20,359 p=28413 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 20:32:20,367 p=28413 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 20:32:20,694 p=28413 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 20:32:20,703 p=28413 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 20:32:25,231 p=28413 u=tie |  changed: [the_tale] => (item=guest) => {"changed": true, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 20:32:25,248 p=28413 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 20:32:28,685 p=28413 u=tie |  changed: [the_tale] => (item=/the-tale) => {"changed": true, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 20:32:28,702 p=28413 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 20:32:34,421 p=28413 u=tie |  changed: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": true, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 20:32:34,439 p=28413 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 20:32:34,743 p=28413 u=tie |  changed: [the_tale] => {"changed": true, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 20:32:34,751 p=28413 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 20:32:34,831 p=28413 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 20:32:34,832 p=28413 u=tie |  the_tale                   : ok=51   changed=7    unreachable=0    failed=0   
2016-09-25 21:19:59,415 p=32536 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 21:19:59,441 p=32536 u=tie |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml': line 88, column 18, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    - pip:
        - name: {{item.name}}
                 ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2016-09-25 21:20:35,315 p=32745 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 21:20:35,849 p=32745 u=tie |  ERROR! unexpected parameter type in action: <class 'ansible.parsing.yaml.objects.AnsibleSequence'>

The error appears to have been in '/home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml': line 87, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    - user: name=the-tale
    - pip:
      ^ here


The error appears to have been in '/home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml': line 87, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    - user: name=the-tale
    - pip:
      ^ here

2016-09-25 21:22:55,335 p=570 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 21:22:55,902 p=570 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 21:22:55,920 p=570 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 21:22:56,937 p=570 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 21:22:56,944 p=570 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 21:22:58,822 p=570 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 21:22:58,835 p=570 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 21:22:58,843 p=570 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:22:59,893 p=570 u=tie |  ok: [the_tale]
2016-09-25 21:22:59,902 p=570 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 21:23:00,636 p=570 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 21:23:00,652 p=570 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 21:23:00,787 p=570 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:23:01,585 p=570 u=tie |  ok: [the_tale]
2016-09-25 21:23:01,594 p=570 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 21:23:01,773 p=570 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 21:23:01,804 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 21:23:02,473 p=570 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:23:02,481 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 21:23:03,176 p=570 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 21:23:03,184 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 21:23:03,761 p=570 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 21:23:03,771 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 21:23:04,576 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 21:23:04,584 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 21:23:05,416 p=570 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 21:23:05,469 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 21:23:06,327 p=570 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 21:23:06,345 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 21:23:06,447 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:06,454 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 21:23:06,519 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:06,528 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 21:23:06,602 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:06,609 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 21:23:06,797 p=570 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:06,810 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 21:23:06,997 p=570 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:07,009 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 21:23:07,086 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:07,095 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 21:23:07,182 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:07,192 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 21:23:07,266 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:07,274 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 21:23:07,967 p=570 u=tie |  ok: [the_tale] => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false}
2016-09-25 21:23:07,975 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 21:23:08,212 p=570 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:08,234 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 21:23:08,312 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:08,321 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 21:23:08,645 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:23:08,659 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 21:23:09,088 p=570 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 21:23:09,096 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 21:23:09,162 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:09,170 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 21:23:09,253 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:09,261 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 21:23:09,337 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:09,346 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 21:23:09,428 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:09,436 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 21:23:09,506 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:09,514 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 21:23:09,868 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:23:09,877 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 21:23:10,447 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 21:23:10,455 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 21:23:11,135 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 21:23:11,143 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 21:23:11,217 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:11,226 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 21:23:11,559 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:23:11,567 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 21:23:11,643 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:11,652 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 21:23:11,741 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:11,748 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 21:23:12,064 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 21:23:12,072 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 21:23:12,149 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:12,158 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 21:23:12,642 p=570 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 21:23:12,650 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 21:23:13,393 p=570 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 21:23:13,426 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 21:23:13,802 p=570 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 21:23:13,811 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 21:23:14,607 p=570 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 21:23:14,621 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 21:23:14,699 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 21:23:15,485 p=570 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.077861", "end": "2016-09-25 18:23:15.331919", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 18:23:15.254058", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 21:23:15,519 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 21:23:16,269 p=570 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.096538", "end": "2016-09-25 18:23:16.130420", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 18:23:16.033882", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 21:23:16,298 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 21:23:16,504 p=570 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:16,526 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 21:23:16,715 p=570 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:16,733 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 21:23:16,924 p=570 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:16,938 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 21:23:17,129 p=570 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:17,153 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 21:23:17,338 p=570 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:17,377 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 21:23:17,484 p=570 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 21:23:17,616 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:17,630 p=570 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 21:23:17,675 p=570 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:23:18,473 p=570 u=tie |  ok: [the_tale]
2016-09-25 21:23:18,482 p=570 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 21:23:18,550 p=570 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 21:23:18,557 p=570 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 21:23:18,625 p=570 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 21:23:18,633 p=570 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 21:23:18,706 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:18,714 p=570 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:23:18,783 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:18,791 p=570 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 21:23:18,856 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:18,864 p=570 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 21:23:18,926 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:18,935 p=570 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 21:23:19,563 p=570 u=tie |  ok: [the_tale] => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false}
2016-09-25 21:23:19,572 p=570 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:23:20,288 p=570 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:23:20,296 p=570 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 21:23:20,343 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:20,351 p=570 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:23:20,409 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:20,418 p=570 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 21:23:20,486 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:20,494 p=570 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 21:23:20,808 p=570 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 21:23:20,815 p=570 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 21:23:21,169 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 21:23:21,177 p=570 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 21:23:21,731 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 21:23:21,739 p=570 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 21:23:21,793 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:21,801 p=570 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 21:23:22,360 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 21:23:22,368 p=570 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 21:23:22,700 p=570 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 21:23:22,722 p=570 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 21:23:22,741 p=570 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:23:23,582 p=570 u=tie |  ok: [the_tale]
2016-09-25 21:23:23,592 p=570 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 21:23:23,648 p=570 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 21:23:23,655 p=570 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 21:23:23,707 p=570 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 21:23:23,716 p=570 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 21:23:23,769 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:23,777 p=570 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 21:23:24,423 p=570 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:23:24,430 p=570 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 21:23:24,993 p=570 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 21:23:25,001 p=570 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 21:23:25,345 p=570 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 21:23:25,361 p=570 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 21:23:25,419 p=570 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:23:26,307 p=570 u=tie |  ok: [the_tale]
2016-09-25 21:23:26,316 p=570 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 21:23:26,872 p=570 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 21:23:26,880 p=570 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 21:23:27,379 p=570 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 21:23:27,388 p=570 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 21:23:28,059 p=570 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:23:28,066 p=570 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 21:23:28,166 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:28,178 p=570 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 21:23:28,274 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:28,282 p=570 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 21:23:28,366 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:28,375 p=570 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 21:23:28,478 p=570 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:23:28,485 p=570 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 21:23:28,824 p=570 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 21:23:28,833 p=570 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 21:23:30,536 p=570 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 21:23:30,558 p=570 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 21:23:32,255 p=570 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 21:23:32,267 p=570 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 21:23:35,198 p=570 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 21:23:35,209 p=570 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 21:23:35,540 p=570 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 21:23:35,548 p=570 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 21:23:35,604 p=570 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 21:23:35,613 p=570 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:23:36,386 p=570 u=tie |  ok: [the_tale]
2016-09-25 21:23:36,394 p=570 u=tie |  TASK [user] ********************************************************************
2016-09-25 21:23:36,901 p=570 u=tie |  changed: [the_tale] => {"changed": true, "comment": "", "createhome": true, "group": 1001, "home": "/home/the-tale", "name": "the-tale", "shell": "", "state": "present", "system": false, "uid": 1001}
2016-09-25 21:23:36,909 p=570 u=tie |  TASK [pip] *********************************************************************
2016-09-25 21:23:36,957 p=570 u=tie |  fatal: [the_tale]: FAILED! => {"failed": true, "msg": "the field 'args' has an invalid value, which appears to include a variable that is undefined. The error was: 'item' is undefined\n\nThe error appears to have been in '/home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml': line 87, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n    - user: name=the-tale\n    - pip:\n      ^ here\n"}
2016-09-25 21:23:36,963 p=570 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 21:23:36,963 p=570 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 21:23:36,963 p=570 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 21:23:36,964 p=570 u=tie |  the_tale                   : ok=53   changed=1    unreachable=0    failed=1   
2016-09-25 21:25:29,700 p=1594 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 21:25:30,287 p=1594 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 21:25:30,306 p=1594 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 21:25:31,257 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 21:25:31,265 p=1594 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 21:25:32,183 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 21:25:32,196 p=1594 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 21:25:32,203 p=1594 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:25:33,201 p=1594 u=tie |  ok: [the_tale]
2016-09-25 21:25:33,210 p=1594 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 21:25:33,978 p=1594 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 21:25:33,994 p=1594 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 21:25:34,128 p=1594 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:25:34,899 p=1594 u=tie |  ok: [the_tale]
2016-09-25 21:25:34,909 p=1594 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 21:25:35,080 p=1594 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 21:25:35,105 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 21:25:35,768 p=1594 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:25:35,777 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 21:25:36,471 p=1594 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 21:25:36,480 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 21:25:37,063 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 21:25:37,073 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 21:25:37,837 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 21:25:37,845 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 21:25:38,659 p=1594 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 21:25:38,715 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 21:25:39,512 p=1594 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 21:25:39,531 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 21:25:39,621 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:39,630 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 21:25:39,685 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:39,697 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 21:25:39,758 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:39,767 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 21:25:39,946 p=1594 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:39,971 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 21:25:40,154 p=1594 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:40,174 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 21:25:40,241 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:40,250 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 21:25:40,335 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:40,343 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 21:25:40,432 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:40,440 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 21:25:41,120 p=1594 u=tie |  ok: [the_tale] => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false}
2016-09-25 21:25:41,129 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 21:25:41,350 p=1594 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:41,389 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 21:25:41,469 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:41,477 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 21:25:41,795 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:25:41,803 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 21:25:42,188 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 21:25:42,197 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 21:25:42,263 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:42,272 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 21:25:42,344 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:42,353 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 21:25:42,416 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:42,425 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 21:25:42,496 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:42,504 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 21:25:42,579 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:42,588 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 21:25:42,895 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:25:42,911 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 21:25:43,472 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 21:25:43,480 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 21:25:44,129 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 21:25:44,138 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 21:25:44,200 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:44,210 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 21:25:44,535 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:25:44,543 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 21:25:44,603 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:44,613 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 21:25:44,678 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:44,686 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 21:25:44,975 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 21:25:44,984 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 21:25:45,058 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:45,067 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 21:25:45,503 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 21:25:45,512 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 21:25:46,228 p=1594 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 21:25:46,248 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 21:25:46,582 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 21:25:46,591 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 21:25:47,330 p=1594 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 21:25:47,355 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 21:25:47,429 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 21:25:48,206 p=1594 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.084731", "end": "2016-09-25 18:25:48.087779", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 18:25:48.003048", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 21:25:48,229 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 21:25:48,917 p=1594 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.081548", "end": "2016-09-25 18:25:48.793282", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 18:25:48.711734", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 21:25:48,950 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 21:25:49,138 p=1594 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:49,163 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 21:25:49,348 p=1594 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:49,367 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 21:25:49,549 p=1594 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:49,574 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 21:25:49,749 p=1594 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:49,768 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 21:25:49,951 p=1594 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:49,978 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 21:25:50,083 p=1594 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 21:25:50,196 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:50,212 p=1594 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 21:25:50,260 p=1594 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:25:51,088 p=1594 u=tie |  ok: [the_tale]
2016-09-25 21:25:51,098 p=1594 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 21:25:51,156 p=1594 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 21:25:51,164 p=1594 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 21:25:51,218 p=1594 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 21:25:51,227 p=1594 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 21:25:51,275 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:51,284 p=1594 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:25:51,349 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:51,357 p=1594 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 21:25:51,409 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:51,417 p=1594 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 21:25:51,474 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:51,483 p=1594 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 21:25:52,131 p=1594 u=tie |  ok: [the_tale] => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false}
2016-09-25 21:25:52,139 p=1594 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:25:52,792 p=1594 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:25:52,800 p=1594 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 21:25:52,848 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:52,856 p=1594 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:25:52,904 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:52,913 p=1594 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 21:25:52,966 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:52,974 p=1594 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 21:25:53,272 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 21:25:53,281 p=1594 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 21:25:53,584 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 21:25:53,592 p=1594 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 21:25:54,125 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 21:25:54,134 p=1594 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 21:25:54,190 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:54,198 p=1594 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 21:25:54,749 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 21:25:54,758 p=1594 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 21:25:55,074 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 21:25:55,092 p=1594 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 21:25:55,111 p=1594 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:25:55,947 p=1594 u=tie |  ok: [the_tale]
2016-09-25 21:25:55,957 p=1594 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 21:25:56,015 p=1594 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 21:25:56,023 p=1594 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 21:25:56,070 p=1594 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 21:25:56,080 p=1594 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 21:25:56,136 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:25:56,149 p=1594 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 21:25:56,782 p=1594 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:25:56,790 p=1594 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 21:25:57,291 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 21:25:57,299 p=1594 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 21:25:57,661 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 21:25:57,677 p=1594 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 21:25:57,741 p=1594 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:25:58,596 p=1594 u=tie |  ok: [the_tale]
2016-09-25 21:25:58,606 p=1594 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 21:25:59,173 p=1594 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 21:25:59,182 p=1594 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 21:25:59,607 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 21:25:59,616 p=1594 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 21:26:00,270 p=1594 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:26:00,278 p=1594 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 21:26:00,369 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:26:00,378 p=1594 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 21:26:00,458 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:26:00,466 p=1594 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 21:26:00,543 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:26:00,552 p=1594 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 21:26:00,623 p=1594 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:26:00,631 p=1594 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 21:26:00,961 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 21:26:00,969 p=1594 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 21:26:02,866 p=1594 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 21:26:02,885 p=1594 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 21:26:04,736 p=1594 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 21:26:04,754 p=1594 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 21:26:08,065 p=1594 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 21:26:08,077 p=1594 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 21:26:08,367 p=1594 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 21:26:08,376 p=1594 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 21:26:08,430 p=1594 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 21:26:08,438 p=1594 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:26:09,281 p=1594 u=tie |  ok: [the_tale]
2016-09-25 21:26:09,289 p=1594 u=tie |  TASK [user] ********************************************************************
2016-09-25 21:26:09,759 p=1594 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 21:26:09,767 p=1594 u=tie |  TASK [pip] *********************************************************************
2016-09-25 21:26:10,130 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../dext/'}) => {"failed": true, "item": {"name": "file://../../../../dext/"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:10,398 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../deword/'}) => {"failed": true, "item": {"name": "file://../../../../deword/"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:10,641 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../rels/'}) => {"failed": true, "item": {"name": "file://../../../../rels/"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:10,913 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../pynames/'}) => {"failed": true, "item": {"name": "file://../../../../pynames/"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:11,175 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../utg/'}) => {"failed": true, "item": {"name": "file://../../../../utg/"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:11,457 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../questgen/'}) => {"failed": true, "item": {"name": "file://../../../../questgen/"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:11,695 p=1594 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../src/the_tale'}) => {"failed": true, "item": {"name": "file://../../../src/the_tale"}, "msg": "Failed to find required executable virtualenv -p python3"}
2016-09-25 21:26:11,702 p=1594 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 21:26:11,703 p=1594 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 21:26:11,703 p=1594 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 21:26:11,703 p=1594 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 21:26:52,586 p=2757 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 21:26:53,168 p=2757 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 21:26:53,187 p=2757 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 21:26:53,909 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 21:26:53,915 p=2757 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 21:26:54,893 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 21:26:54,907 p=2757 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 21:26:54,915 p=2757 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:26:55,979 p=2757 u=tie |  ok: [the_tale]
2016-09-25 21:26:55,987 p=2757 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 21:26:56,721 p=2757 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 21:26:56,736 p=2757 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 21:26:56,869 p=2757 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:26:57,698 p=2757 u=tie |  ok: [the_tale]
2016-09-25 21:26:57,708 p=2757 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 21:26:57,873 p=2757 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 21:26:57,898 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 21:26:58,552 p=2757 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:26:58,561 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 21:26:59,260 p=2757 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 21:26:59,269 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 21:26:59,811 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 21:26:59,821 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 21:27:00,612 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 21:27:00,621 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 21:27:01,420 p=2757 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 21:27:01,476 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 21:27:02,328 p=2757 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 21:27:02,348 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 21:27:02,448 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:02,456 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 21:27:02,521 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:02,529 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 21:27:02,617 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:02,626 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 21:27:02,810 p=2757 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:02,822 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 21:27:03,015 p=2757 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:03,027 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 21:27:03,101 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:03,110 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 21:27:03,199 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:03,209 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 21:27:03,304 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:03,313 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 21:27:04,012 p=2757 u=tie |  ok: [the_tale] => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false}
2016-09-25 21:27:04,020 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 21:27:04,238 p=2757 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:04,276 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 21:27:04,357 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:04,369 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 21:27:04,713 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:27:04,722 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 21:27:05,110 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 21:27:05,120 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 21:27:05,200 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:05,209 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 21:27:05,293 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:05,302 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 21:27:05,367 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:05,376 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 21:27:05,460 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:05,468 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 21:27:05,547 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:05,555 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 21:27:05,898 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:27:05,907 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 21:27:06,525 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 21:27:06,533 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 21:27:07,244 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 21:27:07,253 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 21:27:07,323 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:07,331 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 21:27:07,654 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 21:27:07,662 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 21:27:07,731 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:07,740 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 21:27:07,807 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:07,817 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 21:27:08,165 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 21:27:08,174 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 21:27:08,242 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:08,250 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 21:27:08,688 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 21:27:08,698 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 21:27:09,456 p=2757 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 21:27:09,475 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 21:27:09,833 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 21:27:09,848 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 21:27:10,577 p=2757 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 21:27:10,595 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 21:27:10,670 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 21:27:11,432 p=2757 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.076700", "end": "2016-09-25 18:27:11.314127", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 18:27:11.237427", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 21:27:11,462 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 21:27:12,157 p=2757 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.081136", "end": "2016-09-25 18:27:12.019719", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 18:27:11.938583", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 21:27:12,181 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 21:27:12,353 p=2757 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:12,372 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 21:27:12,560 p=2757 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:12,573 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 21:27:12,750 p=2757 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:12,768 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 21:27:12,958 p=2757 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:12,976 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 21:27:13,159 p=2757 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:13,184 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 21:27:13,280 p=2757 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 21:27:13,398 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:13,414 p=2757 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 21:27:13,459 p=2757 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:27:14,325 p=2757 u=tie |  ok: [the_tale]
2016-09-25 21:27:14,334 p=2757 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 21:27:14,393 p=2757 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 21:27:14,401 p=2757 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 21:27:14,446 p=2757 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 21:27:14,454 p=2757 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 21:27:14,507 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:14,516 p=2757 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:27:14,566 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:14,575 p=2757 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 21:27:14,626 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:14,635 p=2757 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 21:27:14,684 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:14,693 p=2757 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 21:27:15,385 p=2757 u=tie |  ok: [the_tale] => {"cache_update_time": 1474824542, "cache_updated": false, "changed": false}
2016-09-25 21:27:15,392 p=2757 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:27:16,028 p=2757 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:27:16,037 p=2757 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 21:27:16,090 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:16,099 p=2757 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 21:27:16,148 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:16,156 p=2757 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 21:27:16,199 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:16,209 p=2757 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 21:27:16,493 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 21:27:16,501 p=2757 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 21:27:16,801 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 21:27:16,809 p=2757 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 21:27:17,358 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 21:27:17,366 p=2757 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 21:27:17,414 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:17,422 p=2757 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 21:27:17,931 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 21:27:17,939 p=2757 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 21:27:18,265 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 21:27:18,280 p=2757 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 21:27:18,302 p=2757 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:27:19,141 p=2757 u=tie |  ok: [the_tale]
2016-09-25 21:27:19,150 p=2757 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 21:27:19,206 p=2757 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 21:27:19,213 p=2757 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 21:27:19,261 p=2757 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 21:27:19,270 p=2757 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 21:27:19,329 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:19,337 p=2757 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 21:27:20,017 p=2757 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:27:20,025 p=2757 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 21:27:20,592 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 21:27:20,605 p=2757 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 21:27:20,934 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 21:27:20,950 p=2757 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 21:27:21,007 p=2757 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:27:21,819 p=2757 u=tie |  ok: [the_tale]
2016-09-25 21:27:21,828 p=2757 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 21:27:22,410 p=2757 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 21:27:22,418 p=2757 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 21:27:22,854 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 21:27:22,863 p=2757 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 21:27:23,516 p=2757 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 21:27:23,525 p=2757 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 21:27:23,600 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:23,608 p=2757 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 21:27:23,687 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:23,695 p=2757 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 21:27:23,772 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:23,781 p=2757 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 21:27:23,876 p=2757 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 21:27:23,884 p=2757 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 21:27:24,198 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 21:27:24,207 p=2757 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 21:27:26,278 p=2757 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 21:27:26,292 p=2757 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 21:27:28,283 p=2757 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 21:27:28,305 p=2757 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 21:27:31,728 p=2757 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 21:27:31,750 p=2757 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 21:27:32,090 p=2757 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 21:27:32,098 p=2757 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 21:27:32,154 p=2757 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 21:27:32,162 p=2757 u=tie |  TASK [setup] *******************************************************************
2016-09-25 21:27:33,064 p=2757 u=tie |  ok: [the_tale]
2016-09-25 21:27:33,073 p=2757 u=tie |  TASK [user] ********************************************************************
2016-09-25 21:27:33,510 p=2757 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 21:27:33,518 p=2757 u=tie |  TASK [pip] *********************************************************************
2016-09-25 21:27:54,380 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../dext/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../../dext/", "failed": true, "item": {"name": "file://../../../../dext/"}, "msg": "stdout: Using base prefix '/usr'\nNew python executable in /home/the-tale/current/venv/bin/python3.5\nAlso creating executable in /home/the-tale/current/venv/bin/python\nInstalling setuptools, pkg_resources, pip, wheel...done.\nRunning virtualenv with interpreter /usr/bin/python3.5\nProcessing /dext\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1655, in bz2open\n    compresslevel=compresslevel)\n  File \"/usr/lib/python3.5/bz2.py\", line 95, in __init__\n    self._fp = _builtin_open(filename, mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/dext'\n"}
2016-09-25 21:27:55,124 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../deword/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../../deword/", "failed": true, "item": {"name": "file://../../../../deword/"}, "msg": "stdout: Processing /deword\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1605, in taropen\n    return cls(name, mode, fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1423, in __init__\n    fileobj = bltn_open(name, self._mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/deword'\n"}
2016-09-25 21:27:55,851 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../rels/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../../rels/", "failed": true, "item": {"name": "file://../../../../rels/"}, "msg": "stdout: Processing /rels\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1605, in taropen\n    return cls(name, mode, fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1423, in __init__\n    fileobj = bltn_open(name, self._mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/rels'\n"}
2016-09-25 21:27:56,527 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../pynames/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../../pynames/", "failed": true, "item": {"name": "file://../../../../pynames/"}, "msg": "stdout: Processing /pynames\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1655, in bz2open\n    compresslevel=compresslevel)\n  File \"/usr/lib/python3.5/bz2.py\", line 95, in __init__\n    self._fp = _builtin_open(filename, mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/pynames'\n"}
2016-09-25 21:27:57,226 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../utg/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../../utg/", "failed": true, "item": {"name": "file://../../../../utg/"}, "msg": "stdout: Processing /utg\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1655, in bz2open\n    compresslevel=compresslevel)\n  File \"/usr/lib/python3.5/bz2.py\", line 95, in __init__\n    self._fp = _builtin_open(filename, mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/utg'\n"}
2016-09-25 21:27:58,053 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../../questgen/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../../questgen/", "failed": true, "item": {"name": "file://../../../../questgen/"}, "msg": "stdout: Processing /questgen\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1683, in xzopen\n    fileobj = lzma.LZMAFile(fileobj or name, mode, preset=preset)\n  File \"/usr/lib/python3.5/lzma.py\", line 118, in __init__\n    self._fp = builtins.open(filename, mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/questgen'\n"}
2016-09-25 21:27:58,812 p=2757 u=tie |  failed: [the_tale] (item={u'name': u'file://../../../src/the_tale'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file://../../../src/the_tale", "failed": true, "item": {"name": "file://../../../src/the_tale"}, "msg": "stdout: Processing /src/the_tale\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1605, in taropen\n    return cls(name, mode, fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1423, in __init__\n    fileobj = bltn_open(name, self._mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/src/the_tale'\n"}
2016-09-25 21:27:58,819 p=2757 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 21:27:58,819 p=2757 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 21:27:58,820 p=2757 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 21:27:58,820 p=2757 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 22:40:57,630 p=7029 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 22:41:01,428 p=7029 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 22:41:01,591 p=7029 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 22:41:03,032 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 22:41:03,041 p=7029 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 22:41:04,252 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 22:41:04,265 p=7029 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 22:41:04,273 p=7029 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:41:05,487 p=7029 u=tie |  ok: [the_tale]
2016-09-25 22:41:05,495 p=7029 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 22:41:06,575 p=7029 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 22:41:06,591 p=7029 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 22:41:06,729 p=7029 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:41:07,574 p=7029 u=tie |  ok: [the_tale]
2016-09-25 22:41:07,605 p=7029 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 22:41:07,794 p=7029 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 22:41:07,829 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:41:08,516 p=7029 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:41:08,531 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 22:41:09,255 p=7029 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:41:09,264 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:41:09,878 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 22:41:09,906 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 22:41:10,663 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 22:41:10,671 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:41:11,457 p=7029 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 22:41:11,504 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:41:12,306 p=7029 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 22:41:12,319 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:41:12,423 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:12,431 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:41:12,509 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:12,522 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:41:12,595 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:12,604 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:41:12,794 p=7029 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:12,809 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:41:12,995 p=7029 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:13,008 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:41:13,081 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:13,090 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 22:41:13,171 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:13,179 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 22:41:13,264 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:13,272 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 22:41:13,954 p=7029 u=tie |  ok: [the_tale] => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false}
2016-09-25 22:41:13,962 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 22:41:14,184 p=7029 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:14,217 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 22:41:14,290 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:14,299 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 22:41:14,625 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:41:14,634 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 22:41:15,021 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 22:41:15,036 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 22:41:15,113 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:15,122 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 22:41:15,194 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:15,202 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 22:41:15,280 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:15,289 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 22:41:15,377 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:15,385 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 22:41:15,455 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:15,463 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 22:41:15,807 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:41:15,815 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 22:41:16,418 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 22:41:16,426 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 22:41:17,216 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 22:41:17,411 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 22:41:17,482 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:17,491 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 22:41:17,828 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:41:17,837 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 22:41:17,903 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:17,912 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 22:41:17,996 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:18,004 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 22:41:18,301 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 22:41:18,313 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 22:41:18,381 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:18,389 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:41:18,864 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:41:18,873 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 22:41:19,667 p=7029 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 22:41:19,691 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:41:20,042 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:41:20,050 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 22:41:20,825 p=7029 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 22:41:20,838 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 22:41:20,932 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 22:41:21,751 p=7029 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.073972", "end": "2016-09-25 19:41:21.613889", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:41:21.539917", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:41:21,793 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 22:41:22,504 p=7029 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.090012", "end": "2016-09-25 19:41:22.370498", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:41:22.280486", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:41:22,529 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 22:41:22,717 p=7029 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:22,753 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 22:41:22,949 p=7029 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:22,963 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 22:41:23,151 p=7029 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:23,199 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 22:41:23,383 p=7029 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:23,402 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 22:41:23,585 p=7029 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:23,619 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 22:41:23,725 p=7029 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 22:41:23,849 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:23,866 p=7029 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 22:41:23,910 p=7029 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:41:24,774 p=7029 u=tie |  ok: [the_tale]
2016-09-25 22:41:24,782 p=7029 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 22:41:24,874 p=7029 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 22:41:24,890 p=7029 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 22:41:24,942 p=7029 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 22:41:24,950 p=7029 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 22:41:25,020 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:25,027 p=7029 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:41:25,080 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:25,089 p=7029 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 22:41:25,144 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:25,152 p=7029 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 22:41:25,210 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:25,218 p=7029 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 22:41:25,862 p=7029 u=tie |  ok: [the_tale] => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false}
2016-09-25 22:41:25,871 p=7029 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:41:26,511 p=7029 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:41:26,519 p=7029 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 22:41:26,595 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:26,603 p=7029 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:41:26,666 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:26,675 p=7029 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 22:41:26,738 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:26,746 p=7029 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 22:41:27,082 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 22:41:27,090 p=7029 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 22:41:27,422 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 22:41:27,429 p=7029 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 22:41:27,998 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 22:41:28,006 p=7029 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 22:41:28,069 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:28,077 p=7029 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 22:41:28,624 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 22:41:28,632 p=7029 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 22:41:28,943 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 22:41:28,958 p=7029 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 22:41:28,979 p=7029 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:41:29,817 p=7029 u=tie |  ok: [the_tale]
2016-09-25 22:41:29,826 p=7029 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 22:41:29,979 p=7029 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 22:41:29,987 p=7029 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 22:41:30,047 p=7029 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 22:41:30,055 p=7029 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:41:30,122 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:30,130 p=7029 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:41:30,852 p=7029 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:41:30,859 p=7029 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 22:41:31,440 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 22:41:31,449 p=7029 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 22:41:31,836 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 22:41:31,851 p=7029 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 22:41:31,909 p=7029 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:41:32,732 p=7029 u=tie |  ok: [the_tale]
2016-09-25 22:41:32,742 p=7029 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 22:41:33,340 p=7029 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:41:33,348 p=7029 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 22:41:33,783 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 22:41:33,791 p=7029 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 22:41:34,443 p=7029 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:41:34,457 p=7029 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 22:41:34,539 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:34,546 p=7029 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 22:41:34,636 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:34,644 p=7029 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 22:41:34,734 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:34,742 p=7029 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 22:41:34,827 p=7029 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:41:34,834 p=7029 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 22:41:35,189 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 22:41:35,197 p=7029 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 22:41:36,903 p=7029 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 22:41:36,915 p=7029 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 22:41:38,580 p=7029 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 22:41:38,596 p=7029 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 22:41:41,431 p=7029 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 22:41:41,443 p=7029 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 22:41:41,741 p=7029 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 22:41:41,749 p=7029 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 22:41:41,821 p=7029 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 22:41:41,829 p=7029 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:41:42,634 p=7029 u=tie |  ok: [the_tale]
2016-09-25 22:41:42,643 p=7029 u=tie |  TASK [user] ********************************************************************
2016-09-25 22:41:43,188 p=7029 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 22:41:43,196 p=7029 u=tie |  TASK [pip] *********************************************************************
2016-09-25 22:41:44,026 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../dext/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../dext/", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../dext/"}, "msg": "stdout: Processing /home/tie/repos/mine/dext\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1605, in taropen\n    return cls(name, mode, fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1423, in __init__\n    fileobj = bltn_open(name, self._mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/dext'\n"}
2016-09-25 22:41:44,713 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../deword/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../deword/", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../deword/"}, "msg": "stdout: Processing /home/tie/repos/mine/deword\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1622, in gzopen\n    fileobj = gzip.GzipFile(name, mode + \"b\", compresslevel, fileobj)\n  File \"/usr/lib/python3.5/gzip.py\", line 163, in __init__\n    fileobj = self.myfileobj = builtins.open(filename, mode or 'rb')\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/deword'\n"}
2016-09-25 22:41:45,476 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../rels/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../rels/", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../rels/"}, "msg": "stdout: Processing /home/tie/repos/mine/rels\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1683, in xzopen\n    fileobj = lzma.LZMAFile(fileobj or name, mode, preset=preset)\n  File \"/usr/lib/python3.5/lzma.py\", line 118, in __init__\n    self._fp = builtins.open(filename, mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/rels'\n"}
2016-09-25 22:41:46,178 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../pynames/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../pynames/", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../pynames/"}, "msg": "stdout: Processing /home/tie/repos/mine/pynames\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1622, in gzopen\n    fileobj = gzip.GzipFile(name, mode + \"b\", compresslevel, fileobj)\n  File \"/usr/lib/python3.5/gzip.py\", line 163, in __init__\n    fileobj = self.myfileobj = builtins.open(filename, mode or 'rb')\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/pynames'\n"}
2016-09-25 22:41:46,928 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../utg/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../utg/", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../utg/"}, "msg": "stdout: Processing /home/tie/repos/mine/utg\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1622, in gzopen\n    fileobj = gzip.GzipFile(name, mode + \"b\", compresslevel, fileobj)\n  File \"/usr/lib/python3.5/gzip.py\", line 163, in __init__\n    fileobj = self.myfileobj = builtins.open(filename, mode or 'rb')\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/utg'\n"}
2016-09-25 22:41:47,813 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../questgen/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../questgen/", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../../questgen/"}, "msg": "stdout: Processing /home/tie/repos/mine/questgen\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1622, in gzopen\n    fileobj = gzip.GzipFile(name, mode + \"b\", compresslevel, fileobj)\n  File \"/usr/lib/python3.5/gzip.py\", line 163, in __init__\n    fileobj = self.myfileobj = builtins.open(filename, mode or 'rb')\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/questgen'\n"}
2016-09-25 22:41:48,509 p=7029 u=tie |  failed: [the_tale] (item={u'name': u'file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../src/the_tale'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../src/the_tale", "failed": true, "item": {"name": "file:///home/tie/repos/mine/the-tale/deploy/official/provisioning/../../../src/the_tale"}, "msg": "stdout: Processing /home/tie/repos/mine/the-tale/src/the_tale\n\n:stderr: Exception:\nTraceback (most recent call last):\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/commands/install.py\", line 310, in run\n    wb.build(autobuilding=True)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/wheel.py\", line 750, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 370, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/req/req_set.py\", line 587, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 798, in unpack_url\n    unpack_file_url(link, location, download_dir, hashes=hashes)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/download.py\", line 705, in unpack_file_url\n    unpack_file(from_path, location, content_type, link)\n  File \"/home/the-tale/current/venv/lib/python3.5/site-packages/pip/utils/__init__.py\", line 602, in unpack_file\n    tarfile.is_tarfile(filename) or\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 2448, in is_tarfile\n    t = open(name)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1557, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/home/the-tale/current/venv/lib/python3.5/tarfile.py\", line 1655, in bz2open\n    compresslevel=compresslevel)\n  File \"/usr/lib/python3.5/bz2.py\", line 95, in __init__\n    self._fp = _builtin_open(filename, mode)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/tie/repos/mine/the-tale/src/the_tale'\n"}
2016-09-25 22:41:48,521 p=7029 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 22:41:48,525 p=7029 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 22:41:48,526 p=7029 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 22:41:48,526 p=7029 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 22:42:50,098 p=8034 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 22:42:50,677 p=8034 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 22:42:50,695 p=8034 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 22:42:51,665 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 22:42:51,672 p=8034 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 22:42:52,640 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 22:42:52,660 p=8034 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 22:42:52,666 p=8034 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:42:53,783 p=8034 u=tie |  ok: [the_tale]
2016-09-25 22:42:53,791 p=8034 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 22:42:54,605 p=8034 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 22:42:54,622 p=8034 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 22:42:54,762 p=8034 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:42:55,611 p=8034 u=tie |  ok: [the_tale]
2016-09-25 22:42:55,626 p=8034 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 22:42:55,786 p=8034 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 22:42:55,811 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:42:56,438 p=8034 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:42:56,447 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 22:42:57,123 p=8034 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:42:57,135 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:42:57,709 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 22:42:57,718 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 22:42:58,479 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 22:42:58,488 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:42:59,309 p=8034 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 22:42:59,363 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:43:00,182 p=8034 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 22:43:00,194 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:43:00,290 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:00,298 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:43:00,367 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:00,376 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:43:00,457 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:00,469 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:43:00,663 p=8034 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:00,674 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:43:00,868 p=8034 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:00,881 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:43:00,941 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:00,950 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 22:43:01,050 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:01,058 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 22:43:01,156 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:01,165 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 22:43:01,880 p=8034 u=tie |  ok: [the_tale] => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false}
2016-09-25 22:43:01,889 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 22:43:02,131 p=8034 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:02,174 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 22:43:02,253 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:02,268 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 22:43:02,608 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:43:02,618 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 22:43:03,038 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 22:43:03,046 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 22:43:03,106 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:03,115 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 22:43:03,175 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:03,190 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 22:43:03,265 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:03,273 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 22:43:03,349 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:03,357 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 22:43:03,436 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:03,445 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 22:43:03,827 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:43:03,835 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 22:43:04,389 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 22:43:04,398 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 22:43:05,148 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 22:43:05,156 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 22:43:05,238 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:05,246 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 22:43:05,585 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:43:05,594 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 22:43:05,664 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:05,672 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 22:43:05,753 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:05,765 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 22:43:06,100 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 22:43:06,109 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 22:43:06,184 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:06,192 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:43:06,651 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:43:06,659 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 22:43:07,381 p=8034 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 22:43:07,412 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:43:07,786 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:43:07,795 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 22:43:08,558 p=8034 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 22:43:08,571 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 22:43:08,654 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 22:43:09,386 p=8034 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.074042", "end": "2016-09-25 19:43:09.270833", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:43:09.196791", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:43:09,426 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 22:43:10,166 p=8034 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.077636", "end": "2016-09-25 19:43:10.034655", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:43:09.957019", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:43:10,182 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 22:43:10,370 p=8034 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:10,397 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 22:43:10,585 p=8034 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:10,597 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 22:43:10,799 p=8034 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:10,811 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 22:43:11,008 p=8034 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:11,033 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 22:43:11,234 p=8034 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:11,256 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 22:43:11,353 p=8034 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 22:43:11,479 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:11,495 p=8034 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 22:43:11,540 p=8034 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:43:12,335 p=8034 u=tie |  ok: [the_tale]
2016-09-25 22:43:12,344 p=8034 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 22:43:12,403 p=8034 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 22:43:12,411 p=8034 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 22:43:12,459 p=8034 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 22:43:12,467 p=8034 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 22:43:12,514 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:12,522 p=8034 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:43:12,576 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:12,585 p=8034 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 22:43:12,652 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:12,660 p=8034 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 22:43:12,736 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:12,744 p=8034 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 22:43:13,385 p=8034 u=tie |  ok: [the_tale] => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false}
2016-09-25 22:43:13,394 p=8034 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:43:14,031 p=8034 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:43:14,039 p=8034 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 22:43:14,110 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:14,118 p=8034 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:43:14,166 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:14,174 p=8034 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 22:43:14,234 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:14,241 p=8034 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 22:43:14,581 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 22:43:14,589 p=8034 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 22:43:14,927 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 22:43:14,935 p=8034 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 22:43:15,519 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 22:43:15,527 p=8034 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 22:43:15,574 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:15,582 p=8034 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 22:43:16,157 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 22:43:16,166 p=8034 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 22:43:16,469 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 22:43:16,486 p=8034 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 22:43:16,506 p=8034 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:43:18,385 p=8034 u=tie |  ok: [the_tale]
2016-09-25 22:43:18,395 p=8034 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 22:43:18,458 p=8034 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 22:43:18,465 p=8034 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 22:43:18,517 p=8034 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 22:43:18,525 p=8034 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:43:18,578 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:18,590 p=8034 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:43:19,199 p=8034 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:43:19,206 p=8034 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 22:43:19,749 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 22:43:19,757 p=8034 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 22:43:20,124 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 22:43:20,139 p=8034 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 22:43:20,199 p=8034 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:43:20,985 p=8034 u=tie |  ok: [the_tale]
2016-09-25 22:43:20,994 p=8034 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 22:43:21,603 p=8034 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:43:21,611 p=8034 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 22:43:22,117 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 22:43:22,125 p=8034 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 22:43:22,833 p=8034 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:43:22,842 p=8034 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 22:43:22,927 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:22,942 p=8034 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 22:43:23,034 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:23,043 p=8034 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 22:43:23,127 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:23,138 p=8034 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 22:43:23,227 p=8034 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:43:23,235 p=8034 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 22:43:23,585 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 22:43:23,594 p=8034 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 22:43:25,382 p=8034 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 22:43:25,399 p=8034 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 22:43:27,010 p=8034 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 22:43:27,032 p=8034 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 22:43:29,968 p=8034 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 22:43:29,980 p=8034 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 22:43:30,292 p=8034 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 22:43:30,300 p=8034 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 22:43:30,371 p=8034 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 22:43:30,379 p=8034 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:43:31,200 p=8034 u=tie |  ok: [the_tale]
2016-09-25 22:43:31,208 p=8034 u=tie |  TASK [user] ********************************************************************
2016-09-25 22:43:31,660 p=8034 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 22:43:31,669 p=8034 u=tie |  TASK [pip] *********************************************************************
2016-09-25 22:44:42,973 p=8034 u=tie |   [ERROR]: User interrupted execution

2016-09-25 22:47:31,409 p=9240 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 22:47:31,982 p=9240 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 22:47:32,000 p=9240 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 22:47:32,974 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 22:47:32,981 p=9240 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 22:47:33,915 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 22:47:33,929 p=9240 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 22:47:33,937 p=9240 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:47:34,938 p=9240 u=tie |  ok: [the_tale]
2016-09-25 22:47:34,947 p=9240 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 22:47:35,695 p=9240 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 22:47:35,714 p=9240 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 22:47:35,854 p=9240 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:47:36,689 p=9240 u=tie |  ok: [the_tale]
2016-09-25 22:47:36,698 p=9240 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 22:47:36,872 p=9240 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 22:47:36,896 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:47:37,562 p=9240 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:47:37,574 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 22:47:38,270 p=9240 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:47:38,282 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:47:38,922 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 22:47:38,935 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 22:47:39,614 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 22:47:39,623 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:47:40,467 p=9240 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 22:47:40,509 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:47:41,389 p=9240 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 22:47:41,414 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:47:41,511 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:41,519 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:47:41,594 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:41,602 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:47:41,681 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:41,689 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:47:41,896 p=9240 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:41,920 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:47:42,110 p=9240 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:42,122 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:47:42,196 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:42,205 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 22:47:42,286 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:42,294 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 22:47:42,377 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:42,386 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 22:47:43,060 p=9240 u=tie |  ok: [the_tale] => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false}
2016-09-25 22:47:43,071 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 22:47:43,311 p=9240 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:43,325 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 22:47:43,392 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:43,401 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 22:47:43,735 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:47:43,743 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 22:47:44,140 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 22:47:44,148 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 22:47:44,222 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:44,230 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 22:47:44,284 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:44,293 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 22:47:44,350 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:44,359 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 22:47:44,429 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:44,442 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 22:47:44,527 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:44,536 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 22:47:44,896 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:47:44,905 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 22:47:45,523 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 22:47:45,531 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 22:47:46,173 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 22:47:46,184 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 22:47:46,255 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:46,271 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 22:47:46,549 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:47:46,559 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 22:47:46,625 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:46,634 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 22:47:46,704 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:46,712 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 22:47:47,054 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 22:47:47,064 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 22:47:47,137 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:47,145 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:47:47,565 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:47:47,574 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 22:47:48,333 p=9240 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 22:47:48,346 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:47:48,698 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:47:48,710 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 22:47:49,425 p=9240 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 22:47:49,450 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 22:47:49,539 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 22:47:50,316 p=9240 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.078689", "end": "2016-09-25 19:47:50.170120", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:47:50.091431", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:47:50,331 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 22:47:51,063 p=9240 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.076499", "end": "2016-09-25 19:47:50.932378", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:47:50.855879", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:47:51,079 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 22:47:51,269 p=9240 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:51,287 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 22:47:51,480 p=9240 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:51,499 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 22:47:51,701 p=9240 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:51,714 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 22:47:51,917 p=9240 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:51,929 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 22:47:52,131 p=9240 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:52,147 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 22:47:52,246 p=9240 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 22:47:52,368 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:52,383 p=9240 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 22:47:52,430 p=9240 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:47:53,232 p=9240 u=tie |  ok: [the_tale]
2016-09-25 22:47:53,241 p=9240 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 22:47:53,305 p=9240 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 22:47:53,313 p=9240 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 22:47:53,361 p=9240 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 22:47:53,369 p=9240 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 22:47:53,424 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:53,437 p=9240 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:47:53,491 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:53,504 p=9240 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 22:47:53,574 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:53,582 p=9240 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 22:47:53,640 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:53,649 p=9240 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 22:47:54,338 p=9240 u=tie |  ok: [the_tale] => {"cache_update_time": 1474829422, "cache_updated": false, "changed": false}
2016-09-25 22:47:54,346 p=9240 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:47:55,010 p=9240 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:47:55,019 p=9240 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 22:47:55,073 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:55,082 p=9240 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:47:55,154 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:55,161 p=9240 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 22:47:55,216 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:55,224 p=9240 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 22:47:55,526 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 22:47:55,534 p=9240 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 22:47:55,882 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 22:47:55,890 p=9240 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 22:47:56,497 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 22:47:56,504 p=9240 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 22:47:56,557 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:56,565 p=9240 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 22:47:57,152 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 22:47:57,160 p=9240 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 22:47:57,512 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 22:47:57,527 p=9240 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 22:47:57,548 p=9240 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:47:58,404 p=9240 u=tie |  ok: [the_tale]
2016-09-25 22:47:58,413 p=9240 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 22:47:58,459 p=9240 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 22:47:58,467 p=9240 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 22:47:58,515 p=9240 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 22:47:58,525 p=9240 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:47:58,578 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:47:58,587 p=9240 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:47:59,221 p=9240 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:47:59,228 p=9240 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 22:47:59,790 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 22:47:59,797 p=9240 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 22:48:00,114 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 22:48:00,129 p=9240 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 22:48:00,192 p=9240 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:48:01,009 p=9240 u=tie |  ok: [the_tale]
2016-09-25 22:48:01,018 p=9240 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 22:48:01,602 p=9240 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:48:01,611 p=9240 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 22:48:02,077 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 22:48:02,085 p=9240 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 22:48:02,754 p=9240 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:48:02,763 p=9240 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 22:48:02,860 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:48:02,869 p=9240 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 22:48:02,957 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:48:02,966 p=9240 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 22:48:03,052 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:48:03,062 p=9240 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 22:48:03,151 p=9240 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:48:03,159 p=9240 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 22:48:03,472 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 22:48:03,480 p=9240 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 22:48:05,221 p=9240 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 22:48:05,232 p=9240 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 22:48:06,931 p=9240 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 22:48:06,958 p=9240 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 22:48:09,867 p=9240 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 22:48:09,895 p=9240 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 22:48:10,204 p=9240 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 22:48:10,212 p=9240 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 22:48:10,274 p=9240 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 22:48:10,282 p=9240 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:48:11,077 p=9240 u=tie |  ok: [the_tale]
2016-09-25 22:48:11,085 p=9240 u=tie |  TASK [user] ********************************************************************
2016-09-25 22:48:11,537 p=9240 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 22:48:11,546 p=9240 u=tie |  TASK [pip] *********************************************************************
2016-09-25 22:49:29,057 p=9240 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\nCollecting Django>=1.9 (from Dext==0.3.0)\n  Downloading Django-1.10.1-py2.py3-none-any.whl (6.8MB)\nCollecting Jinja2>=2.6 (from Dext==0.3.0)\n  Downloading Jinja2-2.8-py2.py3-none-any.whl (263kB)\nCollecting MarkupSafe (from Jinja2>=2.6->Dext==0.3.0)\n  Downloading MarkupSafe-0.23.tar.gz\nBuilding wheels for collected packages: MarkupSafe\n  Running setup.py bdist_wheel for MarkupSafe: started\n  Running setup.py bdist_wheel for MarkupSafe: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/a3/fa/dc/0198eed9ad95489b8a4f45d14dd5d2aee3f8984e46862c5748\nSuccessfully built MarkupSafe\nInstalling collected packages: Django, MarkupSafe, Jinja2, Dext\n  Running setup.py install for Dext: started\n    Running setup.py install for Dext: finished with status 'done'\nSuccessfully installed Dext-0.3.0 Django-1.10.1 Jinja2-2.8 MarkupSafe-0.23\n", "stdout_lines": ["Processing /mnt/repos/dext", "Collecting Django>=1.9 (from Dext==0.3.0)", "  Downloading Django-1.10.1-py2.py3-none-any.whl (6.8MB)", "Collecting Jinja2>=2.6 (from Dext==0.3.0)", "  Downloading Jinja2-2.8-py2.py3-none-any.whl (263kB)", "Collecting MarkupSafe (from Jinja2>=2.6->Dext==0.3.0)", "  Downloading MarkupSafe-0.23.tar.gz", "Building wheels for collected packages: MarkupSafe", "  Running setup.py bdist_wheel for MarkupSafe: started", "  Running setup.py bdist_wheel for MarkupSafe: finished with status 'done'", "  Stored in directory: /root/.cache/pip/wheels/a3/fa/dc/0198eed9ad95489b8a4f45d14dd5d2aee3f8984e46862c5748", "Successfully built MarkupSafe", "Installing collected packages: Django, MarkupSafe, Jinja2, Dext", "  Running setup.py install for Dext: started", "    Running setup.py install for Dext: finished with status 'done'", "Successfully installed Dext-0.3.0 Django-1.10.1 Jinja2-2.8 MarkupSafe-0.23"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:49:29,846 p=9240 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/deword/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deword/", "failed": true, "item": {"name": "/mnt/repos/deword/"}, "msg": "\n:stderr: Invalid requirement: '/mnt/repos/deword/'\nIt looks like a path. Does it exist ?\n"}
2016-09-25 22:49:37,642 p=9240 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\nInstalling collected packages: Rels\n  Running setup.py install for Rels: started\n    Running setup.py install for Rels: finished with status 'done'\nSuccessfully installed Rels-0.2.2.2\n", "stdout_lines": ["Processing /mnt/repos/rels", "Installing collected packages: Rels", "  Running setup.py install for Rels: started", "    Running setup.py install for Rels: finished with status 'done'", "Successfully installed Rels-0.2.2.2"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:49:54,890 p=9240 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\nCollecting six (from Pynames==0.2.1)\n  Downloading six-1.10.0-py2.py3-none-any.whl\nCollecting unicodecsv (from Pynames==0.2.1)\n  Downloading unicodecsv-0.14.1.tar.gz\nBuilding wheels for collected packages: unicodecsv\n  Running setup.py bdist_wheel for unicodecsv: started\n  Running setup.py bdist_wheel for unicodecsv: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/97/e2/16/219fa93b83edaff912b6805cfa19d0597e21f8d353f3e2d22f\nSuccessfully built unicodecsv\nInstalling collected packages: six, unicodecsv, Pynames\n  Running setup.py install for Pynames: started\n    Running setup.py install for Pynames: finished with status 'done'\nSuccessfully installed Pynames-0.2.1 six-1.10.0 unicodecsv-0.14.1\n", "stdout_lines": ["Processing /mnt/repos/pynames", "Collecting six (from Pynames==0.2.1)", "  Downloading six-1.10.0-py2.py3-none-any.whl", "Collecting unicodecsv (from Pynames==0.2.1)", "  Downloading unicodecsv-0.14.1.tar.gz", "Building wheels for collected packages: unicodecsv", "  Running setup.py bdist_wheel for unicodecsv: started", "  Running setup.py bdist_wheel for unicodecsv: finished with status 'done'", "  Stored in directory: /root/.cache/pip/wheels/97/e2/16/219fa93b83edaff912b6805cfa19d0597e21f8d353f3e2d22f", "Successfully built unicodecsv", "Installing collected packages: six, unicodecsv, Pynames", "  Running setup.py install for Pynames: started", "    Running setup.py install for Pynames: finished with status 'done'", "Successfully installed Pynames-0.2.1 six-1.10.0 unicodecsv-0.14.1"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:50:12,369 p=9240 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\nInstalling collected packages: UTG\n  Running setup.py install for UTG: started\n    Running setup.py install for UTG: finished with status 'done'\nSuccessfully installed UTG-0.2.0\n", "stdout_lines": ["Processing /mnt/repos/utg", "Installing collected packages: UTG", "  Running setup.py install for UTG: started", "    Running setup.py install for UTG: finished with status 'done'", "Successfully installed UTG-0.2.0"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:50:18,024 p=9240 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\nInstalling collected packages: Questgen\n  Running setup.py install for Questgen: started\n    Running setup.py install for Questgen: finished with status 'done'\nSuccessfully installed Questgen-0.3.0\n", "stdout_lines": ["Processing /mnt/repos/questgen", "Installing collected packages: Questgen", "  Running setup.py install for Questgen: started", "    Running setup.py install for Questgen: finished with status 'done'", "Successfully installed Questgen-0.3.0"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:50:48,219 p=9240 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale", "failed": true, "item": {"name": "/mnt/repos/the-tale/src/the_tale"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-aav7meiz-build/setup.py\", line 17, in <module>\n        long_description = open('README.rst').read(),\n    FileNotFoundError: [Errno 2] No such file or directory: 'README.rst'\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-aav7meiz-build/\n"}
2016-09-25 22:50:48,226 p=9240 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 22:50:48,227 p=9240 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 22:50:48,227 p=9240 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 22:50:48,227 p=9240 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 22:51:18,000 p=10298 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 22:51:18,604 p=10298 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 22:51:18,634 p=10298 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 22:51:19,318 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 22:51:19,325 p=10298 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 22:51:20,588 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 22:51:20,601 p=10298 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 22:51:20,609 p=10298 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:51:21,635 p=10298 u=tie |  ok: [the_tale]
2016-09-25 22:51:21,643 p=10298 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 22:51:22,394 p=10298 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 22:51:22,410 p=10298 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 22:51:22,546 p=10298 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:51:23,325 p=10298 u=tie |  ok: [the_tale]
2016-09-25 22:51:23,335 p=10298 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 22:51:23,503 p=10298 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 22:51:23,528 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:51:24,191 p=10298 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:51:24,199 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 22:51:24,937 p=10298 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:51:24,946 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:51:25,536 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 22:51:25,544 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 22:51:26,260 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 22:51:26,269 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:51:29,785 p=10298 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": true, "changed": false, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 22:51:29,833 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:51:30,684 p=10298 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 22:51:30,698 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:51:30,792 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:30,801 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:51:30,863 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:30,872 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:51:30,929 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:30,939 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:51:31,140 p=10298 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:31,153 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:51:31,346 p=10298 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:31,376 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:51:31,435 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:31,445 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 22:51:31,529 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:31,538 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 22:51:31,622 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:31,630 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 22:51:32,356 p=10298 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false}
2016-09-25 22:51:32,364 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 22:51:32,623 p=10298 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:32,653 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 22:51:32,720 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:32,729 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 22:51:33,050 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:51:33,059 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 22:51:33,484 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 22:51:33,493 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 22:51:33,571 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:33,580 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 22:51:33,645 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:33,654 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 22:51:33,735 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:33,743 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 22:51:33,823 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:33,838 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 22:51:33,928 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:33,937 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 22:51:34,286 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:51:34,293 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 22:51:34,905 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 22:51:34,914 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 22:51:35,562 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 22:51:35,571 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 22:51:35,647 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:35,655 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 22:51:36,043 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:51:36,052 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 22:51:36,122 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:36,130 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 22:51:36,209 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:36,218 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 22:51:36,522 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 118, "group": "postgres", "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 22:51:36,532 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 22:51:36,592 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:36,602 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:51:37,088 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:51:37,102 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 22:51:37,891 p=10298 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 22:51:37,912 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:51:38,250 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "name": "postgresql", "state": "started"}
2016-09-25 22:51:38,259 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 22:51:39,014 p=10298 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 22:51:39,038 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 22:51:39,110 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 22:51:39,901 p=10298 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.078846", "end": "2016-09-25 19:51:39.783946", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:51:39.705100", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:51:39,928 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 22:51:40,610 p=10298 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.089249", "end": "2016-09-25 19:51:40.494383", "failed": false, "failed_when_result": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:51:40.405134", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:51:40,632 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 22:51:40,814 p=10298 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:40,833 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 22:51:41,020 p=10298 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:41,056 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 22:51:41,244 p=10298 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:41,273 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 22:51:41,469 p=10298 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:41,483 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 22:51:41,670 p=10298 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:41,697 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 22:51:41,789 p=10298 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 22:51:41,906 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:41,922 p=10298 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 22:51:41,968 p=10298 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:51:42,812 p=10298 u=tie |  ok: [the_tale]
2016-09-25 22:51:42,821 p=10298 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 22:51:42,883 p=10298 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false}
2016-09-25 22:51:42,891 p=10298 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 22:51:42,939 p=10298 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false}
2016-09-25 22:51:42,947 p=10298 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 22:51:43,016 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:43,024 p=10298 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:51:43,066 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:43,075 p=10298 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 22:51:43,133 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:43,142 p=10298 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 22:51:43,191 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:43,198 p=10298 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 22:51:43,861 p=10298 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false}
2016-09-25 22:51:43,869 p=10298 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:51:44,531 p=10298 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:51:44,539 p=10298 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 22:51:44,605 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:44,613 p=10298 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:51:44,690 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:44,699 p=10298 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 22:51:44,758 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:44,771 p=10298 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 22:51:45,096 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 22:51:45,105 p=10298 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 22:51:45,421 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 22:51:45,429 p=10298 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 22:51:46,011 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 22:51:46,024 p=10298 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 22:51:46,072 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:46,080 p=10298 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 22:51:46,677 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 22:51:46,685 p=10298 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 22:51:47,036 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "nginx", "state": "started"}
2016-09-25 22:51:47,051 p=10298 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 22:51:47,072 p=10298 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:51:47,890 p=10298 u=tie |  ok: [the_tale]
2016-09-25 22:51:47,899 p=10298 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 22:51:47,954 p=10298 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false}
2016-09-25 22:51:47,962 p=10298 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 22:51:48,026 p=10298 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false}
2016-09-25 22:51:48,034 p=10298 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:51:48,099 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:48,107 p=10298 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:51:48,731 p=10298 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:51:48,739 p=10298 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 22:51:49,307 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "gid": 119, "group": "redis", "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 22:51:49,315 p=10298 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 22:51:49,676 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "name": "redis-server", "state": "started"}
2016-09-25 22:51:49,692 p=10298 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 22:51:49,751 p=10298 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:51:50,561 p=10298 u=tie |  ok: [the_tale]
2016-09-25 22:51:50,571 p=10298 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 22:51:51,174 p=10298 u=tie |  ok: [the_tale] => {"changed": false}
2016-09-25 22:51:51,183 p=10298 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 22:51:51,643 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 22:51:51,652 p=10298 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 22:51:52,352 p=10298 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false}
2016-09-25 22:51:52,360 p=10298 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 22:51:52,435 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:52,444 p=10298 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 22:51:52,535 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:52,543 p=10298 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 22:51:52,624 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:52,633 p=10298 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 22:51:52,736 p=10298 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:51:52,744 p=10298 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 22:51:53,102 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "name": "rabbitmq-server", "state": "started"}
2016-09-25 22:51:53,113 p=10298 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 22:51:54,929 p=10298 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 22:51:54,940 p=10298 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 22:51:56,772 p=10298 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 22:51:56,783 p=10298 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 22:51:59,843 p=10298 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 22:51:59,855 p=10298 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 22:52:00,202 p=10298 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 22:52:00,210 p=10298 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 22:52:00,291 p=10298 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 22:52:00,299 p=10298 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:52:01,118 p=10298 u=tie |  ok: [the_tale]
2016-09-25 22:52:01,127 p=10298 u=tie |  TASK [user] ********************************************************************
2016-09-25 22:52:01,563 p=10298 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 22:52:01,571 p=10298 u=tie |  TASK [pip] *********************************************************************
2016-09-25 22:52:10,174 p=10298 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:52:47,046 p=10298 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\nInstalling collected packages: DeWorld\n  Running setup.py install for DeWorld: started\n    Running setup.py install for DeWorld: finished with status 'done'\nSuccessfully installed DeWorld-0.2.0\n", "stdout_lines": ["Processing /mnt/repos/deworld", "Installing collected packages: DeWorld", "  Running setup.py install for DeWorld: started", "    Running setup.py install for DeWorld: finished with status 'done'", "Successfully installed DeWorld-0.2.0"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:52:49,953 p=10298 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:52:54,840 p=10298 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:52:59,627 p=10298 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:53:02,168 p=10298 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:53:18,289 p=10298 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale", "failed": true, "item": {"name": "/mnt/repos/the-tale/src/the_tale"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-ecglvz67-build/setup.py\", line 17, in <module>\n        long_description = open('README.rst').read(),\n    FileNotFoundError: [Errno 2] No such file or directory: 'README.rst'\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-ecglvz67-build/\n"}
2016-09-25 22:53:18,295 p=10298 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 22:53:18,296 p=10298 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 22:53:18,296 p=10298 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 22:53:18,296 p=10298 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 22:54:17,786 p=11493 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 22:54:18,357 p=11493 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 22:54:18,357 p=11493 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 22:54:18,363 p=11493 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 22:54:18,381 p=11493 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 22:54:18,381 p=11493 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 22:54:19,302 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 22:54:19,309 p=11493 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 22:54:19,309 p=11493 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 22:54:20,321 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 22:54:20,335 p=11493 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 22:54:20,343 p=11493 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:54:21,373 p=11493 u=tie |  ok: [the_tale]
2016-09-25 22:54:21,381 p=11493 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 22:54:21,382 p=11493 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 22:54:22,141 p=11493 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 22:54:22,158 p=11493 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 22:54:22,304 p=11493 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:54:23,180 p=11493 u=tie |  ok: [the_tale]
2016-09-25 22:54:23,189 p=11493 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 22:54:23,189 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 22:54:23,375 p=11493 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 22:54:23,394 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:54:23,394 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 22:54:24,074 p=11493 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:54:24,082 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 22:54:24,082 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 22:54:24,750 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 22:54:24,759 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:54:24,759 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 22:54:25,325 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 22:54:25,335 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 22:54:25,335 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 22:54:26,069 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 22:54:26,078 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:54:26,078 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 22:54:26,930 p=11493 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 22:54:26,971 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:54:26,971 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 22:54:27,753 p=11493 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 22:54:27,777 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:54:27,777 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 22:54:27,879 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:27,887 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:54:27,887 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 22:54:27,950 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:27,959 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:54:27,959 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 22:54:28,034 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:28,043 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:54:28,043 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 22:54:28,238 p=11493 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:28,251 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:54:28,251 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 22:54:28,443 p=11493 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:28,462 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:54:28,462 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 22:54:28,527 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:28,536 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 22:54:28,537 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 22:54:28,616 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:28,625 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 22:54:28,625 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 22:54:28,708 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:28,716 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 22:54:28,716 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 22:54:29,450 p=11493 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:54:29,458 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 22:54:29,458 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 22:54:29,705 p=11493 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:29,727 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 22:54:29,728 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 22:54:29,812 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:29,819 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 22:54:29,819 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 22:54:30,144 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:54:30,151 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 22:54:30,152 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 22:54:30,561 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 22:54:30,569 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 22:54:30,569 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 22:54:30,634 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:30,642 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 22:54:30,642 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 22:54:30,712 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:30,721 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 22:54:30,721 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 22:54:30,796 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:30,807 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 22:54:30,807 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 22:54:30,884 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:30,892 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 22:54:30,892 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 22:54:30,974 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:30,981 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 22:54:30,981 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 22:54:31,313 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:54:31,325 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 22:54:31,326 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 22:54:31,927 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 22:54:31,935 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 22:54:31,935 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 22:54:32,587 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 22:54:32,595 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 22:54:32,596 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 22:54:32,671 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:32,682 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 22:54:32,682 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 22:54:33,029 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:54:33,038 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 22:54:33,038 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 22:54:33,110 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:33,117 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 22:54:33,117 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 22:54:33,182 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:33,190 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 22:54:33,190 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 22:54:33,541 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 22:54:33,549 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 22:54:33,549 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 22:54:33,623 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:33,632 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:54:33,633 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 22:54:34,084 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 22:54:34,093 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 22:54:34,093 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 22:54:34,815 p=11493 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 22:54:34,829 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:54:34,829 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 22:54:35,145 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 22:54:35,154 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 22:54:35,155 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 22:54:35,942 p=11493 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 22:54:35,954 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 22:54:35,954 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 22:54:36,041 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 22:54:36,041 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 22:54:36,843 p=11493 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.076731", "end": "2016-09-25 19:54:36.698078", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:54:36.621347", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:54:36,866 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 22:54:36,866 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 22:54:37,557 p=11493 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.066867", "end": "2016-09-25 19:54:37.419693", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:54:37.352826", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:54:37,591 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 22:54:37,592 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 22:54:37,770 p=11493 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:37,799 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 22:54:37,799 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 22:54:37,993 p=11493 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:38,012 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 22:54:38,012 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 22:54:38,216 p=11493 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:38,235 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 22:54:38,235 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 22:54:38,437 p=11493 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:38,449 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 22:54:38,449 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 22:54:38,633 p=11493 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:38,662 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 22:54:38,662 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 22:54:38,769 p=11493 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 22:54:38,769 p=11493 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 22:54:38,896 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:38,911 p=11493 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 22:54:38,956 p=11493 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:54:39,768 p=11493 u=tie |  ok: [the_tale]
2016-09-25 22:54:39,777 p=11493 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 22:54:39,778 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 22:54:39,840 p=11493 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 22:54:39,848 p=11493 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 22:54:39,848 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 22:54:39,900 p=11493 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 22:54:39,913 p=11493 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 22:54:39,913 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 22:54:39,971 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:39,979 p=11493 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:54:39,979 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 22:54:40,034 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:40,041 p=11493 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 22:54:40,042 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 22:54:40,123 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:40,131 p=11493 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 22:54:40,131 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 22:54:40,190 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:40,201 p=11493 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 22:54:40,201 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 22:54:40,837 p=11493 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:54:40,845 p=11493 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:54:40,845 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 22:54:41,520 p=11493 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:54:41,528 p=11493 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 22:54:41,529 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 22:54:41,575 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:41,584 p=11493 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:54:41,584 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 22:54:41,632 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:41,641 p=11493 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 22:54:41,641 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 22:54:41,704 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:41,712 p=11493 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 22:54:41,712 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 22:54:42,015 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 22:54:42,024 p=11493 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 22:54:42,024 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 22:54:42,348 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 22:54:42,357 p=11493 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 22:54:42,357 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 22:54:42,985 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 22:54:42,999 p=11493 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 22:54:42,999 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 22:54:43,053 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:43,061 p=11493 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 22:54:43,061 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 22:54:43,633 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 22:54:43,645 p=11493 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 22:54:43,645 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 22:54:43,965 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 22:54:43,979 p=11493 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 22:54:44,000 p=11493 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:54:44,893 p=11493 u=tie |  ok: [the_tale]
2016-09-25 22:54:44,903 p=11493 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 22:54:44,903 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 22:54:44,970 p=11493 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 22:54:44,981 p=11493 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 22:54:44,981 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 22:54:45,037 p=11493 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 22:54:45,044 p=11493 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:54:45,045 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 22:54:45,111 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:45,119 p=11493 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:54:45,119 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 22:54:45,789 p=11493 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:54:45,797 p=11493 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 22:54:45,797 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 22:54:46,354 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 22:54:46,362 p=11493 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 22:54:46,362 p=11493 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 22:54:46,697 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 22:54:46,713 p=11493 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 22:54:46,771 p=11493 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:54:47,604 p=11493 u=tie |  ok: [the_tale]
2016-09-25 22:54:47,613 p=11493 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 22:54:47,613 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 22:54:48,197 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 22:54:48,205 p=11493 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 22:54:48,205 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 22:54:48,635 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 22:54:48,643 p=11493 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 22:54:48,643 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 22:54:49,320 p=11493 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:54:49,329 p=11493 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 22:54:49,329 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 22:54:49,412 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:49,427 p=11493 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 22:54:49,427 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 22:54:49,502 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:49,512 p=11493 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 22:54:49,512 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 22:54:49,591 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:49,600 p=11493 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 22:54:49,600 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 22:54:49,674 p=11493 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:54:49,682 p=11493 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 22:54:49,682 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 22:54:50,019 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 22:54:50,027 p=11493 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 22:54:50,028 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 22:54:51,957 p=11493 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 22:54:51,969 p=11493 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 22:54:51,969 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 22:54:54,051 p=11493 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 22:54:54,063 p=11493 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 22:54:54,063 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 22:54:57,559 p=11493 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 22:54:57,577 p=11493 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 22:54:57,577 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 22:54:57,890 p=11493 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 22:54:57,899 p=11493 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 22:54:57,899 p=11493 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 22:54:57,975 p=11493 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 22:54:57,984 p=11493 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:54:58,804 p=11493 u=tie |  ok: [the_tale]
2016-09-25 22:54:58,812 p=11493 u=tie |  TASK [user] ********************************************************************
2016-09-25 22:54:58,813 p=11493 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:86
2016-09-25 22:54:59,254 p=11493 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 22:54:59,262 p=11493 u=tie |  TASK [pip] *********************************************************************
2016-09-25 22:54:59,262 p=11493 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 22:55:07,257 p=11493 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:55:23,089 p=11493 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:55:25,629 p=11493 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:55:30,300 p=11493 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:55:35,095 p=11493 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:55:37,491 p=11493 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:55:55,435 p=11493 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-g2rvlhp9-build/setup.py\", line 17, in <module>\n        long_description = open('README.rst').read(),\n    FileNotFoundError: [Errno 2] No such file or directory: 'README.rst'\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-g2rvlhp9-build/\n"}
2016-09-25 22:55:55,443 p=11493 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 22:55:55,444 p=11493 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 22:55:55,444 p=11493 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 22:55:55,444 p=11493 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 22:57:00,734 p=12996 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 22:57:01,306 p=12996 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 22:57:01,306 p=12996 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 22:57:01,312 p=12996 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 22:57:01,330 p=12996 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 22:57:01,330 p=12996 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 22:57:02,311 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 22:57:02,318 p=12996 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 22:57:02,318 p=12996 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 22:57:03,285 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 22:57:03,303 p=12996 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 22:57:03,310 p=12996 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:57:04,376 p=12996 u=tie |  ok: [the_tale]
2016-09-25 22:57:04,385 p=12996 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 22:57:04,385 p=12996 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 22:57:05,161 p=12996 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 22:57:05,181 p=12996 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 22:57:05,316 p=12996 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:57:06,164 p=12996 u=tie |  ok: [the_tale]
2016-09-25 22:57:06,175 p=12996 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 22:57:06,176 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 22:57:06,348 p=12996 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 22:57:06,381 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:57:06,382 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 22:57:07,047 p=12996 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:57:07,056 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 22:57:07,056 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 22:57:07,724 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 22:57:07,733 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:57:07,733 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 22:57:08,311 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 22:57:08,320 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 22:57:08,320 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 22:57:09,063 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 22:57:09,071 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:57:09,072 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 22:57:09,919 p=12996 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 22:57:09,962 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:57:09,962 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 22:57:10,846 p=12996 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 22:57:10,864 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:57:10,864 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 22:57:10,955 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:10,964 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 22:57:10,964 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 22:57:11,029 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,038 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 22:57:11,038 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 22:57:11,092 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,101 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 22:57:11,101 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 22:57:11,281 p=12996 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,300 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 22:57:11,301 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 22:57:11,473 p=12996 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,498 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 22:57:11,499 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 22:57:11,554 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,563 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 22:57:11,563 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 22:57:11,645 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,654 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 22:57:11,655 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 22:57:11,742 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:11,752 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 22:57:11,752 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 22:57:12,446 p=12996 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:57:12,456 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 22:57:12,456 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 22:57:12,672 p=12996 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:12,710 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 22:57:12,710 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 22:57:12,770 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:12,778 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 22:57:12,778 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 22:57:13,094 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:57:13,103 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 22:57:13,103 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 22:57:13,501 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 22:57:13,510 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 22:57:13,511 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 22:57:13,565 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:13,574 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 22:57:13,574 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 22:57:13,637 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:13,646 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 22:57:13,646 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 22:57:13,703 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:13,718 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 22:57:13,719 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 22:57:13,786 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:13,794 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 22:57:13,794 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 22:57:13,876 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:13,884 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 22:57:13,885 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 22:57:14,211 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:57:14,219 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 22:57:14,219 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 22:57:14,788 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 22:57:14,795 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 22:57:14,795 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 22:57:15,442 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 22:57:15,451 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 22:57:15,452 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 22:57:15,535 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:15,544 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 22:57:15,544 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 22:57:15,843 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 22:57:15,855 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 22:57:15,855 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 22:57:15,927 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:15,935 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 22:57:15,935 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 22:57:16,002 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:16,011 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 22:57:16,011 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 22:57:16,329 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 22:57:16,338 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 22:57:16,338 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 22:57:16,405 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:16,413 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:57:16,414 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 22:57:16,878 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 22:57:16,887 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 22:57:16,888 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 22:57:17,599 p=12996 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 22:57:17,639 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 22:57:17,639 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 22:57:18,012 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 22:57:18,021 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 22:57:18,021 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 22:57:18,757 p=12996 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 22:57:18,769 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 22:57:18,769 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 22:57:18,848 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 22:57:18,848 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 22:57:19,642 p=12996 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.081413", "end": "2016-09-25 19:57:19.522399", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:57:19.440986", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:57:19,676 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 22:57:19,676 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 22:57:20,407 p=12996 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.079703", "end": "2016-09-25 19:57:20.275168", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 19:57:20.195465", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 22:57:20,447 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 22:57:20,447 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 22:57:20,624 p=12996 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:20,650 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 22:57:20,650 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 22:57:20,836 p=12996 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:20,862 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 22:57:20,862 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 22:57:21,058 p=12996 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:21,076 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 22:57:21,076 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 22:57:21,259 p=12996 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:21,277 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 22:57:21,278 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 22:57:21,477 p=12996 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:21,507 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 22:57:21,507 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 22:57:21,603 p=12996 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 22:57:21,603 p=12996 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 22:57:21,741 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:21,765 p=12996 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 22:57:21,810 p=12996 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:57:22,684 p=12996 u=tie |  ok: [the_tale]
2016-09-25 22:57:22,692 p=12996 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 22:57:22,693 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 22:57:22,763 p=12996 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 22:57:22,772 p=12996 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 22:57:22,773 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 22:57:22,823 p=12996 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 22:57:22,831 p=12996 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 22:57:22,831 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 22:57:22,872 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:22,880 p=12996 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:57:22,880 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 22:57:22,924 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:22,932 p=12996 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 22:57:22,933 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 22:57:22,989 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:22,998 p=12996 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 22:57:22,998 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 22:57:23,046 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:23,053 p=12996 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 22:57:23,054 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 22:57:23,717 p=12996 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:57:23,725 p=12996 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:57:23,725 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 22:57:24,450 p=12996 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:57:24,458 p=12996 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 22:57:24,459 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 22:57:24,500 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:24,508 p=12996 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 22:57:24,509 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 22:57:24,551 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:24,560 p=12996 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 22:57:24,560 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 22:57:24,609 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:24,618 p=12996 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 22:57:24,618 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 22:57:24,900 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 22:57:24,909 p=12996 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 22:57:24,909 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 22:57:25,204 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 22:57:25,213 p=12996 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 22:57:25,213 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 22:57:25,752 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 22:57:25,761 p=12996 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 22:57:25,761 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 22:57:25,825 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:25,833 p=12996 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 22:57:25,834 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 22:57:26,352 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 22:57:26,360 p=12996 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 22:57:26,360 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 22:57:26,666 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 22:57:26,681 p=12996 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 22:57:26,702 p=12996 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:57:27,540 p=12996 u=tie |  ok: [the_tale]
2016-09-25 22:57:27,554 p=12996 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 22:57:27,554 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 22:57:27,604 p=12996 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 22:57:27,612 p=12996 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 22:57:27,612 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 22:57:27,663 p=12996 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 22:57:27,671 p=12996 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:57:27,671 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 22:57:27,724 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:27,734 p=12996 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 22:57:27,734 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 22:57:28,394 p=12996 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:57:28,402 p=12996 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 22:57:28,402 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 22:57:28,954 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 22:57:28,962 p=12996 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 22:57:28,962 p=12996 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 22:57:29,310 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 22:57:29,326 p=12996 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 22:57:29,390 p=12996 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:57:30,315 p=12996 u=tie |  ok: [the_tale]
2016-09-25 22:57:30,325 p=12996 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 22:57:30,325 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 22:57:31,066 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 22:57:31,074 p=12996 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 22:57:31,074 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 22:57:31,562 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 22:57:31,570 p=12996 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 22:57:31,570 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 22:57:32,288 p=12996 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 22:57:32,298 p=12996 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 22:57:32,299 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 22:57:32,374 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:32,383 p=12996 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 22:57:32,384 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 22:57:32,472 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:32,483 p=12996 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 22:57:32,483 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 22:57:32,550 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:32,559 p=12996 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 22:57:32,560 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 22:57:32,636 p=12996 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 22:57:32,644 p=12996 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 22:57:32,645 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 22:57:32,954 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 22:57:32,963 p=12996 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 22:57:32,963 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 22:57:35,013 p=12996 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 22:57:35,029 p=12996 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 22:57:35,029 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 22:57:37,062 p=12996 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 22:57:37,078 p=12996 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 22:57:37,079 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 22:57:40,413 p=12996 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 22:57:40,430 p=12996 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 22:57:40,431 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 22:57:40,749 p=12996 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 22:57:40,757 p=12996 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 22:57:40,758 p=12996 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 22:57:40,820 p=12996 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 22:57:40,828 p=12996 u=tie |  TASK [setup] *******************************************************************
2016-09-25 22:57:41,663 p=12996 u=tie |  ok: [the_tale]
2016-09-25 22:57:41,672 p=12996 u=tie |  TASK [user] ********************************************************************
2016-09-25 22:57:41,672 p=12996 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:86
2016-09-25 22:57:42,138 p=12996 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 22:57:42,146 p=12996 u=tie |  TASK [pip] *********************************************************************
2016-09-25 22:57:42,146 p=12996 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 22:57:50,918 p=12996 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:58:06,593 p=12996 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:58:39,862 p=12996 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:58:44,235 p=12996 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:58:49,517 p=12996 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 22:58:52,358 p=12996 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:01:25,437 p=12996 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\nCollecting Django==1.9.6 (from TheTale==0.3.22.1)\n  Downloading Django-1.9.6-py2.py3-none-any.whl (6.6MB)\nCollecting Jinja2==2.6 (from TheTale==0.3.22.1)\n  Downloading Jinja2-2.6.tar.gz (389kB)\nCollecting psycopg2==2.4.5 (from TheTale==0.3.22.1)\n  Downloading psycopg2-2.4.5.tar.gz (719kB)\nCollecting kombu==3.0.35 (from TheTale==0.3.22.1)\n  Downloading kombu-3.0.35-py2.py3-none-any.whl (240kB)\nCollecting postmarkup==1.2.2 (from TheTale==0.3.22.1)\n  Downloading postmarkup-1.2.2.tar.gz\nCollecting markdown==2.2.0 (from TheTale==0.3.22.1)\n  Downloading Markdown-2.2.0.tar.gz (236kB)\nCollecting xlrd==0.8.0 (from TheTale==0.3.22.1)\n  Downloading xlrd-0.8.0.tar.gz (134kB)\nCollecting mock==1.0b1 (from TheTale==0.3.22.1)\n  Downloading mock-1.0b1.zip (849kB)\nCollecting pylibmc==1.2.3 (from TheTale==0.3.22.1)\n  Downloading pylibmc-1.2.3.tar.gz (47kB)\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\n  Downloading MarkupSafe-0.15.tar.gz\nCollecting boto==2.15.0 (from TheTale==0.3.22.1)\n  Downloading boto-2.15.0.tar.gz (5.6MB)\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-5krlomju/boto/setup.py\", line 37, in <module>\n        from boto import __version__\n      File \"/tmp/pip-build-5krlomju/boto/boto/__init__.py\", line 27, in <module>\n        from boto.pyami.config import Config, BotoConfigLocations\n      File \"/tmp/pip-build-5krlomju/boto/boto/pyami/config.py\", line 185\n        print s.getvalue()\n              ^\n    SyntaxError: invalid syntax\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-5krlomju/boto/\n"}
2016-09-25 23:01:25,444 p=12996 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 23:01:25,445 p=12996 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 23:01:25,445 p=12996 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:01:25,445 p=12996 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 23:05:40,570 p=14868 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:05:40,577 p=14868 u=tie |  ERROR! Specified --limit does not match any hosts
2016-09-25 23:05:56,676 p=15060 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:05:57,241 p=15060 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 23:05:57,241 p=15060 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 23:05:57,246 p=15060 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 23:05:57,265 p=15060 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 23:05:57,265 p=15060 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 23:05:58,171 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 23:05:58,178 p=15060 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 23:05:58,178 p=15060 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 23:06:00,938 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 23:06:00,953 p=15060 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 23:06:00,960 p=15060 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:06:01,980 p=15060 u=tie |  ok: [the_tale]
2016-09-25 23:06:01,988 p=15060 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 23:06:01,988 p=15060 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 23:06:02,774 p=15060 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 23:06:02,790 p=15060 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 23:06:02,924 p=15060 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:06:03,703 p=15060 u=tie |  ok: [the_tale]
2016-09-25 23:06:03,713 p=15060 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 23:06:03,713 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 23:06:03,886 p=15060 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 23:06:03,904 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:06:03,905 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 23:06:04,574 p=15060 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:06:04,583 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 23:06:04,583 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 23:06:05,297 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:06:05,306 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:06:05,306 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 23:06:05,871 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 23:06:05,881 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 23:06:05,881 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 23:06:06,583 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 23:06:06,592 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:06:06,592 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 23:06:07,473 p=15060 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 23:06:07,521 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:06:07,521 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 23:06:08,366 p=15060 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 23:06:08,402 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:06:08,402 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 23:06:08,500 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:08,508 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:06:08,508 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 23:06:08,583 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:08,590 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:06:08,590 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 23:06:08,668 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:08,677 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:06:08,677 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 23:06:08,896 p=15060 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:08,909 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:06:08,909 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 23:06:09,102 p=15060 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:09,127 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:06:09,127 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 23:06:09,206 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:09,218 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 23:06:09,219 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 23:06:09,289 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:09,298 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 23:06:09,298 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 23:06:09,388 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:09,395 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 23:06:09,396 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 23:06:10,123 p=15060 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:06:10,132 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 23:06:10,132 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 23:06:10,375 p=15060 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:10,415 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 23:06:10,415 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 23:06:10,499 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:10,508 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 23:06:10,508 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 23:06:10,814 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:06:10,822 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 23:06:10,822 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 23:06:11,239 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 23:06:11,247 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 23:06:11,248 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 23:06:11,319 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:11,328 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 23:06:11,328 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 23:06:11,414 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:11,421 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 23:06:11,421 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 23:06:11,500 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:11,510 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 23:06:11,511 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 23:06:11,594 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:11,605 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 23:06:11,605 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 23:06:11,674 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:11,683 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 23:06:11,683 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 23:06:12,069 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:06:12,077 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 23:06:12,077 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 23:06:12,660 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 23:06:12,667 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 23:06:12,668 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 23:06:13,324 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 23:06:13,332 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 23:06:13,333 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 23:06:13,408 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:13,417 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 23:06:13,417 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 23:06:13,742 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:06:13,750 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 23:06:13,750 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 23:06:13,814 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:13,829 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 23:06:13,829 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 23:06:13,906 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:13,914 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 23:06:13,914 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 23:06:14,254 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 23:06:14,263 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 23:06:14,263 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 23:06:14,329 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:14,338 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:06:14,338 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 23:06:14,813 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:06:14,825 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 23:06:14,825 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 23:06:15,549 p=15060 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 23:06:15,569 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:06:15,569 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 23:06:15,909 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:06:15,918 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 23:06:15,918 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 23:06:16,640 p=15060 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 23:06:16,660 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 23:06:16,660 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 23:06:16,733 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 23:06:16,733 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 23:06:17,586 p=15060 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.084120", "end": "2016-09-25 20:06:17.442871", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:06:17.358751", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:06:17,611 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 23:06:17,611 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 23:06:18,362 p=15060 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.075977", "end": "2016-09-25 20:06:18.220627", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:06:18.144650", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:06:18,379 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 23:06:18,380 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 23:06:18,580 p=15060 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:18,605 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 23:06:18,606 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 23:06:18,809 p=15060 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:18,823 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 23:06:18,823 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 23:06:19,001 p=15060 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:19,021 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 23:06:19,022 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 23:06:19,217 p=15060 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:19,236 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 23:06:19,236 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 23:06:19,436 p=15060 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:19,467 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 23:06:19,467 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 23:06:19,571 p=15060 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 23:06:19,572 p=15060 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 23:06:19,694 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:19,709 p=15060 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 23:06:19,755 p=15060 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:06:20,579 p=15060 u=tie |  ok: [the_tale]
2016-09-25 23:06:20,588 p=15060 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 23:06:20,588 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 23:06:20,657 p=15060 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:06:20,666 p=15060 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 23:06:20,666 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 23:06:20,712 p=15060 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 23:06:20,721 p=15060 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 23:06:20,721 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 23:06:20,786 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:20,795 p=15060 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:06:20,795 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 23:06:20,847 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:20,855 p=15060 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 23:06:20,855 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 23:06:20,917 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:20,925 p=15060 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 23:06:20,925 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 23:06:20,989 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:20,998 p=15060 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 23:06:20,998 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 23:06:21,668 p=15060 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:06:21,676 p=15060 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:06:21,676 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 23:06:22,381 p=15060 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:06:22,390 p=15060 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 23:06:22,390 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 23:06:22,464 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:22,472 p=15060 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:06:22,472 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 23:06:22,530 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:22,539 p=15060 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 23:06:22,539 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 23:06:22,601 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:22,610 p=15060 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 23:06:22,610 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 23:06:22,976 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 23:06:22,984 p=15060 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 23:06:22,985 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 23:06:23,291 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 23:06:23,299 p=15060 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 23:06:23,299 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 23:06:23,873 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 23:06:23,881 p=15060 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 23:06:23,881 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 23:06:23,954 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:23,962 p=15060 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 23:06:23,962 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 23:06:24,553 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 23:06:24,561 p=15060 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 23:06:24,561 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 23:06:24,877 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 23:06:24,893 p=15060 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 23:06:24,914 p=15060 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:06:25,827 p=15060 u=tie |  ok: [the_tale]
2016-09-25 23:06:25,837 p=15060 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 23:06:25,837 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 23:06:25,888 p=15060 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:06:25,896 p=15060 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 23:06:25,896 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 23:06:25,944 p=15060 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 23:06:25,953 p=15060 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:06:25,953 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 23:06:26,008 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:26,016 p=15060 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:06:26,016 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 23:06:26,713 p=15060 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:06:26,724 p=15060 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 23:06:26,724 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 23:06:27,249 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 23:06:27,257 p=15060 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 23:06:27,257 p=15060 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 23:06:27,584 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 23:06:27,601 p=15060 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 23:06:27,659 p=15060 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:06:28,524 p=15060 u=tie |  ok: [the_tale]
2016-09-25 23:06:28,534 p=15060 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 23:06:28,535 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 23:06:29,173 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:06:29,182 p=15060 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 23:06:29,183 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 23:06:29,675 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 23:06:29,683 p=15060 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 23:06:29,683 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 23:06:30,434 p=15060 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:06:30,445 p=15060 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 23:06:30,445 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 23:06:30,510 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:30,518 p=15060 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 23:06:30,519 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 23:06:30,586 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:30,595 p=15060 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 23:06:30,595 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 23:06:30,673 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:30,682 p=15060 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 23:06:30,682 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 23:06:30,761 p=15060 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:06:30,769 p=15060 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 23:06:30,770 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 23:06:31,074 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 23:06:31,084 p=15060 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 23:06:31,084 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 23:06:33,069 p=15060 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 23:06:33,087 p=15060 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 23:06:33,087 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 23:06:34,945 p=15060 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 23:06:34,960 p=15060 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 23:06:34,961 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 23:06:38,245 p=15060 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 23:06:38,256 p=15060 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 23:06:38,256 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 23:06:38,580 p=15060 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 23:06:38,588 p=15060 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 23:06:38,588 p=15060 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 23:06:38,650 p=15060 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 23:06:38,657 p=15060 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:06:39,517 p=15060 u=tie |  ok: [the_tale]
2016-09-25 23:06:39,526 p=15060 u=tie |  TASK [user] ********************************************************************
2016-09-25 23:06:39,526 p=15060 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:86
2016-09-25 23:06:39,973 p=15060 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 23:06:39,980 p=15060 u=tie |  TASK [pip] *********************************************************************
2016-09-25 23:06:39,981 p=15060 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 23:06:48,815 p=15060 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:07:03,313 p=15060 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:07:05,962 p=15060 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:07:10,939 p=15060 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:07:16,563 p=15060 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:07:18,892 p=15060 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:07:42,004 p=15060 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\nCollecting Django==1.9.6 (from TheTale==0.3.22.1)\n  Using cached Django-1.9.6-py2.py3-none-any.whl\nCollecting Jinja2==2.6 (from TheTale==0.3.22.1)\n  Using cached Jinja2-2.6.tar.gz\nCollecting psycopg2==2.4.5 (from TheTale==0.3.22.1)\n  Using cached psycopg2-2.4.5.tar.gz\nCollecting kombu==3.0.35 (from TheTale==0.3.22.1)\n  Using cached kombu-3.0.35-py2.py3-none-any.whl\nCollecting postmarkup==1.2.2 (from TheTale==0.3.22.1)\n  Using cached postmarkup-1.2.2.tar.gz\nCollecting markdown==2.2.0 (from TheTale==0.3.22.1)\n  Using cached Markdown-2.2.0.tar.gz\nCollecting xlrd==0.8.0 (from TheTale==0.3.22.1)\n  Using cached xlrd-0.8.0.tar.gz\nCollecting mock==1.0b1 (from TheTale==0.3.22.1)\n  Using cached mock-1.0b1.zip\nCollecting pylibmc==1.2.3 (from TheTale==0.3.22.1)\n  Using cached pylibmc-1.2.3.tar.gz\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\n  Using cached MarkupSafe-0.15.tar.gz\nCollecting boto==2.15.0 (from TheTale==0.3.22.1)\n  Using cached boto-2.15.0.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-ouqmnz0b/boto/setup.py\", line 37, in <module>\n        from boto import __version__\n      File \"/tmp/pip-build-ouqmnz0b/boto/boto/__init__.py\", line 27, in <module>\n        from boto.pyami.config import Config, BotoConfigLocations\n      File \"/tmp/pip-build-ouqmnz0b/boto/boto/pyami/config.py\", line 185\n        print s.getvalue()\n              ^\n    SyntaxError: invalid syntax\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-ouqmnz0b/boto/\n"}
2016-09-25 23:07:42,011 p=15060 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 23:07:42,012 p=15060 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 23:07:42,012 p=15060 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:07:42,012 p=15060 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 23:11:13,846 p=16787 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:11:14,411 p=16787 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 23:11:14,411 p=16787 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 23:11:14,416 p=16787 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 23:11:14,435 p=16787 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 23:11:14,435 p=16787 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 23:11:15,392 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 23:11:15,399 p=16787 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 23:11:15,399 p=16787 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 23:11:16,366 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 23:11:16,379 p=16787 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 23:11:16,387 p=16787 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:11:17,407 p=16787 u=tie |  ok: [the_tale]
2016-09-25 23:11:17,415 p=16787 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 23:11:17,416 p=16787 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 23:11:18,200 p=16787 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 23:11:18,215 p=16787 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 23:11:18,363 p=16787 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:11:19,223 p=16787 u=tie |  ok: [the_tale]
2016-09-25 23:11:19,234 p=16787 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 23:11:19,234 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 23:11:19,399 p=16787 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 23:11:19,425 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:11:19,426 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 23:11:20,125 p=16787 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:11:20,133 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 23:11:20,133 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 23:11:20,863 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:11:20,872 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:11:20,872 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 23:11:21,450 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 23:11:21,459 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 23:11:21,460 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 23:11:22,191 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 23:11:22,199 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:11:22,200 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 23:11:23,018 p=16787 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 23:11:23,074 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:11:23,075 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 23:11:23,979 p=16787 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 23:11:24,006 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:11:24,007 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 23:11:24,105 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,114 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:11:24,114 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 23:11:24,171 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,180 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:11:24,180 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 23:11:24,255 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,263 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:11:24,263 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 23:11:24,443 p=16787 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,461 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:11:24,461 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 23:11:24,633 p=16787 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,668 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:11:24,668 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 23:11:24,733 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,741 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 23:11:24,742 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 23:11:24,832 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,843 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 23:11:24,843 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 23:11:24,920 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:24,936 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 23:11:24,936 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 23:11:25,605 p=16787 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:11:25,613 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 23:11:25,614 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 23:11:25,866 p=16787 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:25,889 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 23:11:25,889 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 23:11:25,978 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:25,986 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 23:11:25,986 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 23:11:26,313 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:11:26,320 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 23:11:26,321 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 23:11:26,729 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 23:11:26,738 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 23:11:26,738 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 23:11:26,813 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:26,822 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 23:11:26,822 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 23:11:26,887 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:26,896 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 23:11:26,896 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 23:11:26,970 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:26,978 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 23:11:26,979 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 23:11:27,054 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:27,062 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 23:11:27,063 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 23:11:27,123 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:27,132 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 23:11:27,132 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 23:11:27,450 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:11:27,458 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 23:11:27,459 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 23:11:28,088 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 23:11:28,096 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 23:11:28,096 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 23:11:28,842 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 23:11:28,850 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 23:11:28,851 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 23:11:28,927 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:28,934 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 23:11:28,935 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 23:11:29,268 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:11:29,282 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 23:11:29,282 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 23:11:29,353 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:29,361 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 23:11:29,361 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 23:11:29,442 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:29,451 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 23:11:29,451 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 23:11:29,777 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 23:11:29,791 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 23:11:29,791 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 23:11:29,874 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:29,883 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:11:29,883 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 23:11:30,321 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:11:30,330 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 23:11:30,330 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 23:11:31,093 p=16787 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 23:11:31,106 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:11:31,106 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 23:11:31,443 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:11:31,451 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 23:11:31,451 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 23:11:32,198 p=16787 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 23:11:32,209 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 23:11:32,209 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 23:11:32,300 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 23:11:32,300 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 23:11:33,082 p=16787 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.097980", "end": "2016-09-25 20:11:32.931903", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:11:32.833923", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:11:33,119 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 23:11:33,120 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 23:11:33,859 p=16787 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.078627", "end": "2016-09-25 20:11:33.717066", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:11:33.638439", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:11:33,898 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 23:11:33,899 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 23:11:34,082 p=16787 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:34,099 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 23:11:34,099 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 23:11:34,283 p=16787 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:34,303 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 23:11:34,303 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 23:11:34,493 p=16787 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:34,512 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 23:11:34,513 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 23:11:34,698 p=16787 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:34,722 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 23:11:34,722 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 23:11:34,912 p=16787 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:34,935 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 23:11:34,935 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 23:11:35,053 p=16787 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 23:11:35,053 p=16787 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 23:11:35,168 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:35,184 p=16787 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 23:11:35,228 p=16787 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:11:36,001 p=16787 u=tie |  ok: [the_tale]
2016-09-25 23:11:36,013 p=16787 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 23:11:36,014 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 23:11:36,082 p=16787 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:11:36,090 p=16787 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 23:11:36,090 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 23:11:36,138 p=16787 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 23:11:36,146 p=16787 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 23:11:36,146 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 23:11:36,204 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:36,213 p=16787 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:11:36,213 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 23:11:36,267 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:36,275 p=16787 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 23:11:36,276 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 23:11:36,342 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:36,350 p=16787 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 23:11:36,350 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 23:11:36,398 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:36,406 p=16787 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 23:11:36,406 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 23:11:37,144 p=16787 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:11:37,152 p=16787 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:11:37,153 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 23:11:37,839 p=16787 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:11:37,847 p=16787 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 23:11:37,847 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 23:11:37,896 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:37,904 p=16787 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:11:37,904 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 23:11:37,952 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:37,960 p=16787 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 23:11:37,960 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 23:11:38,010 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:38,020 p=16787 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 23:11:38,020 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 23:11:38,306 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 23:11:38,314 p=16787 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 23:11:38,314 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 23:11:38,598 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 23:11:38,608 p=16787 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 23:11:38,608 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 23:11:39,160 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 23:11:39,169 p=16787 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 23:11:39,169 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 23:11:39,216 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:39,224 p=16787 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 23:11:39,224 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 23:11:39,726 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 23:11:39,734 p=16787 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 23:11:39,734 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 23:11:40,062 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 23:11:40,078 p=16787 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 23:11:40,097 p=16787 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:11:40,898 p=16787 u=tie |  ok: [the_tale]
2016-09-25 23:11:40,911 p=16787 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 23:11:40,912 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 23:11:40,972 p=16787 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:11:40,980 p=16787 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 23:11:40,980 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 23:11:41,042 p=16787 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 23:11:41,050 p=16787 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:11:41,051 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 23:11:41,126 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:41,134 p=16787 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:11:41,134 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 23:11:41,805 p=16787 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:11:41,813 p=16787 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 23:11:41,813 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 23:11:42,368 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 23:11:42,376 p=16787 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 23:11:42,376 p=16787 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 23:11:42,688 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 23:11:42,704 p=16787 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 23:11:42,764 p=16787 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:11:43,699 p=16787 u=tie |  ok: [the_tale]
2016-09-25 23:11:43,709 p=16787 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 23:11:43,710 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 23:11:44,328 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:11:44,337 p=16787 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 23:11:44,338 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 23:11:44,852 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 23:11:44,860 p=16787 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 23:11:44,860 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 23:11:45,555 p=16787 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:11:45,566 p=16787 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 23:11:45,567 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 23:11:45,653 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:45,661 p=16787 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 23:11:45,661 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 23:11:45,739 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:45,747 p=16787 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 23:11:45,747 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 23:11:45,842 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:45,849 p=16787 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 23:11:45,849 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 23:11:45,925 p=16787 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:11:45,937 p=16787 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 23:11:45,937 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 23:11:46,260 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 23:11:46,269 p=16787 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 23:11:46,269 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 23:11:48,035 p=16787 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 23:11:48,050 p=16787 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 23:11:48,050 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 23:11:49,782 p=16787 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 23:11:49,800 p=16787 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 23:11:49,800 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 23:11:52,824 p=16787 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 23:11:52,841 p=16787 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 23:11:52,842 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 23:11:53,186 p=16787 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 23:11:53,194 p=16787 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 23:11:53,194 p=16787 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 23:11:53,270 p=16787 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 23:11:53,279 p=16787 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:11:54,110 p=16787 u=tie |  ok: [the_tale]
2016-09-25 23:11:54,118 p=16787 u=tie |  TASK [user] ********************************************************************
2016-09-25 23:11:54,118 p=16787 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:86
2016-09-25 23:11:54,558 p=16787 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 23:11:54,566 p=16787 u=tie |  TASK [pip] *********************************************************************
2016-09-25 23:11:54,566 p=16787 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 23:12:02,536 p=16787 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:12:18,177 p=16787 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:12:20,753 p=16787 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:12:25,431 p=16787 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:12:30,357 p=16787 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:12:32,818 p=16787 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:12:56,487 p=16787 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\nCollecting Django==1.9.6 (from TheTale==0.3.22.1)\n  Using cached Django-1.9.6-py2.py3-none-any.whl\nCollecting Jinja2==2.6 (from TheTale==0.3.22.1)\n  Using cached Jinja2-2.6.tar.gz\nCollecting psycopg2==2.4.5 (from TheTale==0.3.22.1)\n  Using cached psycopg2-2.4.5.tar.gz\nCollecting kombu==3.0.35 (from TheTale==0.3.22.1)\n  Using cached kombu-3.0.35-py2.py3-none-any.whl\nCollecting postmarkup==1.2.2 (from TheTale==0.3.22.1)\n  Using cached postmarkup-1.2.2.tar.gz\nCollecting markdown==2.2.0 (from TheTale==0.3.22.1)\n  Using cached Markdown-2.2.0.tar.gz\nCollecting xlrd==0.8.0 (from TheTale==0.3.22.1)\n  Using cached xlrd-0.8.0.tar.gz\nCollecting mock==1.0b1 (from TheTale==0.3.22.1)\n  Using cached mock-1.0b1.zip\nCollecting pylibmc==1.2.3 (from TheTale==0.3.22.1)\n  Using cached pylibmc-1.2.3.tar.gz\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\n  Using cached MarkupSafe-0.15.tar.gz\nCollecting boto3==1.4.0 (from TheTale==0.3.22.1)\n  Downloading boto3-1.4.0-py2.py3-none-any.whl (117kB)\nCollecting unicodecsv==0.9.4 (from TheTale==0.3.22.1)\n  Downloading unicodecsv-0.9.4.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-jp3c1gux/unicodecsv/setup.py\", line 5, in <module>\n        version = __import__('unicodecsv').__version__\n      File \"/tmp/pip-build-jp3c1gux/unicodecsv/unicodecsv/__init__.py\", line 49\n        except TypeError, e:\n                        ^\n    SyntaxError: invalid syntax\n    \n    ----------------------------------------\n\n:stderr: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-jp3c1gux/unicodecsv/\n"}
2016-09-25 23:12:56,499 p=16787 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 23:12:56,500 p=16787 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 23:12:56,500 p=16787 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:12:56,500 p=16787 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 23:13:37,284 p=18259 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:13:37,852 p=18259 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 23:13:37,852 p=18259 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 23:13:37,857 p=18259 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 23:13:37,875 p=18259 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 23:13:37,875 p=18259 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 23:13:38,554 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 23:13:38,561 p=18259 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 23:13:38,561 p=18259 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 23:13:39,529 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 23:13:39,546 p=18259 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 23:13:39,553 p=18259 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:13:40,515 p=18259 u=tie |  ok: [the_tale]
2016-09-25 23:13:40,523 p=18259 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 23:13:40,524 p=18259 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 23:13:41,311 p=18259 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 23:13:41,327 p=18259 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 23:13:41,460 p=18259 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:13:42,262 p=18259 u=tie |  ok: [the_tale]
2016-09-25 23:13:42,272 p=18259 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 23:13:42,272 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 23:13:42,458 p=18259 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 23:13:42,495 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:13:42,496 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 23:13:43,180 p=18259 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:13:43,190 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 23:13:43,191 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 23:13:43,889 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:13:43,897 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:13:43,898 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 23:13:44,480 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 23:13:44,489 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 23:13:44,490 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 23:13:45,226 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 23:13:45,235 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:13:45,235 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 23:13:46,094 p=18259 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 23:13:46,141 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:13:46,141 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 23:13:46,911 p=18259 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 23:13:46,930 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:13:46,930 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 23:13:47,019 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,027 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:13:47,027 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 23:13:47,092 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,100 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:13:47,100 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 23:13:47,171 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,179 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:13:47,179 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 23:13:47,361 p=18259 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,380 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:13:47,380 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 23:13:47,569 p=18259 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,594 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:13:47,594 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 23:13:47,655 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,663 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 23:13:47,663 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 23:13:47,752 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,759 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 23:13:47,760 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 23:13:47,852 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:47,868 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 23:13:47,868 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 23:13:48,572 p=18259 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:13:48,580 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 23:13:48,580 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 23:13:48,825 p=18259 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:48,852 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 23:13:48,852 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 23:13:48,929 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:48,937 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 23:13:48,937 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 23:13:49,280 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:13:49,289 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 23:13:49,289 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 23:13:49,684 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 23:13:49,693 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 23:13:49,693 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 23:13:49,768 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:49,776 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 23:13:49,776 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 23:13:49,851 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:49,859 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 23:13:49,859 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 23:13:49,933 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:49,947 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 23:13:49,948 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 23:13:50,025 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:50,033 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 23:13:50,033 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 23:13:50,115 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:50,123 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 23:13:50,124 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 23:13:50,491 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:13:50,500 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 23:13:50,500 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 23:13:51,078 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 23:13:51,087 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 23:13:51,087 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 23:13:51,798 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 23:13:51,806 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 23:13:51,806 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 23:13:51,881 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:51,890 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 23:13:51,890 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 23:13:52,243 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:13:52,252 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 23:13:52,252 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 23:13:52,326 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:52,335 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 23:13:52,335 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 23:13:52,423 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:52,437 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 23:13:52,438 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 23:13:52,769 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 23:13:52,778 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 23:13:52,778 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 23:13:52,850 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:52,861 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:13:52,861 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 23:13:53,356 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:13:53,364 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 23:13:53,364 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 23:13:54,110 p=18259 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 23:13:54,123 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:13:54,123 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 23:13:54,450 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:13:54,459 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 23:13:54,459 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 23:13:55,213 p=18259 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 23:13:55,224 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 23:13:55,225 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 23:13:55,301 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 23:13:55,301 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 23:13:56,059 p=18259 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.081357", "end": "2016-09-25 20:13:55.855353", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:13:55.773996", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:13:56,084 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 23:13:56,084 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 23:13:56,812 p=18259 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.078433", "end": "2016-09-25 20:13:56.575612", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:13:56.497179", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:13:56,854 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 23:13:56,854 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 23:13:57,050 p=18259 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:57,065 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 23:13:57,065 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 23:13:57,254 p=18259 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:57,273 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 23:13:57,273 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 23:13:57,474 p=18259 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:57,492 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 23:13:57,492 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 23:13:57,672 p=18259 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:57,704 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 23:13:57,705 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 23:13:57,890 p=18259 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:57,917 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 23:13:57,917 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 23:13:58,016 p=18259 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 23:13:58,016 p=18259 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 23:13:58,143 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:58,160 p=18259 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 23:13:58,205 p=18259 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:13:59,068 p=18259 u=tie |  ok: [the_tale]
2016-09-25 23:13:59,077 p=18259 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 23:13:59,077 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 23:13:59,147 p=18259 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:13:59,155 p=18259 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 23:13:59,155 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 23:13:59,203 p=18259 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 23:13:59,211 p=18259 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 23:13:59,211 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 23:13:59,266 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:59,274 p=18259 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:13:59,274 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 23:13:59,324 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:59,333 p=18259 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 23:13:59,333 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 23:13:59,380 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:59,391 p=18259 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 23:13:59,392 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 23:13:59,435 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:13:59,443 p=18259 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 23:13:59,443 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 23:14:00,097 p=18259 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:14:00,109 p=18259 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:14:00,109 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 23:14:00,773 p=18259 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:14:00,781 p=18259 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 23:14:00,781 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 23:14:00,842 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:00,849 p=18259 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:14:00,849 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 23:14:00,926 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:00,934 p=18259 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 23:14:00,934 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 23:14:00,989 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:00,997 p=18259 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 23:14:00,997 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 23:14:01,342 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 23:14:01,351 p=18259 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 23:14:01,352 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 23:14:01,631 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 23:14:01,640 p=18259 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 23:14:01,640 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 23:14:02,158 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 23:14:02,167 p=18259 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 23:14:02,167 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 23:14:02,221 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:02,228 p=18259 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 23:14:02,229 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 23:14:02,766 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 23:14:02,774 p=18259 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 23:14:02,774 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 23:14:03,118 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 23:14:03,133 p=18259 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 23:14:03,153 p=18259 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:14:04,003 p=18259 u=tie |  ok: [the_tale]
2016-09-25 23:14:04,013 p=18259 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 23:14:04,013 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 23:14:04,075 p=18259 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:14:04,082 p=18259 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 23:14:04,082 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 23:14:04,140 p=18259 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 23:14:04,148 p=18259 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:14:04,149 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 23:14:04,213 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:04,221 p=18259 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:14:04,221 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 23:14:04,863 p=18259 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:14:04,870 p=18259 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 23:14:04,870 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 23:14:05,447 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 23:14:05,455 p=18259 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 23:14:05,455 p=18259 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 23:14:05,771 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 23:14:05,787 p=18259 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 23:14:05,846 p=18259 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:14:06,650 p=18259 u=tie |  ok: [the_tale]
2016-09-25 23:14:06,660 p=18259 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 23:14:06,660 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 23:14:07,243 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:14:07,252 p=18259 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 23:14:07,252 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 23:14:07,710 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 23:14:07,719 p=18259 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 23:14:07,719 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 23:14:08,437 p=18259 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:14:08,445 p=18259 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 23:14:08,445 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 23:14:08,534 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:08,542 p=18259 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 23:14:08,542 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 23:14:08,632 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:08,640 p=18259 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 23:14:08,640 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 23:14:08,717 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:08,725 p=18259 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 23:14:08,725 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 23:14:08,810 p=18259 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:14:08,818 p=18259 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 23:14:08,818 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 23:14:09,102 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 23:14:09,111 p=18259 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 23:14:09,111 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 23:14:10,886 p=18259 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 23:14:10,899 p=18259 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 23:14:10,899 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 23:14:12,745 p=18259 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 23:14:12,757 p=18259 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 23:14:12,757 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 23:14:15,942 p=18259 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 23:14:15,970 p=18259 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 23:14:15,970 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 23:14:16,299 p=18259 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 23:14:16,307 p=18259 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 23:14:16,308 p=18259 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 23:14:16,382 p=18259 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 23:14:16,390 p=18259 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:14:17,184 p=18259 u=tie |  ok: [the_tale]
2016-09-25 23:14:17,192 p=18259 u=tie |  TASK [user] ********************************************************************
2016-09-25 23:14:17,192 p=18259 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:86
2016-09-25 23:14:17,696 p=18259 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 23:14:17,706 p=18259 u=tie |  TASK [pip] *********************************************************************
2016-09-25 23:14:17,706 p=18259 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 23:14:24,830 p=18259 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): MarkupSafe in /home/the-tale/current/venv/lib/python3.5/site-packages (from Jinja2>=2.6->Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:14:39,362 p=18259 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:14:41,916 p=18259 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:14:46,674 p=18259 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:14:51,543 p=18259 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:14:53,906 p=18259 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:16:17,746 p=18259 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\nCollecting Django==1.9.6 (from TheTale==0.3.22.1)\n  Using cached Django-1.9.6-py2.py3-none-any.whl\nCollecting Jinja2==2.6 (from TheTale==0.3.22.1)\n  Using cached Jinja2-2.6.tar.gz\nCollecting psycopg2==2.4.5 (from TheTale==0.3.22.1)\n  Using cached psycopg2-2.4.5.tar.gz\nCollecting kombu==3.0.35 (from TheTale==0.3.22.1)\n  Using cached kombu-3.0.35-py2.py3-none-any.whl\nCollecting postmarkup==1.2.2 (from TheTale==0.3.22.1)\n  Using cached postmarkup-1.2.2.tar.gz\nCollecting markdown==2.2.0 (from TheTale==0.3.22.1)\n  Using cached Markdown-2.2.0.tar.gz\nCollecting xlrd==0.8.0 (from TheTale==0.3.22.1)\n  Using cached xlrd-0.8.0.tar.gz\nCollecting mock==1.0b1 (from TheTale==0.3.22.1)\n  Using cached mock-1.0b1.zip\nCollecting pylibmc==1.2.3 (from TheTale==0.3.22.1)\n  Using cached pylibmc-1.2.3.tar.gz\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\n  Using cached MarkupSafe-0.15.tar.gz\nCollecting boto3==1.4.0 (from TheTale==0.3.22.1)\n  Using cached boto3-1.4.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv==0.14.1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nCollecting amqp<2.0,>=1.4.9 (from kombu==3.0.35->TheTale==0.3.22.1)\n  Downloading amqp-1.4.9-py2.py3-none-any.whl (51kB)\nCollecting anyjson>=0.3.3 (from kombu==3.0.35->TheTale==0.3.22.1)\n  Downloading anyjson-0.3.3.tar.gz\nRequirement already satisfied (use --upgrade to upgrade): setuptools in /home/the-tale/current/venv/lib/python3.5/site-packages (from postmarkup==1.2.2->TheTale==0.3.22.1)\nCollecting jmespath<1.0.0,>=0.7.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Downloading jmespath-0.9.0-py2.py3-none-any.whl\nCollecting s3transfer<0.2.0,>=0.1.0 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Downloading s3transfer-0.1.4-py2.py3-none-any.whl (52kB)\nCollecting botocore<1.5.0,>=1.4.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Downloading botocore-1.4.56-py2.py3-none-any.whl (2.6MB)\nCollecting python-dateutil<3.0.0,>=2.1 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Downloading python_dateutil-2.5.3-py2.py3-none-any.whl (201kB)\nCollecting docutils>=0.10 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Downloading docutils-0.12-py3-none-any.whl (508kB)\nRequirement already satisfied (use --upgrade to upgrade): six>=1.5 in /home/the-tale/current/venv/lib/python3.5/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\nBuilding wheels for collected packages: Jinja2, psycopg2, postmarkup, markdown, xlrd, mock, pylibmc, MarkupSafe, anyjson\n  Running setup.py bdist_wheel for Jinja2: started\n  Running setup.py bdist_wheel for Jinja2: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/58/3f/84/23e0402d462dfe2b764ec9e200c84ecbbe6094bc3df4d2a70f\n  Running setup.py bdist_wheel for psycopg2: started\n  Running setup.py bdist_wheel for psycopg2: finished with status 'error'\n  Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-s6w907py/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /tmp/tmp3uu00gcupip-wheel- --python-tag cp35:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-3.5\n  creating build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/errorcodes.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/psycopg1.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/tz.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/extras.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/extensions.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/pool.py -> build/lib.linux-x86_64-3.5/psycopg2\n  creating build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_green.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_module.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_extras_dictcursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_types_basic.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_dates.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_copy.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_quote.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_async.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_connection.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_notify.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_bugX000.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_psycopg2_dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/testconfig.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/testutils.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_bug_gc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_transaction.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_cursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_types_extras.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_cancel.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_lobject.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/dbapi20_tpc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  Skipping optional fixer: buffer\n  Skipping optional fixer: idioms\n  Skipping optional fixer: set_literal\n  Skipping optional fixer: ws_comma\n  running build_ext\n  building 'psycopg2._psycopg' extension\n  creating build/temp.linux-x86_64-3.5\n  creating build/temp.linux-x86_64-3.5/psycopg\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.4.5 (dt dec pq3 ext)\" -DPG_VERSION_HEX=0x090504 -DPSYCOPG_EXTENSIONS=1 -DPSYCOPG_NEW_BOOLEAN=1 -DHAVE_PQFREEMEM=1 -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -I. -I/usr/include/postgresql -I/usr/include/postgresql/9.5/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-3.5/psycopg/psycopgmodule.o\n  In file included from psycopg/psycopgmodule.c:27:0:\n  ./psycopg/psycopg.h:30:20: fatal error: Python.h: No such file or directory\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n  \n  ----------------------------------------\n  Running setup.py clean for psycopg2\n  Running setup.py bdist_wheel for postmarkup: started\n  Running setup.py bdist_wheel for postmarkup: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/39/ea/7b/7ea967a32514672f8450a6c0f740f5483803c09bc28fc0b78a\n  Running setup.py bdist_wheel for markdown: started\n  Running setup.py bdist_wheel for markdown: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/b9/4f/6c/f4c1c5207c1d0eeaaf7005f7f736620c6ded6617c9d9b94096\n  Running setup.py bdist_wheel for xlrd: started\n  Running setup.py bdist_wheel for xlrd: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/8f/e9/0c/0f21317314887ec3d67a8a3ed726356e2a9081e3cca85c2176\n  Running setup.py bdist_wheel for mock: started\n  Running setup.py bdist_wheel for mock: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/97/92/48/b81ca277a64a67565965abbc2ad3a690aab39e23411a190bcc\n  Running setup.py bdist_wheel for pylibmc: started\n  Running setup.py bdist_wheel for pylibmc: finished with status 'error'\n  Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-s6w907py/pylibmc/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /tmp/tmp1ucx2pkepip-wheel- --python-tag cp35:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-3.5\n  creating build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/pools.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/__main__.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/client.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/consts.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/__init__.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/test.py -> build/lib.linux-x86_64-3.5/pylibmc\n  running build_ext\n  building '_pylibmc' extension\n  creating build/temp.linux-x86_64-3.5\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DUSE_ZLIB -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -c _pylibmcmodule.c -o build/temp.linux-x86_64-3.5/_pylibmcmodule.o -fno-strict-aliasing\n  In file included from _pylibmcmodule.c:34:0:\n  _pylibmcmodule.h:41:20: fatal error: Python.h: No such file or directory\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n  \n  ----------------------------------------\n  Running setup.py clean for pylibmc\n  Running setup.py bdist_wheel for MarkupSafe: started\n  Running setup.py bdist_wheel for MarkupSafe: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/05/75/56/2bcdb769e2b726fb858344489cab1808d517114467f22bb73d\n  Running setup.py bdist_wheel for anyjson: started\n  Running setup.py bdist_wheel for anyjson: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/06/3d/74/f64c3ce3266df2598031818ecc86bc25c8ccede0723973f119\nSuccessfully built Jinja2 postmarkup markdown xlrd mock MarkupSafe anyjson\nFailed to build psycopg2 pylibmc\nInstalling collected packages: Django, Jinja2, psycopg2, amqp, anyjson, kombu, postmarkup, markdown, xlrd, mock, pylibmc, MarkupSafe, jmespath, python-dateutil, docutils, botocore, s3transfer, boto3, TheTale\n  Found existing installation: Django 1.10.1\n    Uninstalling Django-1.10.1:\n      Successfully uninstalled Django-1.10.1\n  Found existing installation: Jinja2 2.8\n    Uninstalling Jinja2-2.8:\n      Successfully uninstalled Jinja2-2.8\n  Running setup.py install for psycopg2: started\n    Running setup.py install for psycopg2: finished with status 'error'\n    Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-s6w907py/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-dlb_nv9y-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/the-tale/current/venv/include/site/python3.5/psycopg2:\n    running install\n    running build\n    running build_py\n    creating build\n    creating build/lib.linux-x86_64-3.5\n    creating build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/errorcodes.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/psycopg1.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/tz.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/extras.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/extensions.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/pool.py -> build/lib.linux-x86_64-3.5/psycopg2\n    creating build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_green.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_module.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_extras_dictcursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_types_basic.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_dates.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_copy.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_quote.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_async.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_connection.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_notify.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_bugX000.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_psycopg2_dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/testconfig.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/testutils.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_bug_gc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_transaction.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_cursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_types_extras.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_cancel.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_lobject.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/dbapi20_tpc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    Skipping optional fixer: buffer\n    Skipping optional fixer: idioms\n    Skipping optional fixer: set_literal\n    Skipping optional fixer: ws_comma\n    running build_ext\n    building 'psycopg2._psycopg' extension\n    creating build/temp.linux-x86_64-3.5\n    creating build/temp.linux-x86_64-3.5/psycopg\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.4.5 (dt dec pq3 ext)\" -DPG_VERSION_HEX=0x090504 -DPSYCOPG_EXTENSIONS=1 -DPSYCOPG_NEW_BOOLEAN=1 -DHAVE_PQFREEMEM=1 -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -I. -I/usr/include/postgresql -I/usr/include/postgresql/9.5/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-3.5/psycopg/psycopgmodule.o\n    In file included from psycopg/psycopgmodule.c:27:0:\n    ./psycopg/psycopg.h:30:20: fatal error: Python.h: No such file or directory\n    compilation terminated.\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n    \n    ----------------------------------------\n\n:stderr:   Failed building wheel for psycopg2\n  Failed building wheel for pylibmc\nCommand \"/home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-s6w907py/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-dlb_nv9y-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/the-tale/current/venv/include/site/python3.5/psycopg2\" failed with error code 1 in /tmp/pip-build-s6w907py/psycopg2/\n"}
2016-09-25 23:16:17,753 p=18259 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 23:16:17,753 p=18259 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 23:16:17,753 p=18259 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:16:17,754 p=18259 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 23:17:34,869 p=19932 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:17:35,432 p=19932 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 23:17:35,432 p=19932 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 23:17:35,438 p=19932 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 23:17:35,456 p=19932 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 23:17:35,456 p=19932 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 23:17:36,483 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 23:17:36,494 p=19932 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 23:17:36,494 p=19932 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 23:17:37,725 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 23:17:37,740 p=19932 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 23:17:37,747 p=19932 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:17:38,773 p=19932 u=tie |  ok: [the_tale]
2016-09-25 23:17:38,785 p=19932 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 23:17:38,785 p=19932 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 23:17:39,637 p=19932 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "virtualenv", "python-pip"]}
2016-09-25 23:17:39,650 p=19932 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 23:17:39,786 p=19932 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:17:40,583 p=19932 u=tie |  ok: [the_tale]
2016-09-25 23:17:40,593 p=19932 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 23:17:40,593 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 23:17:40,763 p=19932 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 23:17:40,803 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:17:40,803 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 23:17:41,518 p=19932 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:17:41,528 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 23:17:41,528 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 23:17:42,256 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:17:42,266 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:17:42,269 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 23:17:42,924 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 23:17:42,933 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 23:17:42,934 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 23:17:43,701 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 23:17:43,709 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:17:43,710 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 23:17:44,568 p=19932 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 23:17:44,633 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:17:44,634 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 23:17:45,468 p=19932 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 23:17:45,488 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:17:45,488 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 23:17:45,577 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:45,585 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:17:45,586 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 23:17:45,641 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:45,650 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:17:45,650 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 23:17:45,723 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:45,732 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:17:45,732 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 23:17:45,911 p=19932 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:45,927 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:17:45,928 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 23:17:46,114 p=19932 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:46,130 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:17:46,130 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 23:17:46,191 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:46,200 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 23:17:46,200 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 23:17:46,281 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:46,289 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 23:17:46,289 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 23:17:46,365 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:46,374 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 23:17:46,374 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 23:17:47,080 p=19932 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:17:47,089 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 23:17:47,089 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 23:17:47,323 p=19932 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:47,342 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 23:17:47,343 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 23:17:47,408 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:47,416 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 23:17:47,416 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 23:17:47,737 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:17:47,745 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 23:17:47,745 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 23:17:48,115 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 23:17:48,125 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 23:17:48,125 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 23:17:48,186 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:48,194 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 23:17:48,195 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 23:17:48,253 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:48,261 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 23:17:48,261 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 23:17:48,332 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:48,340 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 23:17:48,341 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 23:17:48,401 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:48,409 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 23:17:48,410 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 23:17:48,470 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:48,479 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 23:17:48,480 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 23:17:48,822 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:17:48,830 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 23:17:48,830 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 23:17:49,434 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 23:17:49,443 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 23:17:49,443 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 23:17:50,107 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 23:17:50,115 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 23:17:50,116 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 23:17:50,190 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:50,199 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 23:17:50,199 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 23:17:50,524 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:17:50,533 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 23:17:50,533 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 23:17:50,613 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:50,621 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 23:17:50,621 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 23:17:50,696 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:50,703 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 23:17:50,703 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 23:17:51,041 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 23:17:51,050 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 23:17:51,050 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 23:17:51,117 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:51,126 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:17:51,126 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 23:17:51,604 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:17:51,613 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 23:17:51,613 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 23:17:52,318 p=19932 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 23:17:52,338 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:17:52,339 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 23:17:52,684 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:17:52,693 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 23:17:52,693 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 23:17:53,404 p=19932 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 23:17:53,423 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 23:17:53,423 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 23:17:53,487 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 23:17:53,487 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 23:17:54,252 p=19932 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.079199", "end": "2016-09-25 20:17:54.124336", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:17:54.045137", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:17:54,286 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 23:17:54,287 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 23:17:55,027 p=19932 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.079232", "end": "2016-09-25 20:17:54.897948", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:17:54.818716", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:17:55,058 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 23:17:55,058 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 23:17:55,243 p=19932 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:55,267 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 23:17:55,268 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 23:17:55,449 p=19932 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:55,462 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 23:17:55,463 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 23:17:55,657 p=19932 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:55,671 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 23:17:55,672 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 23:17:55,855 p=19932 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:55,879 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 23:17:55,879 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 23:17:56,069 p=19932 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:56,096 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 23:17:56,096 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 23:17:56,198 p=19932 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 23:17:56,198 p=19932 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 23:17:56,309 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:56,332 p=19932 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 23:17:56,378 p=19932 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:17:57,171 p=19932 u=tie |  ok: [the_tale]
2016-09-25 23:17:57,180 p=19932 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 23:17:57,180 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 23:17:57,242 p=19932 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:17:57,256 p=19932 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 23:17:57,256 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 23:17:57,310 p=19932 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 23:17:57,318 p=19932 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 23:17:57,318 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 23:17:57,383 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:57,396 p=19932 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:17:57,397 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 23:17:57,459 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:57,468 p=19932 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 23:17:57,468 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 23:17:57,541 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:57,548 p=19932 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 23:17:57,548 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 23:17:57,608 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:57,617 p=19932 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 23:17:57,617 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 23:17:58,258 p=19932 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:17:58,267 p=19932 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:17:58,267 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 23:17:58,927 p=19932 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:17:58,936 p=19932 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 23:17:58,936 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 23:17:59,017 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:59,029 p=19932 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:17:59,029 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 23:17:59,086 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:59,100 p=19932 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 23:17:59,100 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 23:17:59,160 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:17:59,167 p=19932 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 23:17:59,167 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 23:17:59,526 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 23:17:59,535 p=19932 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 23:17:59,535 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 23:17:59,839 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 23:17:59,847 p=19932 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 23:17:59,848 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 23:18:00,470 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 23:18:00,481 p=19932 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 23:18:00,481 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 23:18:00,540 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:18:00,548 p=19932 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 23:18:00,548 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 23:18:01,115 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 23:18:01,123 p=19932 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 23:18:01,123 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 23:18:01,481 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 23:18:01,494 p=19932 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 23:18:01,513 p=19932 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:18:02,295 p=19932 u=tie |  ok: [the_tale]
2016-09-25 23:18:02,305 p=19932 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 23:18:02,305 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 23:18:02,361 p=19932 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:18:02,373 p=19932 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 23:18:02,374 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 23:18:02,429 p=19932 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 23:18:02,438 p=19932 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:18:02,438 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 23:18:02,510 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:18:02,518 p=19932 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:18:02,519 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 23:18:03,156 p=19932 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:18:03,164 p=19932 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 23:18:03,164 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 23:18:03,731 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 23:18:03,739 p=19932 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 23:18:03,739 p=19932 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 23:18:04,074 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 23:18:04,088 p=19932 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 23:18:04,144 p=19932 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:18:04,957 p=19932 u=tie |  ok: [the_tale]
2016-09-25 23:18:04,967 p=19932 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 23:18:04,967 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 23:18:05,587 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:18:05,595 p=19932 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 23:18:05,595 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 23:18:06,102 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 23:18:06,111 p=19932 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 23:18:06,111 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 23:18:06,816 p=19932 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:18:06,825 p=19932 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 23:18:06,825 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 23:18:06,925 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:18:06,933 p=19932 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 23:18:06,933 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 23:18:07,023 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:18:07,030 p=19932 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 23:18:07,030 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 23:18:07,107 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:18:07,115 p=19932 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 23:18:07,116 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 23:18:07,214 p=19932 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:18:07,221 p=19932 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 23:18:07,221 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 23:18:07,582 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 23:18:07,591 p=19932 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 23:18:07,591 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 23:18:09,285 p=19932 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 23:18:09,316 p=19932 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 23:18:09,317 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 23:18:10,996 p=19932 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 23:18:11,008 p=19932 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 23:18:11,008 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 23:18:13,953 p=19932 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 23:18:13,975 p=19932 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 23:18:13,975 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 23:18:14,283 p=19932 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 23:18:14,290 p=19932 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 23:18:14,290 p=19932 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 23:18:14,384 p=19932 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 23:18:14,391 p=19932 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:18:15,193 p=19932 u=tie |  ok: [the_tale]
2016-09-25 23:18:15,205 p=19932 u=tie |  TASK [user] ********************************************************************
2016-09-25 23:18:15,205 p=19932 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:86
2016-09-25 23:18:15,691 p=19932 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 23:18:15,702 p=19932 u=tie |  TASK [pip] *********************************************************************
2016-09-25 23:18:15,703 p=19932 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 23:18:24,308 p=19932 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:18:39,447 p=19932 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:18:42,502 p=19932 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:18:47,458 p=19932 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:18:52,516 p=19932 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:18:55,282 p=19932 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:19:34,394 p=19932 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\nRequirement already satisfied (use --upgrade to upgrade): Django==1.9.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2==2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nCollecting psycopg2==2.6.2 (from TheTale==0.3.22.1)\n  Using cached psycopg2-2.6.2.tar.gz\nCollecting kombu==3.0.35 (from TheTale==0.3.22.1)\n  Using cached kombu-3.0.35-py2.py3-none-any.whl\nCollecting postmarkup==1.2.2 (from TheTale==0.3.22.1)\nCollecting markdown==2.2.0 (from TheTale==0.3.22.1)\nCollecting xlrd==0.8.0 (from TheTale==0.3.22.1)\nCollecting mock==1.0b1 (from TheTale==0.3.22.1)\nCollecting pylibmc==1.2.3 (from TheTale==0.3.22.1)\n  Using cached pylibmc-1.2.3.tar.gz\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\nCollecting boto3==1.4.0 (from TheTale==0.3.22.1)\n  Using cached boto3-1.4.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv==0.14.1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nCollecting amqp<2.0,>=1.4.9 (from kombu==3.0.35->TheTale==0.3.22.1)\n  Using cached amqp-1.4.9-py2.py3-none-any.whl\nCollecting anyjson>=0.3.3 (from kombu==3.0.35->TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): setuptools in /home/the-tale/current/venv/lib/python3.5/site-packages (from postmarkup==1.2.2->TheTale==0.3.22.1)\nCollecting jmespath<1.0.0,>=0.7.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached jmespath-0.9.0-py2.py3-none-any.whl\nCollecting s3transfer<0.2.0,>=0.1.0 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached s3transfer-0.1.4-py2.py3-none-any.whl\nCollecting botocore<1.5.0,>=1.4.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached botocore-1.4.56-py2.py3-none-any.whl\nCollecting docutils>=0.10 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached docutils-0.12-py3-none-any.whl\nCollecting python-dateutil<3.0.0,>=2.1 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached python_dateutil-2.5.3-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): six>=1.5 in /home/the-tale/current/venv/lib/python3.5/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\nBuilding wheels for collected packages: psycopg2, pylibmc\n  Running setup.py bdist_wheel for psycopg2: started\n  Running setup.py bdist_wheel for psycopg2: finished with status 'error'\n  Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-in62dpyb/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /tmp/tmppf32p481pip-wheel- --python-tag cp35:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-3.5\n  creating build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/errorcodes.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/psycopg1.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/tz.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/extras.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/_range.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/extensions.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/pool.py -> build/lib.linux-x86_64-3.5/psycopg2\n  copying lib/_json.py -> build/lib.linux-x86_64-3.5/psycopg2\n  creating build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_errcodes.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_green.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_module.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_extras_dictcursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_types_basic.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_dates.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_copy.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_quote.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_async.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_connection.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_notify.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_bugX000.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_psycopg2_dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/testconfig.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/testutils.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_bug_gc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_transaction.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_with.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_cursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_types_extras.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_cancel.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/test_lobject.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  copying tests/dbapi20_tpc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n  Skipping optional fixer: buffer\n  Skipping optional fixer: idioms\n  Skipping optional fixer: set_literal\n  Skipping optional fixer: ws_comma\n  running build_ext\n  building 'psycopg2._psycopg' extension\n  creating build/temp.linux-x86_64-3.5\n  creating build/temp.linux-x86_64-3.5/psycopg\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.6.2 (dt dec pq3 ext lo64)\" -DPG_VERSION_HEX=0x090504 -DHAVE_LO64=1 -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -I. -I/usr/include/postgresql -I/usr/include/postgresql/9.5/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-3.5/psycopg/psycopgmodule.o -Wdeclaration-after-statement\n  In file included from psycopg/psycopgmodule.c:27:0:\n  ./psycopg/psycopg.h:30:20: fatal error: Python.h: No such file or directory\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n  \n  ----------------------------------------\n  Running setup.py clean for psycopg2\n  Running setup.py bdist_wheel for pylibmc: started\n  Running setup.py bdist_wheel for pylibmc: finished with status 'error'\n  Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-in62dpyb/pylibmc/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /tmp/tmp5b30t1ripip-wheel- --python-tag cp35:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-3.5\n  creating build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/pools.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/__main__.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/client.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/consts.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/__init__.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/test.py -> build/lib.linux-x86_64-3.5/pylibmc\n  running build_ext\n  building '_pylibmc' extension\n  creating build/temp.linux-x86_64-3.5\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DUSE_ZLIB -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -c _pylibmcmodule.c -o build/temp.linux-x86_64-3.5/_pylibmcmodule.o -fno-strict-aliasing\n  In file included from _pylibmcmodule.c:34:0:\n  _pylibmcmodule.h:41:20: fatal error: Python.h: No such file or directory\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n  \n  ----------------------------------------\n  Running setup.py clean for pylibmc\nFailed to build psycopg2 pylibmc\nInstalling collected packages: psycopg2, amqp, anyjson, kombu, postmarkup, markdown, xlrd, mock, pylibmc, MarkupSafe, jmespath, docutils, python-dateutil, botocore, s3transfer, boto3, TheTale\n  Running setup.py install for psycopg2: started\n    Running setup.py install for psycopg2: finished with status 'error'\n    Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-in62dpyb/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-gxjfadvu-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/the-tale/current/venv/include/site/python3.5/psycopg2:\n    running install\n    running build\n    running build_py\n    creating build\n    creating build/lib.linux-x86_64-3.5\n    creating build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/errorcodes.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/psycopg1.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/tz.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/extras.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/_range.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/extensions.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/pool.py -> build/lib.linux-x86_64-3.5/psycopg2\n    copying lib/_json.py -> build/lib.linux-x86_64-3.5/psycopg2\n    creating build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_errcodes.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_green.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_module.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_extras_dictcursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_types_basic.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_dates.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_copy.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_quote.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_async.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_connection.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_notify.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_bugX000.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_psycopg2_dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/testconfig.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/testutils.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_bug_gc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_transaction.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_with.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_cursor.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_types_extras.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_cancel.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/__init__.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/test_lobject.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/dbapi20.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    copying tests/dbapi20_tpc.py -> build/lib.linux-x86_64-3.5/psycopg2/tests\n    Skipping optional fixer: buffer\n    Skipping optional fixer: idioms\n    Skipping optional fixer: set_literal\n    Skipping optional fixer: ws_comma\n    running build_ext\n    building 'psycopg2._psycopg' extension\n    creating build/temp.linux-x86_64-3.5\n    creating build/temp.linux-x86_64-3.5/psycopg\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.6.2 (dt dec pq3 ext lo64)\" -DPG_VERSION_HEX=0x090504 -DHAVE_LO64=1 -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -I. -I/usr/include/postgresql -I/usr/include/postgresql/9.5/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-3.5/psycopg/psycopgmodule.o -Wdeclaration-after-statement\n    In file included from psycopg/psycopgmodule.c:27:0:\n    ./psycopg/psycopg.h:30:20: fatal error: Python.h: No such file or directory\n    compilation terminated.\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n    \n    ----------------------------------------\n\n:stderr:   Failed building wheel for psycopg2\n  Failed building wheel for pylibmc\nCommand \"/home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-in62dpyb/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-gxjfadvu-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/the-tale/current/venv/include/site/python3.5/psycopg2\" failed with error code 1 in /tmp/pip-build-in62dpyb/psycopg2/\n"}
2016-09-25 23:19:34,400 p=19932 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 23:19:34,401 p=19932 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 23:19:34,401 p=19932 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:19:34,401 p=19932 u=tie |  the_tale                   : ok=53   changed=0    unreachable=0    failed=1   
2016-09-25 23:21:29,375 p=21545 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:21:29,936 p=21545 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 23:21:29,937 p=21545 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 23:21:29,942 p=21545 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 23:21:29,960 p=21545 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 23:21:29,960 p=21545 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 23:21:30,871 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 23:21:30,878 p=21545 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 23:21:30,879 p=21545 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 23:21:31,820 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 23:21:31,833 p=21545 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 23:21:31,840 p=21545 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:21:32,955 p=21545 u=tie |  ok: [the_tale]
2016-09-25 23:21:32,963 p=21545 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 23:21:32,964 p=21545 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 23:24:24,688 p=21545 u=tie |  changed: [the_tale] => (item=[u'python-dev', u'python3-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": true, "diff": {}, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "python3-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "python3-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "python3-dev", "virtualenv", "python-pip"], "stderr": "", "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  libpython3-dev libpython3.5-dev python3.5-dev\nThe following NEW packages will be installed:\n  libpython3-dev libpython3.5-dev python3-dev python3.5-dev\n0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 37.7 MB of archives.\nAfter this operation, 54.0 MB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libpython3.5-dev amd64 3.5.2-2~16.04 [37.3 MB]\nGet:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libpython3-dev amd64 3.5.1-3 [6926 B]\nGet:3 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 python3.5-dev amd64 3.5.2-2~16.04 [413 kB]\nGet:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 python3-dev amd64 3.5.1-3 [1186 B]\nFetched 37.7 MB in 2min 44s (229 kB/s)\nSelecting previously unselected package libpython3.5-dev:amd64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 65836 files and directories currently installed.)\r\nPreparing to unpack .../libpython3.5-dev_3.5.2-2~16.04_amd64.deb ...\r\nUnpacking libpython3.5-dev:amd64 (3.5.2-2~16.04) ...\r\nSelecting previously unselected package libpython3-dev:amd64.\r\nPreparing to unpack .../libpython3-dev_3.5.1-3_amd64.deb ...\r\nUnpacking libpython3-dev:amd64 (3.5.1-3) ...\r\nSelecting previously unselected package python3.5-dev.\r\nPreparing to unpack .../python3.5-dev_3.5.2-2~16.04_amd64.deb ...\r\nUnpacking python3.5-dev (3.5.2-2~16.04) ...\r\nSelecting previously unselected package python3-dev.\r\nPreparing to unpack .../python3-dev_3.5.1-3_amd64.deb ...\r\nUnpacking python3-dev (3.5.1-3) ...\r\nProcessing triggers for man-db (2.7.5-1) ...\r\nSetting up libpython3.5-dev:amd64 (3.5.2-2~16.04) ...\r\nSetting up libpython3-dev:amd64 (3.5.1-3) ...\r\nSetting up python3.5-dev (3.5.2-2~16.04) ...\r\nSetting up python3-dev (3.5.1-3) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  libpython3-dev libpython3.5-dev python3.5-dev", "The following NEW packages will be installed:", "  libpython3-dev libpython3.5-dev python3-dev python3.5-dev", "0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.", "Need to get 37.7 MB of archives.", "After this operation, 54.0 MB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 libpython3.5-dev amd64 3.5.2-2~16.04 [37.3 MB]", "Get:2 http://archive.ubuntu.com/ubuntu xenial/main amd64 libpython3-dev amd64 3.5.1-3 [6926 B]", "Get:3 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 python3.5-dev amd64 3.5.2-2~16.04 [413 kB]", "Get:4 http://archive.ubuntu.com/ubuntu xenial/main amd64 python3-dev amd64 3.5.1-3 [1186 B]", "Fetched 37.7 MB in 2min 44s (229 kB/s)", "Selecting previously unselected package libpython3.5-dev:amd64.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 65836 files and directories currently installed.)", "Preparing to unpack .../libpython3.5-dev_3.5.2-2~16.04_amd64.deb ...", "Unpacking libpython3.5-dev:amd64 (3.5.2-2~16.04) ...", "Selecting previously unselected package libpython3-dev:amd64.", "Preparing to unpack .../libpython3-dev_3.5.1-3_amd64.deb ...", "Unpacking libpython3-dev:amd64 (3.5.1-3) ...", "Selecting previously unselected package python3.5-dev.", "Preparing to unpack .../python3.5-dev_3.5.2-2~16.04_amd64.deb ...", "Unpacking python3.5-dev (3.5.2-2~16.04) ...", "Selecting previously unselected package python3-dev.", "Preparing to unpack .../python3-dev_3.5.1-3_amd64.deb ...", "Unpacking python3-dev (3.5.1-3) ...", "Processing triggers for man-db (2.7.5-1) ...", "Setting up libpython3.5-dev:amd64 (3.5.2-2~16.04) ...", "Setting up libpython3-dev:amd64 (3.5.1-3) ...", "Setting up python3.5-dev (3.5.2-2~16.04) ...", "Setting up python3-dev (3.5.1-3) ..."]}
2016-09-25 23:24:24,705 p=21545 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 23:24:24,836 p=21545 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:24:25,733 p=21545 u=tie |  ok: [the_tale]
2016-09-25 23:24:25,742 p=21545 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 23:24:25,742 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 23:24:25,917 p=21545 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 23:24:25,949 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:24:25,949 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 23:24:26,606 p=21545 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:24:26,614 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 23:24:26,614 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 23:24:27,316 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:24:27,325 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:24:27,325 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 23:24:27,913 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 23:24:27,921 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 23:24:27,921 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 23:24:28,662 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 23:24:28,671 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:24:28,672 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 23:24:29,531 p=21545 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 23:24:29,578 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:24:29,579 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 23:24:30,422 p=21545 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 23:24:30,435 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:24:30,435 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 23:24:30,529 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:30,541 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:24:30,541 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 23:24:30,616 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:30,625 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:24:30,625 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 23:24:30,709 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:30,716 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:24:30,717 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 23:24:30,915 p=21545 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:30,927 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:24:30,927 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 23:24:31,120 p=21545 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:31,140 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:24:31,140 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 23:24:31,213 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:31,221 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 23:24:31,222 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 23:24:31,311 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:31,319 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 23:24:31,319 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 23:24:31,404 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:31,412 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 23:24:31,412 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 23:24:32,119 p=21545 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:24:32,131 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 23:24:32,131 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 23:24:32,394 p=21545 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:32,415 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 23:24:32,416 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 23:24:32,490 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:32,499 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 23:24:32,499 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 23:24:32,878 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:24:32,886 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 23:24:32,887 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 23:24:33,287 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 23:24:33,295 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 23:24:33,295 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 23:24:33,373 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:33,381 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 23:24:33,381 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 23:24:33,469 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:33,481 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 23:24:33,481 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 23:24:33,558 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:33,566 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 23:24:33,567 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 23:24:33,642 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:33,649 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 23:24:33,649 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 23:24:33,733 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:33,740 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 23:24:33,740 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 23:24:34,061 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:24:34,069 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 23:24:34,070 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 23:24:34,680 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 23:24:34,687 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 23:24:34,688 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 23:24:35,332 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 23:24:35,339 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 23:24:35,339 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 23:24:35,409 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:35,417 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 23:24:35,417 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 23:24:35,738 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:24:35,746 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 23:24:35,746 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 23:24:35,819 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:35,827 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 23:24:35,828 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 23:24:35,913 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:35,921 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 23:24:35,921 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 23:24:36,232 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 23:24:36,241 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 23:24:36,241 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 23:24:36,305 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:36,313 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:24:36,314 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 23:24:36,785 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:24:36,794 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 23:24:36,794 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 23:24:37,532 p=21545 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 23:24:37,545 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:24:37,546 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 23:24:37,914 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:24:37,923 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 23:24:37,923 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 23:24:38,717 p=21545 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 23:24:38,733 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 23:24:38,733 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 23:24:38,823 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 23:24:38,823 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 23:24:39,587 p=21545 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.079847", "end": "2016-09-25 20:24:39.462368", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:24:39.382521", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:24:39,616 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 23:24:39,616 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 23:24:40,338 p=21545 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.089899", "end": "2016-09-25 20:24:40.179465", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:24:40.089566", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:24:40,374 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 23:24:40,374 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 23:24:40,553 p=21545 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:40,571 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 23:24:40,571 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 23:24:40,765 p=21545 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:40,783 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 23:24:40,783 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 23:24:40,981 p=21545 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:40,993 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 23:24:40,993 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 23:24:41,188 p=21545 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:41,207 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 23:24:41,207 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 23:24:41,402 p=21545 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:41,429 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 23:24:41,429 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 23:24:41,541 p=21545 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 23:24:41,541 p=21545 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 23:24:41,663 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:41,678 p=21545 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 23:24:41,724 p=21545 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:24:42,577 p=21545 u=tie |  ok: [the_tale]
2016-09-25 23:24:42,586 p=21545 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 23:24:42,586 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 23:24:42,648 p=21545 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:24:42,655 p=21545 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 23:24:42,655 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 23:24:42,709 p=21545 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 23:24:42,717 p=21545 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 23:24:42,717 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 23:24:42,793 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:42,800 p=21545 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:24:42,800 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 23:24:42,867 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:42,875 p=21545 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 23:24:42,875 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 23:24:42,927 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:42,935 p=21545 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 23:24:42,935 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 23:24:43,006 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:43,013 p=21545 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 23:24:43,013 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 23:24:43,644 p=21545 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:24:43,653 p=21545 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:24:43,653 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 23:24:44,350 p=21545 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:24:44,359 p=21545 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 23:24:44,359 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 23:24:44,413 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:44,421 p=21545 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:24:44,421 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 23:24:44,474 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:44,482 p=21545 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 23:24:44,482 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 23:24:44,546 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:44,554 p=21545 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 23:24:44,554 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 23:24:44,849 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 23:24:44,857 p=21545 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 23:24:44,857 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 23:24:45,151 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 23:24:45,159 p=21545 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 23:24:45,159 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 23:24:45,757 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 23:24:45,765 p=21545 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 23:24:45,765 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 23:24:45,818 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:45,825 p=21545 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 23:24:45,826 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 23:24:46,370 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 23:24:46,379 p=21545 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 23:24:46,379 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 23:24:46,693 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 23:24:46,709 p=21545 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 23:24:46,729 p=21545 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:24:47,539 p=21545 u=tie |  ok: [the_tale]
2016-09-25 23:24:47,550 p=21545 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 23:24:47,550 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 23:24:47,610 p=21545 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:24:47,618 p=21545 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 23:24:47,618 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 23:24:47,666 p=21545 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 23:24:47,677 p=21545 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:24:47,677 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 23:24:47,730 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:47,738 p=21545 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:24:47,739 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 23:24:48,368 p=21545 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:24:48,376 p=21545 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 23:24:48,376 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 23:24:48,893 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 23:24:48,901 p=21545 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 23:24:48,902 p=21545 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 23:24:49,237 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 23:24:49,256 p=21545 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 23:24:49,313 p=21545 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:24:50,098 p=21545 u=tie |  ok: [the_tale]
2016-09-25 23:24:50,109 p=21545 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 23:24:50,109 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 23:24:50,679 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:24:50,686 p=21545 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 23:24:50,687 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 23:24:51,141 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 23:24:51,149 p=21545 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 23:24:51,150 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 23:24:51,854 p=21545 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:24:51,862 p=21545 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 23:24:51,862 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 23:24:51,951 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:51,959 p=21545 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 23:24:51,959 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 23:24:52,047 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:52,054 p=21545 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 23:24:52,054 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 23:24:52,130 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:52,139 p=21545 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 23:24:52,140 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 23:24:52,226 p=21545 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:24:52,233 p=21545 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 23:24:52,233 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 23:24:52,566 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 23:24:52,575 p=21545 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 23:24:52,575 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 23:24:54,297 p=21545 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 23:24:54,331 p=21545 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 23:24:54,331 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 23:24:55,992 p=21545 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 23:24:56,009 p=21545 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 23:24:56,009 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 23:24:58,972 p=21545 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 23:24:58,984 p=21545 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 23:24:58,984 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 23:24:59,303 p=21545 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 23:24:59,311 p=21545 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 23:24:59,312 p=21545 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 23:24:59,379 p=21545 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 23:24:59,387 p=21545 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:25:00,216 p=21545 u=tie |  ok: [the_tale]
2016-09-25 23:25:00,224 p=21545 u=tie |  TASK [user] ********************************************************************
2016-09-25 23:25:00,224 p=21545 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 23:25:00,679 p=21545 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 23:25:00,687 p=21545 u=tie |  TASK [pip] *********************************************************************
2016-09-25 23:25:00,687 p=21545 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:88
2016-09-25 23:25:09,668 p=21545 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:25:24,400 p=21545 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:25:27,119 p=21545 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:25:32,455 p=21545 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:25:37,472 p=21545 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:25:40,157 p=21545 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:26:16,764 p=21545 u=tie |  failed: [the_tale] (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "failed": true, "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "msg": "stdout: Processing /mnt/repos/the-tale/src/the_tale\nRequirement already satisfied (use --upgrade to upgrade): Django==1.9.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2==2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nCollecting psycopg2==2.6.2 (from TheTale==0.3.22.1)\n  Using cached psycopg2-2.6.2.tar.gz\nCollecting kombu==3.0.35 (from TheTale==0.3.22.1)\n  Using cached kombu-3.0.35-py2.py3-none-any.whl\nCollecting postmarkup==1.2.2 (from TheTale==0.3.22.1)\nCollecting markdown==2.2.0 (from TheTale==0.3.22.1)\nCollecting xlrd==0.8.0 (from TheTale==0.3.22.1)\nCollecting mock==1.0b1 (from TheTale==0.3.22.1)\nCollecting pylibmc==1.2.3 (from TheTale==0.3.22.1)\n  Using cached pylibmc-1.2.3.tar.gz\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\nCollecting boto3==1.4.0 (from TheTale==0.3.22.1)\n  Using cached boto3-1.4.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv==0.14.1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nCollecting anyjson>=0.3.3 (from kombu==3.0.35->TheTale==0.3.22.1)\nCollecting amqp<2.0,>=1.4.9 (from kombu==3.0.35->TheTale==0.3.22.1)\n  Using cached amqp-1.4.9-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): setuptools in /home/the-tale/current/venv/lib/python3.5/site-packages (from postmarkup==1.2.2->TheTale==0.3.22.1)\nCollecting s3transfer<0.2.0,>=0.1.0 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached s3transfer-0.1.4-py2.py3-none-any.whl\nCollecting botocore<1.5.0,>=1.4.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached botocore-1.4.56-py2.py3-none-any.whl\nCollecting jmespath<1.0.0,>=0.7.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached jmespath-0.9.0-py2.py3-none-any.whl\nCollecting docutils>=0.10 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached docutils-0.12-py3-none-any.whl\nCollecting python-dateutil<3.0.0,>=2.1 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached python_dateutil-2.5.3-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): six>=1.5 in /home/the-tale/current/venv/lib/python3.5/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\nBuilding wheels for collected packages: psycopg2, pylibmc\n  Running setup.py bdist_wheel for psycopg2: started\n  Running setup.py bdist_wheel for psycopg2: finished with status 'done'\n  Stored in directory: /root/.cache/pip/wheels/49/47/2a/5c3f874990ce267228c2dfe7a0589f3b0651aa590e329ad382\n  Running setup.py bdist_wheel for pylibmc: started\n  Running setup.py bdist_wheel for pylibmc: finished with status 'error'\n  Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-mpknf8ge/pylibmc/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /tmp/tmpoz2d0z3lpip-wheel- --python-tag cp35:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-3.5\n  creating build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/pools.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/__main__.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/client.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/consts.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/__init__.py -> build/lib.linux-x86_64-3.5/pylibmc\n  copying pylibmc/test.py -> build/lib.linux-x86_64-3.5/pylibmc\n  running build_ext\n  building '_pylibmc' extension\n  creating build/temp.linux-x86_64-3.5\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DUSE_ZLIB -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -c _pylibmcmodule.c -o build/temp.linux-x86_64-3.5/_pylibmcmodule.o -fno-strict-aliasing\n  In file included from _pylibmcmodule.c:34:0:\n  _pylibmcmodule.h:42:36: fatal error: libmemcached/memcached.h: No such file or directory\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n  \n  ----------------------------------------\n  Running setup.py clean for pylibmc\nSuccessfully built psycopg2\nFailed to build pylibmc\nInstalling collected packages: psycopg2, anyjson, amqp, kombu, postmarkup, markdown, xlrd, mock, pylibmc, MarkupSafe, docutils, python-dateutil, jmespath, botocore, s3transfer, boto3, TheTale\n  Running setup.py install for pylibmc: started\n    Running setup.py install for pylibmc: finished with status 'error'\n    Complete output from command /home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-mpknf8ge/pylibmc/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-ribawh_o-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/the-tale/current/venv/include/site/python3.5/pylibmc:\n    running install\n    running build\n    running build_py\n    creating build\n    creating build/lib.linux-x86_64-3.5\n    creating build/lib.linux-x86_64-3.5/pylibmc\n    copying pylibmc/pools.py -> build/lib.linux-x86_64-3.5/pylibmc\n    copying pylibmc/__main__.py -> build/lib.linux-x86_64-3.5/pylibmc\n    copying pylibmc/client.py -> build/lib.linux-x86_64-3.5/pylibmc\n    copying pylibmc/consts.py -> build/lib.linux-x86_64-3.5/pylibmc\n    copying pylibmc/__init__.py -> build/lib.linux-x86_64-3.5/pylibmc\n    copying pylibmc/test.py -> build/lib.linux-x86_64-3.5/pylibmc\n    running build_ext\n    building '_pylibmc' extension\n    creating build/temp.linux-x86_64-3.5\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DUSE_ZLIB -I/usr/include/python3.5m -I/home/the-tale/current/venv/include/python3.5m -c _pylibmcmodule.c -o build/temp.linux-x86_64-3.5/_pylibmcmodule.o -fno-strict-aliasing\n    In file included from _pylibmcmodule.c:34:0:\n    _pylibmcmodule.h:42:36: fatal error: libmemcached/memcached.h: No such file or directory\n    compilation terminated.\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n    \n    ----------------------------------------\n\n:stderr:   Failed building wheel for pylibmc\nCommand \"/home/the-tale/current/venv/bin/python3.5 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-mpknf8ge/pylibmc/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-ribawh_o-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/the-tale/current/venv/include/site/python3.5/pylibmc\" failed with error code 1 in /tmp/pip-build-mpknf8ge/pylibmc/\n"}
2016-09-25 23:26:16,771 p=21545 u=tie |  NO MORE HOSTS LEFT *************************************************************
2016-09-25 23:26:16,772 p=21545 u=tie |  	to retry, use: --limit @provisioning/game_server.retry

2016-09-25 23:26:16,772 p=21545 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:26:16,773 p=21545 u=tie |  the_tale                   : ok=53   changed=1    unreachable=0    failed=1   
2016-09-25 23:28:04,583 p=23363 u=tie |  Using /home/tie/repos/mine/the-tale/deploy/official/ansible.cfg as config file
2016-09-25 23:28:05,176 p=23363 u=tie |  PLAYBOOK: game_server.yml ******************************************************
2016-09-25 23:28:05,176 p=23363 u=tie |  7 plays in provisioning/game_server.yml
2016-09-25 23:28:05,181 p=23363 u=tie |  PLAY [bootstrap ansible] *******************************************************
2016-09-25 23:28:05,200 p=23363 u=tie |  TASK [setup absolutly needed system packages] **********************************
2016-09-25 23:28:05,200 p=23363 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:7
2016-09-25 23:28:06,096 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo apt-get install -qq python-all aptitude python-apt"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "", "stdout_lines": []}
2016-09-25 23:28:06,106 p=23363 u=tie |  TASK [upgrade pip to latest version] *******************************************
2016-09-25 23:28:06,106 p=23363 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:9
2016-09-25 23:28:07,386 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"_raw_params": "sudo pip install --upgrade pip"}, "module_name": "raw"}, "rc": 0, "stderr": "", "stdout": "Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages\r\n", "stdout_lines": ["Requirement already up-to-date: pip in /usr/local/lib/python2.7/dist-packages"]}
2016-09-25 23:28:07,399 p=23363 u=tie |  PLAY [configure host] **********************************************************
2016-09-25 23:28:07,407 p=23363 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:28:08,438 p=23363 u=tie |  ok: [the_tale]
2016-09-25 23:28:08,449 p=23363 u=tie |  TASK [setup basic packages] ****************************************************
2016-09-25 23:28:08,450 p=23363 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:19
2016-09-25 23:28:09,214 p=23363 u=tie |  ok: [the_tale] => (item=[u'python-dev', u'python3-dev', u'virtualenv', u'python-pip']) => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-dev", "python3-dev", "virtualenv", "python-pip"], "only_upgrade": false, "package": ["python-dev", "python3-dev", "virtualenv", "python-pip"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}, "item": ["python-dev", "python3-dev", "virtualenv", "python-pip"]}
2016-09-25 23:28:09,230 p=23363 u=tie |  PLAY [configure database] ******************************************************
2016-09-25 23:28:09,363 p=23363 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:28:10,146 p=23363 u=tie |  ok: [the_tale]
2016-09-25 23:28:10,155 p=23363 u=tie |  TASK [ANXS.postgresql : include_vars] ******************************************
2016-09-25 23:28:10,156 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/main.yml:3
2016-09-25 23:28:10,334 p=23363 u=tie |  ok: [the_tale] => (item=/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml) => {"ansible_facts": {"postgresql_bin_directory": "/usr/bin", "postgresql_service_name": "postgresql"}, "invocation": {"module_args": {"_raw_params": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}, "module_name": "include_vars"}, "item": "/etc/ansible/roles/ANXS.postgresql/templates/../vars/Debian.yml"}
2016-09-25 23:28:10,354 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:28:10,354 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:5
2016-09-25 23:28:11,021 p=23363 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["ca-certificates"], "pkg": "ca-certificates", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:28:11,029 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository apt-key] ********
2016-09-25 23:28:11,030 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:10
2016-09-25 23:28:11,731 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "ACCC4CF8", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.postgresql.org/media/keys/ACCC4CF8.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:28:11,740 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:28:11,740 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:17
2016-09-25 23:28:12,308 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main 9.5", "state": "present"}
2016-09-25 23:28:12,318 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository preferences] ****
2016-09-25 23:28:12,318 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:23
2016-09-25 23:28:13,053 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}, "before": {"path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": null, "original_basename": "etc_apt_preferences.d_apt_postgresql_org_pub_repos_apt.pref.j2", "owner": null, "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/apt/preferences.d/apt_postgresql_org_pub_repos_apt.pref", "size": 241, "state": "file", "uid": 0}
2016-09-25 23:28:13,062 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:28:13,062 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:29
2016-09-25 23:28:13,932 p=23363 u=tie |  ok: [the_tale] => (item=[u'python-psycopg2', u'python-pycurl', u'locales']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["python-psycopg2", "python-pycurl", "locales"], "only_upgrade": false, "package": ["python-psycopg2", "python-pycurl", "locales"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["python-psycopg2", "python-pycurl", "locales"]}
2016-09-25 23:28:13,983 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:28:13,983 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:37
2016-09-25 23:28:14,807 p=23363 u=tie |  ok: [the_tale] => (item=[u'postgresql-9.5', u'postgresql-client-9.5', u'postgresql-contrib-9.5']) => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "only_upgrade": false, "package": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}, "item": ["postgresql-9.5", "postgresql-client-9.5", "postgresql-contrib-9.5"]}
2016-09-25 23:28:14,825 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:28:14,825 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install.yml:49
2016-09-25 23:28:14,914 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:14,923 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the CA certificates are available] ***
2016-09-25 23:28:14,923 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:5
2016-09-25 23:28:14,990 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:14,998 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add PostgreSQL repository] ****************
2016-09-25 23:28:14,998 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:10
2016-09-25 23:28:15,074 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:15,081 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the dependencies are installed] *
2016-09-25 23:28:15,082 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:15
2016-09-25 23:28:15,269 p=23363 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:15,285 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Install PostgreSQL] ***********************
2016-09-25 23:28:15,285 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:22
2016-09-25 23:28:15,471 p=23363 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:15,494 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | PGTune] ***********************************
2016-09-25 23:28:15,494 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/install_yum.yml:31
2016-09-25 23:28:15,570 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:15,579 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | Debian] ***
2016-09-25 23:28:15,580 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:3
2016-09-25 23:28:15,654 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:15,663 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgres contrib extensions are installed | RedHat] ***
2016-09-25 23:28:15,663 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/contrib.yml:13
2016-09-25 23:28:15,736 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:15,745 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the development headers are installed] ***
2016-09-25 23:28:15,745 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/dev_headers.yml:3
2016-09-25 23:28:16,493 p=23363 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 3600, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "libpq-dev", "only_upgrade": false, "package": ["libpq-dev"], "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:28:16,502 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Extensions | Make sure the postgis extensions are installed] ***
2016-09-25 23:28:16,502 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/extensions/postgis.yml:3
2016-09-25 23:28:16,723 p=23363 u=tie |  skipping: [the_tale] => (item=[])  => {"changed": false, "item": [], "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:16,757 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Drop the data directory | RedHat] *********
2016-09-25 23:28:16,757 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:3
2016-09-25 23:28:16,841 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:16,849 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the postgres data directory exists] ***
2016-09-25 23:28:16,849 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:10
2016-09-25 23:28:17,173 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/lib/postgresql/9.5/main"}, "before": {"path": "/var/lib/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 448, "original_basename": null, "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0700", "owner": "postgres", "path": "/var/lib/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:28:17,181 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | Debian] **
2016-09-25 23:28:17,181 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:19
2016-09-25 23:28:17,578 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"name": "en_GB.UTF-8", "state": "present"}, "module_name": "locale_gen"}, "msg": "OK", "name": "en_GB.UTF-8"}
2016-09-25 23:28:17,587 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the locale is generated | RedHat] **
2016-09-25 23:28:17,587 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:24
2016-09-25 23:28:17,665 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:17,673 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - drop the existing one | Debian] ***
2016-09-25 23:28:17,673 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:32
2016-09-25 23:28:17,751 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:17,760 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Reset the cluster - create a new one (with specified encoding and locale) | Debian] ***
2016-09-25 23:28:17,760 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:38
2016-09-25 23:28:17,836 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:17,845 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Check whether the postgres data directory is initialized] ***
2016-09-25 23:28:17,845 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:47
2016-09-25 23:28:17,927 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:17,936 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Initialize the database | RedHat] *********
2016-09-25 23:28:17,936 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:53
2016-09-25 23:28:18,001 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:18,010 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure configuration directory exists] ****
2016-09-25 23:28:18,010 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:64
2016-09-25 23:28:18,327 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main"}, "before": {"path": "/etc/postgresql/9.5/main"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 488, "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0750", "owner": "postgres", "path": "/etc/postgresql/9.5/main", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:28:18,336 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 1 (pg_hba.conf)] ***
2016-09-25 23:28:18,336 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:72
2016-09-25 23:28:18,920 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}, "before": {"path": "/etc/postgresql/9.5/main/pg_hba.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/pg_hba.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "pg_hba.conf.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/pg_hba.conf", "size": 1047, "state": "file", "uid": 112}
2016-09-25 23:28:18,929 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 2 (postgresql.conf)] ***
2016-09-25 23:28:18,929 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:81
2016-09-25 23:28:19,590 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}, "before": {"path": "/etc/postgresql/9.5/main/postgresql.conf"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/postgresql/9.5/main/postgresql.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "postgres", "mode": 416, "original_basename": "postgresql.conf-9.5.j2", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0640", "owner": "postgres", "path": "/etc/postgresql/9.5/main/postgresql.conf", "size": 21229, "state": "file", "uid": 112}
2016-09-25 23:28:19,598 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update configuration - pt. 3 (pgtune)] ****
2016-09-25 23:28:19,598 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:91
2016-09-25 23:28:19,679 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:19,687 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Create folder for additional configuration files] ***
2016-09-25 23:28:19,687 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:121
2016-09-25 23:28:19,997 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/postgresql/9.5/main/conf.d"}, "before": {"path": "/etc/postgresql/9.5/main/conf.d"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": 493, "name": "/etc/postgresql/9.5/main/conf.d", "original_basename": null, "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "postgres", "path": "/etc/postgresql/9.5/main/conf.d", "size": 4096, "state": "directory", "uid": 112}
2016-09-25 23:28:20,011 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the systemd directory for PostgreSQL exists | RedHat] ***
2016-09-25 23:28:20,012 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:129
2016-09-25 23:28:20,093 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:20,102 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Use the conf directory when starting the Postgres service | RedHat] ***
2016-09-25 23:28:20,102 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:136
2016-09-25 23:28:20,174 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:20,182 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure the pid directory for PostgreSQL exists] ***
2016-09-25 23:28:20,182 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:143
2016-09-25 23:28:20,503 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/var/run/postgresql"}, "before": {"path": "/var/run/postgresql"}}, "gid": 118, "group": "postgres", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": "postgres", "mode": "u=rwX,g=rwXs,o=rx", "name": "/var/run/postgresql", "original_basename": null, "owner": "postgres", "path": "/var/run/postgresql", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "02775", "owner": "postgres", "path": "/var/run/postgresql", "size": 120, "state": "directory", "uid": 112}
2016-09-25 23:28:20,512 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Restart PostgreSQL] ***********************
2016-09-25 23:28:20,512 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/configure.yml:151
2016-09-25 23:28:20,593 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:20,600 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:28:20,600 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:3
2016-09-25 23:28:21,054 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:28:21,062 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL users are present] ***
2016-09-25 23:28:21,062 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users.yml:8
2016-09-25 23:28:21,818 p=23363 u=tie |  ok: [the_tale] => (item={u'encrypted': False, u'name': u'the-tale', u'pass': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"db": "", "encrypted": false, "expires": null, "fail_on_user": true, "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "no_password_changes": false, "password": "the-tale", "port": "5432", "priv": null, "role_attr_flags": "", "state": "present", "user": "the-tale"}, "module_name": "postgresql_user"}, "item": {"encrypted": false, "name": "the-tale", "pass": "the-tale"}, "user": "the-tale"}
2016-09-25 23:28:21,831 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Ensure PostgreSQL is running] *************
2016-09-25 23:28:21,832 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:3
2016-09-25 23:28:22,213 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "postgresql", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "postgresql", "state": "started"}
2016-09-25 23:28:22,221 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Make sure the PostgreSQL databases are present] ***
2016-09-25 23:28:22,221 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:8
2016-09-25 23:28:22,971 p=23363 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "db": "the-tale", "invocation": {"module_args": {"db": "the-tale", "encoding": "UTF-8", "lc_collate": "en_GB.UTF-8", "lc_ctype": "en_GB.UTF-8", "login_host": "", "login_password": "", "login_unix_socket": "", "login_user": "postgres", "name": "the-tale", "owner": "postgres", "port": "5432", "state": "present", "template": "template0"}, "module_name": "postgresql_db"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}}
2016-09-25 23:28:22,983 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add extensions to the databases] **********
2016-09-25 23:28:22,984 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:24
2016-09-25 23:28:23,067 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add hstore to the databases with the requirement] ***
2016-09-25 23:28:23,067 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:34
2016-09-25 23:28:23,932 p=23363 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "delta": "0:00:00.075886", "end": "2016-09-25 20:28:23.775072", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS hstore;'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:28:23.699186", "stderr": "NOTICE:  extension \"hstore\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:28:23,950 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add uuid-ossp to the database with the requirement] ***
2016-09-25 23:28:23,950 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:44
2016-09-25 23:28:24,666 p=23363 u=tie |  ok: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True}) => {"changed": false, "cmd": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "delta": "0:00:00.084856", "end": "2016-09-25 20:28:24.543826", "failed": false, "failed_when_result": false, "invocation": {"module_args": {"_raw_params": "/usr/bin/psql the-tale --username postgres -c 'CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";'", "_uses_shell": true, "chdir": null, "creates": null, "executable": null, "removes": null, "warn": true}, "module_name": "command"}, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "rc": 0, "start": "2016-09-25 20:28:24.458970", "stderr": "NOTICE:  extension \"uuid-ossp\" already exists, skipping", "stdout": "CREATE EXTENSION", "stdout_lines": ["CREATE EXTENSION"], "warnings": []}
2016-09-25 23:28:24,697 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add postgis to the databases with the requirement] ***
2016-09-25 23:28:24,697 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:54
2016-09-25 23:28:24,890 p=23363 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:24,903 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add cube to the database with the requirement] ***
2016-09-25 23:28:24,904 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:61
2016-09-25 23:28:25,105 p=23363 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:25,117 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add plpgsql to the database with the requirement] ***
2016-09-25 23:28:25,117 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:68
2016-09-25 23:28:25,300 p=23363 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:25,325 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | add earthdistance to the database with the requirement] ***
2016-09-25 23:28:25,325 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:75
2016-09-25 23:28:25,526 p=23363 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:25,538 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Add citext to the database with the requirement] ***
2016-09-25 23:28:25,538 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/databases.yml:82
2016-09-25 23:28:25,729 p=23363 u=tie |  skipping: [the_tale] => (item={u'citext': False, u'name': u'the-tale', u'uuid_ossp': True, u'hstore': True})  => {"changed": false, "item": {"citext": false, "hstore": true, "name": "the-tale", "uuid_ossp": true}, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:25,744 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | Update the user privileges] ***************
2016-09-25 23:28:25,745 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/users_privileges.yml:3
2016-09-25 23:28:25,848 p=23363 u=tie |  TASK [ANXS.postgresql : PostgreSQL | (Monit) Copy the postgresql monit service file] ***
2016-09-25 23:28:25,848 p=23363 u=tie |  task path: /etc/ansible/roles/ANXS.postgresql/tasks/monit.yml:3
2016-09-25 23:28:25,961 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:25,976 p=23363 u=tie |  PLAY [configure nginx] *********************************************************
2016-09-25 23:28:26,021 p=23363 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:28:26,913 p=23363 u=tie |  ok: [the_tale]
2016-09-25 23:28:26,922 p=23363 u=tie |  TASK [geerlingguy.nginx : Include OS-specific variables.] **********************
2016-09-25 23:28:26,922 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:3
2016-09-25 23:28:26,985 p=23363 u=tie |  ok: [the_tale] => {"ansible_facts": {"__nginx_user": "www-data", "nginx_conf_file_path": "/etc/nginx/nginx.conf", "nginx_conf_path": "/etc/nginx/conf.d", "nginx_default_vhost_path": "/etc/nginx/sites-enabled/default", "nginx_mime_file_path": "/etc/nginx/mime.types", "nginx_pidfile": "/run/nginx.pid", "nginx_vhost_path": "/etc/nginx/sites-enabled", "root_group": "root"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:28:26,993 p=23363 u=tie |  TASK [geerlingguy.nginx : Define nginx_user.] **********************************
2016-09-25 23:28:26,993 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:6
2016-09-25 23:28:27,053 p=23363 u=tie |  ok: [the_tale] => {"ansible_facts": {"nginx_user": "www-data"}, "changed": false, "invocation": {"module_args": {"nginx_user": "www-data"}, "module_name": "set_fact"}}
2016-09-25 23:28:27,061 p=23363 u=tie |  TASK [geerlingguy.nginx : Enable nginx repo.] **********************************
2016-09-25 23:28:27,061 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:2
2016-09-25 23:28:27,122 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:27,130 p=23363 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:28:27,130 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml:10
2016-09-25 23:28:27,173 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:27,182 p=23363 u=tie |  TASK [geerlingguy.nginx : Add PPA for Nginx.] **********************************
2016-09-25 23:28:27,182 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:2
2016-09-25 23:28:27,246 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:27,255 p=23363 u=tie |  TASK [geerlingguy.nginx : Ensure nginx will reinstall if the PPA was just added.] ***
2016-09-25 23:28:27,255 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Ubuntu.yml:10
2016-09-25 23:28:27,320 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:27,333 p=23363 u=tie |  TASK [geerlingguy.nginx : Update apt cache.] ***********************************
2016-09-25 23:28:27,333 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:2
2016-09-25 23:28:27,999 p=23363 u=tie |  ok: [the_tale] => {"cache_update_time": 1474833087, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": 86400, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": null, "purge": false, "state": "present", "update_cache": true, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:28:28,007 p=23363 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:28:28,007 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-Debian.yml:5
2016-09-25 23:28:28,658 p=23363 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": "", "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "nginx", "only_upgrade": false, "package": ["nginx"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:28:28,666 p=23363 u=tie |  TASK [geerlingguy.nginx : Update pkg cache.] ***********************************
2016-09-25 23:28:28,666 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:2
2016-09-25 23:28:28,713 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:28,722 p=23363 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is installed.] **************************
2016-09-25 23:28:28,723 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:5
2016-09-25 23:28:28,770 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:28,780 p=23363 u=tie |  TASK [geerlingguy.nginx : Create logs directory.] ******************************
2016-09-25 23:28:28,780 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/setup-FreeBSD.yml:10
2016-09-25 23:28:28,828 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:28,837 p=23363 u=tie |  TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ***
2016-09-25 23:28:28,837 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:2
2016-09-25 23:28:29,111 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled/default", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "absent", "validate": null}, "module_name": "file"}, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2016-09-25 23:28:29,118 p=23363 u=tie |  TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] *********************
2016-09-25 23:28:29,118 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:9
2016-09-25 23:28:29,392 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled"}, "before": {"path": "/etc/nginx/sites-enabled"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/etc/nginx/sites-enabled", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": "directory", "validate": null}, "module_name": "file"}, "mode": "0755", "owner": "root", "path": "/etc/nginx/sites-enabled", "size": 4096, "state": "directory", "uid": 0}
2016-09-25 23:28:29,399 p=23363 u=tie |  TASK [geerlingguy.nginx : Add managed vhost config file (if any vhosts are configured).] ***
2016-09-25 23:28:29,400 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:15
2016-09-25 23:28:29,978 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}, "before": {"path": "/etc/nginx/sites-enabled/vhosts.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/sites-enabled/vhosts.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "vhosts.j2", "owner": null, "path": "/etc/nginx/sites-enabled/vhosts.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/sites-enabled/vhosts.conf", "size": 139, "state": "file", "uid": 0}
2016-09-25 23:28:29,987 p=23363 u=tie |  TASK [geerlingguy.nginx : Remove managed vhost config file (if no vhosts are configured).] ***
2016-09-25 23:28:29,987 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/vhosts.yml:23
2016-09-25 23:28:30,058 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:30,070 p=23363 u=tie |  TASK [geerlingguy.nginx : Copy nginx configuration in place.] ******************
2016-09-25 23:28:30,071 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:28
2016-09-25 23:28:30,609 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/nginx/nginx.conf"}, "before": {"path": "/etc/nginx/nginx.conf"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/nginx/nginx.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": "root", "mode": 420, "original_basename": "nginx.conf.j2", "owner": "root", "path": "/etc/nginx/nginx.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "root", "path": "/etc/nginx/nginx.conf", "size": 838, "state": "file", "uid": 0}
2016-09-25 23:28:30,617 p=23363 u=tie |  TASK [geerlingguy.nginx : Ensure nginx is started and enabled to start at boot.] ***
2016-09-25 23:28:30,617 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.nginx/tasks/main.yml:38
2016-09-25 23:28:30,984 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "nginx", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "nginx", "state": "started"}
2016-09-25 23:28:30,999 p=23363 u=tie |  PLAY [configure redis] *********************************************************
2016-09-25 23:28:31,019 p=23363 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:28:31,867 p=23363 u=tie |  ok: [the_tale]
2016-09-25 23:28:31,877 p=23363 u=tie |  TASK [geerlingguy.redis : Include OS-specific variables.] **********************
2016-09-25 23:28:31,879 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:3
2016-09-25 23:28:31,930 p=23363 u=tie |  ok: [the_tale] => {"ansible_facts": {"__redis_package": "redis-server", "redis_conf_path": "/etc/redis/redis.conf", "redis_daemon": "redis-server"}, "changed": false, "invocation": {"module_args": {"_raw_params": "Debian.yml"}, "module_name": "include_vars"}}
2016-09-25 23:28:31,938 p=23363 u=tie |  TASK [geerlingguy.redis : Define redis_package.] *******************************
2016-09-25 23:28:31,938 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:6
2016-09-25 23:28:31,985 p=23363 u=tie |  ok: [the_tale] => {"ansible_facts": {"redis_package": "redis-server"}, "changed": false, "invocation": {"module_args": {"redis_package": "redis-server"}, "module_name": "set_fact"}}
2016-09-25 23:28:31,994 p=23363 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:28:31,994 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-RedHat.yml:2
2016-09-25 23:28:32,050 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:32,058 p=23363 u=tie |  TASK [geerlingguy.redis : Ensure Redis is installed.] **************************
2016-09-25 23:28:32,058 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/setup-Debian.yml:2
2016-09-25 23:28:32,751 p=23363 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "name": "redis-server", "only_upgrade": false, "package": ["redis-server"], "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:28:32,759 p=23363 u=tie |  TASK [geerlingguy.redis : Ensure Redis is configured.] *************************
2016-09-25 23:28:32,759 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:18
2016-09-25 23:28:33,311 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {"after": {"path": "/etc/redis/redis.conf"}, "before": {"path": "/etc/redis/redis.conf"}}, "gid": 119, "group": "redis", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/etc/redis/redis.conf", "diff_peek": null, "directory_mode": null, "follow": true, "force": false, "group": null, "mode": 420, "original_basename": "redis.conf.j2", "owner": null, "path": "/etc/redis/redis.conf", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": null, "state": null, "validate": null}}, "mode": "0644", "owner": "redis", "path": "/etc/redis/redis.conf", "size": 561, "state": "file", "uid": 113}
2016-09-25 23:28:33,324 p=23363 u=tie |  TASK [geerlingguy.redis : Ensure Redis is running and enabled on boot.] ********
2016-09-25 23:28:33,324 p=23363 u=tie |  task path: /etc/ansible/roles/geerlingguy.redis/tasks/main.yml:25
2016-09-25 23:28:33,661 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "enabled": true, "invocation": {"module_args": {"arguments": "", "enabled": true, "name": "redis-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "redis-server", "state": "started"}
2016-09-25 23:28:33,676 p=23363 u=tie |  PLAY [configure rabbitmq] ******************************************************
2016-09-25 23:28:33,734 p=23363 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:28:34,593 p=23363 u=tie |  ok: [the_tale]
2016-09-25 23:28:34,602 p=23363 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ key] **************************************
2016-09-25 23:28:34,602 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:3
2016-09-25 23:28:35,143 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"data": null, "file": null, "id": "6026DFCA", "key": null, "keyring": null, "keyserver": null, "state": "present", "url": "https://www.rabbitmq.com/rabbitmq-release-signing-key.asc", "validate_certs": true}, "module_name": "apt_key"}}
2016-09-25 23:28:35,152 p=23363 u=tie |  TASK [Stouts.rabbitmq : Add RabbitMQ repository] *******************************
2016-09-25 23:28:35,152 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:6
2016-09-25 23:28:35,622 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "diff": {}, "invocation": {"module_args": {"filename": null, "install_python_apt": true, "mode": null, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present", "update_cache": true, "validate_certs": true}, "module_name": "apt_repository"}, "repo": "deb http://www.rabbitmq.com/debian/ testing main", "state": "present"}
2016-09-25 23:28:35,630 p=23363 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is installed] **************************
2016-09-25 23:28:35,630 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.deb.yml:9
2016-09-25 23:28:36,297 p=23363 u=tie |  ok: [the_tale] => {"cache_update_time": 0, "cache_updated": false, "changed": false, "invocation": {"module_args": {"allow_unauthenticated": false, "autoremove": false, "cache_valid_time": null, "deb": null, "default_release": null, "dpkg_options": "force-confdef,force-confold", "force": false, "install_recommends": null, "only_upgrade": false, "package": ["rabbitmq-server"], "pkg": "rabbitmq-server", "purge": false, "state": "present", "update_cache": false, "upgrade": null}, "module_name": "apt"}}
2016-09-25 23:28:36,306 p=23363 u=tie |  TASK [Stouts.rabbitmq : Install Erlang] ****************************************
2016-09-25 23:28:36,306 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:3
2016-09-25 23:28:36,390 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:36,405 p=23363 u=tie |  TASK [Stouts.rabbitmq : Import RabbitMQ key] ***********************************
2016-09-25 23:28:36,406 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:6
2016-09-25 23:28:36,510 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:36,518 p=23363 u=tie |  TASK [Stouts.rabbitmq : Download RMQ package] **********************************
2016-09-25 23:28:36,518 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:9
2016-09-25 23:28:36,607 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:36,616 p=23363 u=tie |  TASK [Stouts.rabbitmq : Install RabbitMQ] **************************************
2016-09-25 23:28:36,616 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/install.yum.yml:12
2016-09-25 23:28:36,693 p=23363 u=tie |  skipping: [the_tale] => {"changed": false, "skip_reason": "Conditional check failed", "skipped": true}
2016-09-25 23:28:36,701 p=23363 u=tie |  TASK [Stouts.rabbitmq : Ensure RabbitMQ is running] ****************************
2016-09-25 23:28:36,702 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:9
2016-09-25 23:28:37,023 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "invocation": {"module_args": {"arguments": "", "enabled": null, "name": "rabbitmq-server", "pattern": null, "runlevel": "default", "sleep": null, "state": "started"}, "module_name": "service"}, "name": "rabbitmq-server", "state": "started"}
2016-09-25 23:28:37,032 p=23363 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is removed] ***************************
2016-09-25 23:28:37,032 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:12
2016-09-25 23:28:38,694 p=23363 u=tie |  ok: [the_tale] => (item=guest) => {"changed": false, "invocation": {"module_args": {"configure_priv": "^$", "force": false, "node": null, "password": null, "permissions": [{"configure_priv": "^$", "read_priv": "^$", "vhost": "/", "write_priv": "^$"}], "read_priv": "^$", "state": "absent", "tags": null, "user": "guest", "vhost": "/", "write_priv": "^$"}, "module_name": "rabbitmq_user"}, "item": "guest", "state": "absent", "user": "guest"}
2016-09-25 23:28:38,711 p=23363 u=tie |  TASK [Stouts.rabbitmq : Ensure the vhosts is present] **************************
2016-09-25 23:28:38,711 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:16
2016-09-25 23:28:40,490 p=23363 u=tie |  ok: [the_tale] => (item=/the-tale) => {"changed": false, "invocation": {"module_args": {"name": "/the-tale", "node": "rabbit", "state": "present", "tracing": false}, "module_name": "rabbitmq_vhost"}, "item": "/the-tale", "name": "/the-tale", "state": "present"}
2016-09-25 23:28:40,504 p=23363 u=tie |  TASK [Stouts.rabbitmq : Ensure the users is present] ***************************
2016-09-25 23:28:40,504 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:20
2016-09-25 23:28:43,358 p=23363 u=tie |  ok: [the_tale] => (item={u'vhost': u'/the-tale', u'read_priv': u'.*', u'write_priv': u'.*', u'user': u'the-tale', u'configure_priv': u'.*', u'password': u'the-tale'}) => {"changed": false, "invocation": {"module_args": {"configure_priv": ".*", "force": false, "node": null, "password": "the-tale", "permissions": [{"configure_priv": ".*", "read_priv": ".*", "vhost": "/the-tale", "write_priv": ".*"}], "read_priv": ".*", "state": "present", "tags": "", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "module_name": "rabbitmq_user"}, "item": {"configure_priv": ".*", "password": "the-tale", "read_priv": ".*", "user": "the-tale", "vhost": "/the-tale", "write_priv": ".*"}, "state": "present", "user": "the-tale"}
2016-09-25 23:28:43,369 p=23363 u=tie |  TASK [Stouts.rabbitmq : Symlink RabbitMQ bin to sbin] **************************
2016-09-25 23:28:43,369 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:31
2016-09-25 23:28:43,657 p=23363 u=tie |  ok: [the_tale] => {"changed": false, "dest": "/usr/lib/rabbitmq/sbin", "diff": {"after": {"path": "/usr/lib/rabbitmq/sbin"}, "before": {"path": "/usr/lib/rabbitmq/sbin"}}, "gid": 0, "group": "root", "invocation": {"module_args": {"backup": null, "content": null, "delimiter": null, "dest": "/usr/lib/rabbitmq/sbin", "diff_peek": null, "directory_mode": null, "follow": false, "force": false, "group": null, "mode": null, "original_basename": null, "owner": null, "path": "/usr/lib/rabbitmq/sbin", "recurse": false, "regexp": null, "remote_src": null, "selevel": null, "serole": null, "setype": null, "seuser": null, "src": "/usr/lib/rabbitmq/bin", "state": "link", "validate": null}, "module_name": "file"}, "mode": "0777", "owner": "root", "size": 21, "src": "/usr/lib/rabbitmq/bin", "state": "link", "uid": 0}
2016-09-25 23:28:43,666 p=23363 u=tie |  TASK [Stouts.rabbitmq : Enable the plugins is installed] ***********************
2016-09-25 23:28:43,666 p=23363 u=tie |  task path: /etc/ansible/roles/Stouts.rabbitmq/tasks/rabbitmq.yml:34
2016-09-25 23:28:43,753 p=23363 u=tie |  PLAY [install The Tale] ********************************************************
2016-09-25 23:28:43,762 p=23363 u=tie |  TASK [setup] *******************************************************************
2016-09-25 23:28:44,580 p=23363 u=tie |  ok: [the_tale]
2016-09-25 23:28:44,589 p=23363 u=tie |  TASK [user] ********************************************************************
2016-09-25 23:28:44,589 p=23363 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:87
2016-09-25 23:28:45,042 p=23363 u=tie |  ok: [the_tale] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/the-tale", "invocation": {"module_args": {"append": false, "comment": null, "createhome": true, "expires": null, "force": false, "generate_ssh_key": null, "group": null, "groups": null, "home": null, "login_class": null, "move_home": false, "name": "the-tale", "non_unique": false, "password": null, "remove": false, "seuser": null, "shell": null, "skeleton": null, "ssh_key_bits": "2048", "ssh_key_comment": "ansible-generated on local", "ssh_key_file": null, "ssh_key_passphrase": null, "ssh_key_type": "rsa", "state": "present", "system": false, "uid": null, "update_password": "always"}, "module_name": "user"}, "move_home": false, "name": "the-tale", "shell": "", "state": "present", "uid": 1001}
2016-09-25 23:28:45,053 p=23363 u=tie |  TASK [pip] *********************************************************************
2016-09-25 23:28:45,054 p=23363 u=tie |  task path: /home/tie/repos/mine/the-tale/deploy/official/provisioning/game_server.yml:88
2016-09-25 23:28:53,264 p=23363 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/dext/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/dext/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/dext/"}, "name": "/mnt/repos/dext/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/dext\n  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)\n", "stdout_lines": ["Processing /mnt/repos/dext", "  Requirement already satisfied (use --upgrade to upgrade): Dext==0.3.0 from file:///mnt/repos/dext in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): Django>=1.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2>=2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from Dext==0.3.0)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:07,555 p=23363 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/deworld/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/deworld/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/deworld/"}, "name": "/mnt/repos/deworld/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/deworld\n  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/deworld", "  Requirement already satisfied (use --upgrade to upgrade): DeWorld==0.2.0 from file:///mnt/repos/deworld in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:10,037 p=23363 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/rels/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/rels/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/rels/"}, "name": "/mnt/repos/rels/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/rels\n  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/rels", "  Requirement already satisfied (use --upgrade to upgrade): Rels==0.2.2.2 from file:///mnt/repos/rels in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:14,620 p=23363 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/pynames/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/pynames/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/pynames/"}, "name": "/mnt/repos/pynames/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/pynames\n  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages\nRequirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)\n", "stdout_lines": ["Processing /mnt/repos/pynames", "  Requirement already satisfied (use --upgrade to upgrade): Pynames==0.2.1 from file:///mnt/repos/pynames in /home/the-tale/current/venv/lib/python3.5/site-packages", "Requirement already satisfied (use --upgrade to upgrade): six in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv in /home/the-tale/current/venv/lib/python3.5/site-packages (from Pynames==0.2.1)"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:19,447 p=23363 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/utg/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/utg/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/utg/"}, "name": "/mnt/repos/utg/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/utg\n  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/utg", "  Requirement already satisfied (use --upgrade to upgrade): UTG==0.2.0 from file:///mnt/repos/utg in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:21,926 p=23363 u=tie |  ok: [the_tale] => (item={u'name': u'/mnt/repos/questgen/'}) => {"changed": false, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/questgen/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/questgen/"}, "name": "/mnt/repos/questgen/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/questgen\n  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages\n", "stdout_lines": ["Processing /mnt/repos/questgen", "  Requirement already satisfied (use --upgrade to upgrade): Questgen==0.3.0 from file:///mnt/repos/questgen in /home/the-tale/current/venv/lib/python3.5/site-packages"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:45,566 p=23363 u=tie |  changed: [the_tale] => (item={u'name': u'/mnt/repos/the-tale/src/the_tale/'}) => {"changed": true, "cmd": "/home/the-tale/current/venv/bin/pip install /mnt/repos/the-tale/src/the_tale/", "invocation": {"module_args": {"chdir": null, "editable": true, "executable": null, "extra_args": null, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "umask": null, "use_mirrors": true, "version": null, "virtualenv": "/home/the-tale/current/venv", "virtualenv_command": "virtualenv", "virtualenv_python": "python3.5", "virtualenv_site_packages": false}, "module_name": "pip"}, "item": {"name": "/mnt/repos/the-tale/src/the_tale/"}, "name": "/mnt/repos/the-tale/src/the_tale/", "requirements": null, "state": "present", "stderr": "", "stdout": "Processing /mnt/repos/the-tale/src/the_tale\nRequirement already satisfied (use --upgrade to upgrade): Django==1.9.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): Jinja2==2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.2 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): kombu==3.0.35 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): postmarkup==1.2.2 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): markdown==2.2.0 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): xlrd==0.8.0 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): mock==1.0b1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nCollecting MarkupSafe==0.15 (from TheTale==0.3.22.1)\nCollecting boto3==1.4.0 (from TheTale==0.3.22.1)\n  Using cached boto3-1.4.0-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): unicodecsv==0.14.1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): amqp<2.0,>=1.4.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from kombu==3.0.35->TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): anyjson>=0.3.3 in /home/the-tale/current/venv/lib/python3.5/site-packages (from kombu==3.0.35->TheTale==0.3.22.1)\nRequirement already satisfied (use --upgrade to upgrade): setuptools in /home/the-tale/current/venv/lib/python3.5/site-packages (from postmarkup==1.2.2->TheTale==0.3.22.1)\nCollecting jmespath<1.0.0,>=0.7.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached jmespath-0.9.0-py2.py3-none-any.whl\nCollecting s3transfer<0.2.0,>=0.1.0 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached s3transfer-0.1.4-py2.py3-none-any.whl\nCollecting botocore<1.5.0,>=1.4.1 (from boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached botocore-1.4.56-py2.py3-none-any.whl\nCollecting python-dateutil<3.0.0,>=2.1 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached python_dateutil-2.5.3-py2.py3-none-any.whl\nCollecting docutils>=0.10 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\n  Using cached docutils-0.12-py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): six>=1.5 in /home/the-tale/current/venv/lib/python3.5/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)\nInstalling collected packages: MarkupSafe, jmespath, python-dateutil, docutils, botocore, s3transfer, boto3, TheTale\n  Found existing installation: MarkupSafe 0.23\n    Uninstalling MarkupSafe-0.23:\n      Successfully uninstalled MarkupSafe-0.23\n  Running setup.py install for TheTale: started\n    Running setup.py install for TheTale: finished with status 'done'\nSuccessfully installed MarkupSafe-0.15 TheTale-0.3.22.1 boto3-1.4.0 botocore-1.4.56 docutils-0.12 jmespath-0.9.0 python-dateutil-2.5.3 s3transfer-0.1.4\n", "stdout_lines": ["Processing /mnt/repos/the-tale/src/the_tale", "Requirement already satisfied (use --upgrade to upgrade): Django==1.9.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): Jinja2==2.6 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): psycopg2==2.6.2 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): kombu==3.0.35 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): postmarkup==1.2.2 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): markdown==2.2.0 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): xlrd==0.8.0 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): mock==1.0b1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Collecting MarkupSafe==0.15 (from TheTale==0.3.22.1)", "Collecting boto3==1.4.0 (from TheTale==0.3.22.1)", "  Using cached boto3-1.4.0-py2.py3-none-any.whl", "Requirement already satisfied (use --upgrade to upgrade): unicodecsv==0.14.1 in /home/the-tale/current/venv/lib/python3.5/site-packages (from TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): amqp<2.0,>=1.4.9 in /home/the-tale/current/venv/lib/python3.5/site-packages (from kombu==3.0.35->TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): anyjson>=0.3.3 in /home/the-tale/current/venv/lib/python3.5/site-packages (from kombu==3.0.35->TheTale==0.3.22.1)", "Requirement already satisfied (use --upgrade to upgrade): setuptools in /home/the-tale/current/venv/lib/python3.5/site-packages (from postmarkup==1.2.2->TheTale==0.3.22.1)", "Collecting jmespath<1.0.0,>=0.7.1 (from boto3==1.4.0->TheTale==0.3.22.1)", "  Using cached jmespath-0.9.0-py2.py3-none-any.whl", "Collecting s3transfer<0.2.0,>=0.1.0 (from boto3==1.4.0->TheTale==0.3.22.1)", "  Using cached s3transfer-0.1.4-py2.py3-none-any.whl", "Collecting botocore<1.5.0,>=1.4.1 (from boto3==1.4.0->TheTale==0.3.22.1)", "  Using cached botocore-1.4.56-py2.py3-none-any.whl", "Collecting python-dateutil<3.0.0,>=2.1 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)", "  Using cached python_dateutil-2.5.3-py2.py3-none-any.whl", "Collecting docutils>=0.10 (from botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)", "  Using cached docutils-0.12-py3-none-any.whl", "Requirement already satisfied (use --upgrade to upgrade): six>=1.5 in /home/the-tale/current/venv/lib/python3.5/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.5.0,>=1.4.1->boto3==1.4.0->TheTale==0.3.22.1)", "Installing collected packages: MarkupSafe, jmespath, python-dateutil, docutils, botocore, s3transfer, boto3, TheTale", "  Found existing installation: MarkupSafe 0.23", "    Uninstalling MarkupSafe-0.23:", "      Successfully uninstalled MarkupSafe-0.23", "  Running setup.py install for TheTale: started", "    Running setup.py install for TheTale: finished with status 'done'", "Successfully installed MarkupSafe-0.15 TheTale-0.3.22.1 boto3-1.4.0 botocore-1.4.56 docutils-0.12 jmespath-0.9.0 python-dateutil-2.5.3 s3transfer-0.1.4"], "version": null, "virtualenv": "/home/the-tale/current/venv"}
2016-09-25 23:29:45,574 p=23363 u=tie |  PLAY RECAP *********************************************************************
2016-09-25 23:29:45,574 p=23363 u=tie |  the_tale                   : ok=54   changed=1    unreachable=0    failed=0   
