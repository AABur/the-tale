# -*- coding: utf-8 -*-
# Generated by Django 1.10.2 on 2018-03-18 12:20
from __future__ import unicode_literals

import json

from django.db import migrations


MATERIALS = {
    390: 10,
    373: 5,
    267: 1,
    265: 4,
    142: 3,
    296: 1,
    199: 5,
    388: 10,
    138: 3,
    192: 5,
    260: 5,
    182: 3,
    306: 24,
    220: 19,
    201: 10,
    61: 21,
    68: 10,
    263: 5,
    370: 19,
    20: 2,
    35: 19,
    22: 10,
    327: 23,
    314: 2,
    33: 10,
    3: 19,
    27: 10,
    349: 23,
    320: 18,
    268: 4,
    277: 24,
    333: 3,
    12: 9,
    62: 2,
    58: 5,
    330: 15,
    43: 11,
    39: 15,
    9: 3,
    372: 4,
    361: 4,
    21: 9,
    63: 24,
    30: 10,
    152: 25,
    328: 1,
    300: 8,
    49: 2,
    10: 8,
    46: 2,
    66: 10,
    59: 1,
    345: 24,
    13: 24,
    212: 18,
    376: 18,
    162: 10,
    192: 8,
    194: 22,
    249: 13,
    336: 10,
    6: 1,
    226: 10,
    278: 2,
    23: 15,
    67: 2,
    304: 19,
    161: 1,
    28: 15,
    18: 8,
    313: 2,
    26: 3,
    157: 10,
    52: 2,
    284: 16,
    322: 21,
    70: 2,
    347: 1,
    303: 23,
    41: 19,
    315: 19,
    228: 10,
    140: 23,
    256: 23,
    60: 10,
    188: 23,
    31: 19,
    37: 10,
    222: 10,
    215: 10,
    272: 23,
    335: 10,
    258: 10,
    210: 10,
    240: 10,
    254: 23,
    155: 1,
    282: 23,
    56: 23,
    19: 23,
    275: 10,
    299: 23,
    164: 24,
    250: 5,
    53: 23,
    317: 10,
    356: 10,
    206: 10,
    42: 10,
    144: 10,
    32: 10,
    4: 10,
    17: 19,
    242: 21,
    69: 2,
    366: 21,
    252: 10,
    7: 19,
    34: 12,
    55: 10,
    29: 10,
    281: 10,
    1: 19,
    236: 23,
    50: 2,
    36: 10,
    244: 10,
    64: 10,
    271: 23,
    25: 10,
    203: 10,
    294: 10,
    359: 8,
    357: 23,
    338: 10,
    2: 14,
    234: 10,
    239: 14,
    354: 10,
    24: 10,
    247: 10,
    190: 2,
    168: 2,
    186: 2,
    324: 2,
    196: 24,
    217: 3,
    174: 2,
    178: 2,
    170: 17,
    176: 1,
    319: 2,
    180: 2,
    172: 20,
    184: 2}


def fill_materials(apps, schema_editor):
    Artifact = apps.get_model("artifacts", "ArtifactRecord")

    for artifact in Artifact.objects.all().iterator():
        if artifact.id not in MATERIALS:
            continue

        data = json.loads(artifact.data)

        data['material'] = MATERIALS[artifact.id]

        artifact.data = json.dumps(data)

        artifact.save()


class Migration(migrations.Migration):

    dependencies = [
        ('artifacts', '0003_remove_invalid_energy_effects'),
    ]

    operations = [
        migrations.RunPython(
            fill_materials,
        ),
    ]
